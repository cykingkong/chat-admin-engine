import{u as a,v as e,i as t,_ as l}from"./index.a302575e.js";/* empty css                *//* empty css                *//* empty css                *//* empty css              *//* empty css               *//* empty css              *//* empty css               */import{d as o,b6 as i,f as s,o as n,b_ as u,w as d,aH as c,D as r,E as p,aK as m,aJ as v,H as y,aP as g,u as f,aM as h,aL as x,F as b,aO as _,aF as Y,aG as k,G as D,bq as w,c2 as q,bl as M,ce as j,c3 as C,cf as S,bK as T,b9 as B,ba as I,a$ as F,b0 as G,cg as H}from"./arco.0e1801a1.js";import{h as P,f as L}from"./vue.6618b53d.js";import{u as O}from"./loading.4d3258a0.js";import{u as V}from"./themes.dd6e2da4.js";import{l as E,p as R,a as A,m as N}from"./dashboard.56bee68f.js";import"./chart.b4fe0742.js";const z=a=>(B("data-v-d7099110"),a=a(),I(),a),$={class:"container"},K={class:"date"},U={class:"flexBox"},X={style:{"margin-right":"10px"},class:"dnm"},J={class:"datePickBox"},Q=["onClick"],W={class:"dataTf"},Z=z((()=>y("div",{class:"title"},"投放数据 ",-1))),aa={class:"dataTypeBox"},ea=["onClick"],ta={class:"upai_card"},la={class:"infoBox"},oa={class:"topBox"},ia={class:"infoTitle"},sa={class:"num"},na={key:0,class:"rmb"},ua={class:"bottomNum"},da={class:"dataXD"},ca=z((()=>y("div",{class:"title"}," 数据概览 ",-1))),ra=z((()=>y("div",{class:"titleTag",style:{margin:"0px 0 16px"}}," 小店数据 ",-1))),pa={class:"upai_card"},ma={class:"infoBox"},va={class:"topBox"},ya={class:"infoTitle2"},ga={class:"num",style:{"padding-left":"22px"}},fa={key:0,class:"rmb"},ha=z((()=>y("div",{class:"titleTag",style:{margin:"0px 0 16px"}}," 账号数据 ",-1))),xa={class:"upai_card"},ba={class:"infoBox"},_a={class:"topBox"},Ya={class:"infoTitle2"},ka={class:"num",style:{"padding-left":"22px"}},Da={key:0,class:"rmb"},wa=l(o({__name:"index",setup(l){i((a=>({"08818a6c":Fa.value,fadd6d56:Ia.value})));const o=a(),B=s(-1),I=s(o.$state.guidance),z=[{},{element:".dataTf",title:"投放数据",body:"关键数据一目了然，实时查看投产效果",placement:"top-right",highlightPadding:8},{element:".dataXD",title:"数据概览",body:"展示小店数据，方便洞察经营，协助投流方案优化",placement:"top-right",highlightPadding:8},{element:".dataGL",title:"账号数据",body:"展示账号数据，协助商家进行账号管理",placement:"bottom-right",highlightPadding:8}],wa=s(0),qa=()=>{I.value=o.$state.guidance,0===I.value&&"1"===localStorage.getItem("GuideStep")?B.value=1:setTimeout((()=>{qa()}),800)},Ma=async()=>{B.value=-1,localStorage.setItem("needGuide","false"),await t({guidance:1}),await o.info(),localStorage.setItem("GuideStep","-1")},ja=P();n((()=>{qa()}));const Ca=s(0),Sa=[{label:"当日",value:[u().startOf("day").format("YYYY-MM-DD"),u().format("YYYY-MM-DD")]},{label:"昨日",value:[u().add(-1,"day").format("YYYY-MM-DD"),u().add(-1,"day").format("YYYY-MM-DD")]},{label:"近一周",value:[u().add(-1,"week").format("YYYY-MM-DD"),u().add(-1,"day").format("YYYY-MM-DD")]},{label:"近一月",value:[u().add(-1,"month").format("YYYY-MM-DD"),u().add(-1,"day").format("YYYY-MM-DD")]},{label:"本月",value:[u().startOf("month").format("YYYY-MM-DD"),u().format("YYYY-MM-DD")]}],Ta=async()=>{await t({guidance:1}),await o.info(),localStorage.setItem("GuideStep","-1")},Ba=s(0);s(0);const Ia=s("#ff330026"),Fa=s("#ff3300"),Ga=s([{label:"短视频"},{label:"直播间"}]),Ha=s([{title:"账户数据",numList:[{t:"在线投放号",key:"onlineAccount",url:"https://img.adyinqing.com/upai_shop/sqolvvco1676629138552",n:0,color:""},{t:"在线被投号",url:"https://img.adyinqing.com/upai_shop/9vefp7lc1676629138525",n:0,key:"onlineAccountBack"},{t:"即将掉线",url:"https://img.adyinqing.com/upai_shop/sqolvvco1676629138552",n:0,key:"onlineAccountLeave"},{t:"已离线",url:"https://img.adyinqing.com/upai_shop/9vefp7lc1676629138525",n:0,key:"onlineAccountLeaveEd"},{t:"总余额",key:"accountBalance",url:"https://img.adyinqing.com/upai_shop/sqolvvco1676629138552",n:0},{t:"加热中计划数",url:"https://img.adyinqing.com/upai_shop/9vefp7lc1676629138525",n:0,key:"hotPlant"},{t:"加热中视频数",url:"https://img.adyinqing.com/upai_shop/sqolvvco1676629138552",n:0,key:"hotVideo"},{t:"加热中商品数",url:"https://img.adyinqing.com/upai_shop/9vefp7lc1676629138525",key:"hotGoods",n:0}]}]),Pa=s({startDate:u().format("YYYY-MM-DD").toString(),endDate:u().format("YYYY-MM-DD").toString(),dateType:2,merchantId:void 0});L(),ja.query.auth_code&&"1"===localStorage.getItem("waitReload")&&(localStorage.setItem("waitReload","2"),window.location.reload()),e.exports.useI18n();const{loading:La,setLoading:Oa}=O(!0);V();const Va=s([{title:"营收（元）",num:0,num2:0,type:!0,key:"productPlaceorderGmv",key2:"productPlaceorderGmvHb",url:"https://img.adyinqing.com/upai_shop/5dea827e1676628633698",show:!0},{title:"成交订单数",num:0,num2:0,type:!1,key:"productOrderCount",key2:"productOrderCountHb",url:"https://img.adyinqing.com/upai_shop/9phewe3x1676628682838",show:!0},{title:"消耗（元）",num:0,num2:0,type:!0,key:"cost",key2:"costHb",url:"https://img.adyinqing.com/upai_shop/39ttxfcp1676628721182",show:!0},{title:"投放ROI",num:0,num2:0,type:!0,key:"roi",key2:"roiHb",url:"https://img.adyinqing.com/upai_shop/ocdlgyo91676628747667",show:!0},{title:"佣金ROI",num:0,num2:0,type:!0,key:"yj_roi",key2:"yj_roiHb",url:"https://img.adyinqing.com/upai_shop/ocdlgyo91676628747667",show:!0},{title:"创建计划数",num:0,num2:0,type:!1,key:"plantCount",key2:"plantCountHb",url:"https://img.adyinqing.com/upai_shop/rga7r62i1676628796223",show:!0},{title:"发布视频数",num:0,num2:0,type:!1,key:"videoCount",key2:"videoCountHb",url:"https://img.adyinqing.com/upai_shop/doafszco1676628817070",show:!0}]);d(Va.value,((a,e)=>{1===wa.value?Va.value[6].show=!1:Va.value[6].show=!0}));const Ea=s([]),Ra=s([{t:"成交金额（元）",key:"dealPrice",url:"https://img.adyinqing.com/upai_shop/sqolvvco1676629138552",n:0,color:"",type:2},{t:"成交订单数",key:"dealCount",url:"https://img.adyinqing.com/upai_shop/sqolvvco1676629138552",n:0,color:"",type:1},{t:"下单金额（元）",key:"orderPrice",url:"https://img.adyinqing.com/upai_shop/sqolvvco1676629138552",n:0,color:"",type:2},{t:"下单订单数",key:"orderCount",url:"https://img.adyinqing.com/upai_shop/sqolvvco1676629138552",n:0,color:"",type:1},{t:"支付转化率",key:"transformRate",url:"https://img.adyinqing.com/upai_shop/sqolvvco1676629138552",n:void 0,color:"",type:3},{t:"小店ROI",key:"roi",url:"https://img.adyinqing.com/upai_shop/sqolvvco1676629138552",n:void 0,color:"",type:2}]),Aa=(a,e)=>{Ea.value=e},Na=a=>{const e=Ea.value;if(e&&e.length){const t=e[0]&&Math.abs((new Date(a)-e[0])/864e5)>30;return e[1]&&Math.abs((new Date(a)-e[1])/864e5)>30||t}return!1},za=async()=>{Oa(!0);try{if(wa.value){const{data:a}=await E(Pa.value);Va.value.forEach(((e,t)=>{e.num=a[e.key]||0,e.num2=a[e.key2]||0,6===t&&(e.show=!1)}))}else{const{data:a}=await R(Pa.value);Va.value.forEach(((e,t)=>{e.num=a[e.key]||0,e.num2=a[e.key2]||0,6===t&&(e.show=!0)}))}}catch(a){}finally{Oa(!1)}},$a=async()=>{Oa(!0);try{const{data:a}=await A({});Ha.value[Ba.value].numList.forEach((e=>{e.n=a[e.key]}))}catch(a){}finally{Oa(!1)}},Ka=async()=>{Oa(!0);try{const{data:a}=await N(Pa.value);Ra.value.forEach((e=>{"roi"===e.key?e.n=Number(a[e.key])>0?Number(Number(a[e.key]).toFixed(2)):0:e.n=a[e.key]?Number(a[e.key]):0}))}catch(a){}finally{Oa(!1)}};$a(),Ka(),za();s();const Ua=s(!1),Xa=a=>{a||(Ea.value=[])},Ja=a=>{Pa.value.startDate=a[0].toString(),Pa.value.endDate=a[1].toString(),Ua.value&&(Ua.value=!1),Ca.value=-10,za(),$a(),Ka()};return(a,e)=>{const t=c("t-guide"),l=w,o=q,i=c("t-option"),s=c("t-select"),n=M,d=j,I=C,P=S,L=H,O=c("icon-arrow-rise"),V=c("icon-arrow-fall"),E=T;return r(),p("div",null,[m(E,{loading:f(La),style:{width:"100%"}},{default:v((()=>[m(t,{modelValue:B.value,"onUpdate:modelValue":e[0]||(e[0]=a=>B.value=a),steps:z,"hide-prev":"","on-finish":Ta,"on-skip":Ma},null,8,["modelValue"]),y("div",$,[m(l,{direction:"vertical",fill:"",size:"medium"},{default:v((()=>[m(I,{align:"center",justify:"space-between"},{default:v((()=>[m(o,{flex:"293px"},{default:v((()=>[m(l,{size:22,align:"center"},{default:v((()=>[y("div",K,"更新时间："+g(f(u)().format("YYYY/M/DD HH:mm:ss")),1)])),_:1})])),_:1}),m(o,{flex:"589px"},{default:v((()=>[y("div",U,[y("div",X,[m(s,{modelValue:Pa.value.dateType,"onUpdate:modelValue":e[1]||(e[1]=a=>Pa.value.dateType=a),placeholder:"时间维度",style:{},class:"custom-select",onChange:e[2]||(e[2]=a=>(za(),void Ka()))},{default:v((()=>[m(i,{value:1,label:"创建时间"}),m(i,{value:2,label:"更新时间"})])),_:1},8,["modelValue"])]),y("div",J,[(r(),p(h,null,x(Sa,((a,e)=>y("div",{key:e,class:b(["btn",{active:Ca.value===e}]),onClick:a=>(a=>{a===Ca.value?(Ca.value=-1,Pa.value.startDate=u().format("YYYY-MM-DD"),Pa.value.endDate=u().format("YYYY-MM-DD"),Ua.value&&(Ua.value=!1,Ea.value=[]),za(),$a(),Ka()):5===a?(Ca.value=a,Ua.value=!0):(Ca.value=a,Ua.value&&(Ua.value=!1,Ea.value=[]),Pa.value.startDate=Sa[a].value[0].toString(),Pa.value.endDate=Sa[a].value[1].toString(),za(),$a(),Ka())})(e)},g(a.label),11,Q))),64)),m(d,{"default-value":[f(u)(),f(u)()],"shortcuts-position":"left",style:{width:"560px"},"disabled-date":Na,onSelect:Aa,onPopupVisibleChange:Xa,onChange:Ja},{default:v((()=>[m(n,{class:b(["btn zdy",{active:-10===Ca.value}])},{default:v((()=>[_(g("自定义"))])),_:1},8,["class"])])),_:1},8,["default-value"])])])])),_:1})])),_:1}),y("div",W,[m(I,{justify:"space-between",align:"center"},{default:v((()=>[m(o,null,{default:v((()=>[m(I,{align:"center",gutter:[8,0]},{default:v((()=>[m(o,{flex:"134px"},{default:v((()=>[Z])),_:1}),m(o,{flex:"185px"},{default:v((()=>[y("div",aa,[(r(!0),p(h,null,x(Ga.value,((a,e)=>(r(),p("div",{key:e,class:b(["dataType",wa.value===e?"dataActive":""]),onClick:a=>(a=>{wa.value=a,za()})(e)},g(a.label),11,ea)))),128))])])),_:1})])),_:1})])),_:1}),m(P,{style:{margin:"16px 0 16px"}})])),_:1}),Va.value.length?(r(),Y(I,{key:0,class:"grid-demo",gutter:[38.5,38.5],style:{"margin-bottom":"11px"}},{default:v((()=>[(r(!0),p(h,null,x(Va.value,((a,e)=>F((r(),Y(o,{key:e,span:6,lg:8,xxl:6,xl:8},{default:v((()=>[y("div",ta,[y("div",la,[y("div",oa,[y("div",ia,g(a.title),1),y("div",sa,[m(L,{value:a.num,precision:a.type?2:0,"value-style":{color:"#1F63F5"}},{prefix:v((()=>[0===e||2===e?(r(),p("div",na,"¥")):k("",!0)])),_:2},1032,["value","precision"])])]),y("div",ua,[_(" 昨日 "+g(Ca.value>=2?"- -":"")+" ",1),Ca.value<2?(r(),Y(L,{key:0,value:a.num2,precision:2,"value-style":{color:(a.num2,"#C7C7C7")}},{prefix:v((()=>[a.num2>0?(r(),Y(O,{key:0,style:{color:"#FD5700"}})):k("",!0),a.num2<=0?(r(),Y(V,{key:1,style:{color:"#00CF4D"}})):k("",!0)])),suffix:v((()=>[_(" % ")])),_:2},1032,["value","value-style"])):k("",!0)])])])])),_:2},1024)),[[G,a.show]]))),128))])),_:1})):k("",!0)]),y("div",da,[m(I,{justify:"space-between",align:"center"},{default:v((()=>[m(o,{flex:"126px"},{default:v((()=>[ca])),_:1}),m(P,{style:{margin:"16px 0 16px"}}),m(o,{flex:"88px"},{default:v((()=>[ra])),_:1})])),_:1}),m(I,{class:"grid-demo",gutter:[38.5,38.5],style:{"margin-bottom":"11px"}},{default:v((()=>[(r(!0),p(h,null,x(Ra.value,((a,e)=>(r(),Y(o,{key:e,span:6,lg:8,xxl:6,xl:8},{default:v((()=>[y("div",pa,[y("div",ma,[y("div",va,[y("div",ya,[y("span",{class:b(["sc",[e<=1?"bg0":"",2==e?"bg1":"",3==e?"bg2":"",4==e?"bg3":"",e>4?"bg4":""]])},null,2),_(" "+g(a.t),1)]),y("div",ga,[m(L,{value:a.n,precision:[2,3].includes(a.type)?2:0,"value-style":{color:"#1F63F5"}},{prefix:v((()=>[1===Ba.value?(r(),p("div",fa,"¥")):k("",!0)])),suffix:v((()=>[_(g(3===a.type?"%":""),1)])),_:2},1032,["value","precision"])])])])])])),_:2},1024)))),128))])),_:1})]),y("div",{class:"dataGL",style:D({paddingBottom:3===B.value?"550px":""})},[m(I,null,{default:v((()=>[m(o,{flex:"88px"},{default:v((()=>[ha])),_:1})])),_:1}),m(I,{class:"grid-demo",gutter:[38.5,38.5],style:{"margin-bottom":"11px"}},{default:v((()=>[(r(!0),p(h,null,x(Ha.value[Ba.value].numList,((a,e)=>(r(),Y(o,{key:e,span:6,lg:8,xxl:6,xl:8},{default:v((()=>[y("div",xa,[y("div",ba,[y("div",_a,[y("div",Ya,[y("span",{class:b(["sc",[e<=1?"bg0":"",2==e?"bg1":"",3==e?"bg2":"",4==e?"bg3":"",e>4?"bg4":""]])},null,2),_(" "+g(a.t),1)]),y("div",ka,[m(L,{value:a.n,precision:0,"value-style":{color:"#1F63F5"}},{prefix:v((()=>[1===Ba.value?(r(),p("div",Da,"¥")):k("",!0)])),_:2},1032,["value"])])])])])])),_:2},1024)))),128))])),_:1})],4)])),_:1})])])),_:1},8,["loading"])])}}}),[["__scopeId","data-v-d7099110"]]);export{wa as default};
