import{u as e,c as a,d as t,e as l,f as n,v as s,l as i,_ as o,m as u,g as c,h as d,R as r,D as m,r as p,i as v}from"./index.a302575e.js";import{F as g}from"./index.1df4b859.js";import{bk as f,c as h,d as b,f as y,aK as _,bC as k,aQ as x,h as w,bD as I,bq as C,aO as j,bE as S,bF as $,D,aF as L,aJ as q,E as T,aM as z,aL as M,G as P,H as E,aP as A,aG as B,bG as R,bH as O,bI as F,bJ as N,bK as U,bL as V,r as K,t as G,u as H,bl as J,bM as W,bN as Q,bO as X,bP as Y,i as Z,aH as ee,F as ae,bd as te,bQ as le,bR as ne,bS as se,bT as ie,bU as oe,b9 as ue,ba as ce,bV as de,bW as re,bX as me,w as pe,aU as ve,bY as ge,o as fe,aY as he,b as be,b7 as ye,bZ as _e,b1 as ke,b_ as xe,be as we,p as Ie,a$ as Ce,b0 as je,b$ as Se,bn as $e,c0 as De,c1 as Le}from"./arco.0e1801a1.js";import{f as qe,h as Te,i as ze,j as Me,k as Pe,l as Ee}from"./vue.6618b53d.js";/* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css              */import{r as Ae,o as Be}from"./index.7f4d565d.js";/* empty css                *//* empty css                *//* empty css                *//* empty css                */import{u as Re}from"./loading.4d3258a0.js";import{_ as Oe}from"./lodash.64978348.js";/* empty css                *//* empty css               *//* empty css                *//* empty css              *//* empty css                */import{a as Fe,r as Ne}from"./event.471a062e.js";import"./chart.b4fe0742.js";const Ue=[...a,...t].map((e=>{const{name:a,path:t,meta:l,redirect:n,children:s}=e;return{name:a,path:t,meta:l,redirect:n,children:s}}));const Ve=o(b({emit:["collapse"],setup(){const{t:a}=s.exports.useI18n();y(null);const t=n(),o=e(),u=qe(),c=Te(),{menuTree:d}=function(){const e=l(),a=n(),t=h((()=>a.menuFromServer?a.appAsyncMenus:Ue));return{menuTree:h((()=>{const a=JSON.parse(JSON.stringify(t.value));return a.sort(((e,a)=>(e.meta.order||0)-(a.meta.order||0))),function a(t,l){return t?t.map((t=>{var n,s;if(!e.accessRouter(t))return null;if((null==(n=t.meta)?void 0:n.hideChildrenInMenu)||!t.children)return t.children=[],t;t.children=t.children.filter((e=>{var a;return!0!==(null==(a=e.meta)?void 0:a.hideInMenu)}));const i=a(t.children,l+1);return i.length||l>1?(t.children=i,t):!1===(null==(s=t.meta)?void 0:s.hideInMenu)?t:null})).filter(Boolean):null}(a,0)}))}}(),r=h({get:()=>"desktop"===t.device&&t.menuCollapse,set(e){t.updateSettings({menuCollapse:e})}}),m=h((()=>t.topMenu)),p=y([]),v=y([]),g=e=>{if(Ae.test(e.path))return Be(e.path),void(v.value=[e.name]);const{hideInMenu:a,activeMenu:t}=e.meta;c.name!==e.name||a||t?u.push({name:e.name}):v.value=[e.name]};i((e=>{const{requiresAuth:a,activeMenu:t,hideInMenu:l}=e.meta;if(a&&(!l||t)){const a=(e=>{const a=[];let t=!1;const l=(n,s)=>{var i;if(n.name===e)return t=!0,void a.push(...s);(null==(i=n.children)?void 0:i.length)&&n.children.forEach((e=>{l(e,[...s,e.name])}))};return d.value.forEach((e=>{t||l(e,[e.name])})),a})(t||e.name),l=new Set([...a,...p.value]);p.value=[...l],v.value=[t||a[a.length-1]]}}),!0);const f=e=>{"desktop"===t.device&&t.updateSettings({menuCollapse:e})};return()=>{let e;return _(k,{mode:m.value?"horizontal":"vertical",collapsed:r.value,"onUpdate:collapsed":e=>r.value=e,"open-keys":p.value,"onUpdate:open-keys":e=>p.value=e,"show-collapse-button":"mobile"!==t.device,"auto-open":!1,"selected-keys":v.value,"auto-open-selected":!0,"level-indent":34,style:"height: 100%;width:100%;",onCollapse:f,ref:"menuList"},"function"==typeof(l=e=function e(t,l=[]){return t&&t.forEach((t=>{var n,s,i,u;const c=(null==(n=null==t?void 0:t.meta)?void 0:n.icon)?()=>{var e;return w(I(`<${null==(e=null==t?void 0:t.meta)?void 0:e.icon}/>`))}:null;if((null==t?void 0:t.children)&&1===(null==t?void 0:t.children.length)){const e="小店管理助手"===(null==(s=null==t?void 0:t.children[0].meta)?void 0:s.locale)?_(S,{key:null==t?void 0:t.children[0].name,onClick:()=>g(null==t?void 0:t.children[0])},{default:()=>[_(C,{size:"medium"},{default:()=>[_("img",{src:"https://img.adyinqing.com/upai_shop/afcxgr7l1688975468009",class:"icon"},null),_(C,null,{default:()=>{var e;return[a((null==(e=null==t?void 0:t.children[0].meta)?void 0:e.locale)||""),_("span",{class:"tag"},[_("span",{class:"text"},[j("New")])])]}})]})]}):"会员服务"===(null==(i=null==t?void 0:t.children[0].meta)?void 0:i.locale)&&0==o.$state.userInfo.memberDepId||"会员服务"!=(null==(u=null==t?void 0:t.children[0].meta)?void 0:u.locale)?_(S,{key:null==t?void 0:t.children[0].name,onClick:()=>g(null==t?void 0:t.children[0])},{default:()=>{var e;return[a((null==(e=null==t?void 0:t.children[0].meta)?void 0:e.locale)||"")]},icon:c}):"";l.push(e)}else{const n=(null==t?void 0:t.children)&&0!==(null==t?void 0:t.children.length)?_($,{key:null==t?void 0:t.name},{default:()=>[e(null==t?void 0:t.children)],icon:c,title:()=>{var e;return w(I(a((null==(e=null==t?void 0:t.meta)?void 0:e.locale)||"")))}}):_(S,{key:null==t?void 0:t.name,onClick:()=>g(t)},{default:()=>{var e;return[a((null==(e=null==t?void 0:t.meta)?void 0:e.locale)||"")]},icon:c});l.push(n)}})),l}(d.value))||"[object Object]"===Object.prototype.toString.call(l)&&!x(l)?e:{default:()=>[e]});var l}}}),[["__scopeId","data-v-3d9904a3"]]),Ke=["onClick"],Ge={key:0},He=o(b({__name:"list",props:{renderList:{type:Array,required:!0},unreadCount:{type:Number,default:0},bottom:{type:Boolean}},emits:["itemClick","fetchData"],setup(e,{emit:a}){const t=a,l=()=>{t("fetchData",[])};return(a,n)=>{const s=R,i=C,o=O,u=F,c=N,d=U,r=V;return D(),L(r,{bordered:!1,scrollbar:!0,"max-height":520,onReachBottom:l},{"scroll-loading":q((()=>[e.bottom?(D(),T("div",Ge,"暂无更多数据")):(D(),L(d,{key:1}))])),default:q((()=>[(D(!0),T(z,null,M(e.renderList,(e=>(D(),L(c,{key:e.id,"action-layout":"vertical",style:P({opacity:e.messageStatus?.5:1})},{default:q((()=>[E("div",{class:"item-wrap",onClick:a=>(e=>{e.status||t("itemClick",[e])})(e)},[_(u,null,{title:q((()=>[_(i,{size:4},{default:q((()=>[E("span",null,A(e.title),1),_(s,{type:"secondary"},{default:q((()=>[j(A(e.messageText),1)])),_:2},1024)])),_:2},1024)])),description:q((()=>[E("div",null,[_(o,{ellipsis:{rows:1}},{default:q((()=>[j(A(e.content||"-"),1)])),_:2},1024),_(s,{class:"time-text"},{default:q((()=>[j(A(e.createdAt),1)])),_:2},1024)])])),_:2},1024)],8,Ke)])),_:2},1032,["style"])))),128)),e.renderList.length&&e.renderList.length<3?(D(),T("div",{key:0,style:P({height:86*(3-e.renderList.length)+"px"})},null,4)):B("",!0)])),_:1})}}}),[["__scopeId","data-v-bf82f8f6"]]),Je=o(b({__name:"index",setup(a){const t=y(!1),{loading:l,setLoading:n}=Re(!0),i=y(0);s.exports.useI18n();const o=K({messageList:[]}),c=y(1);G(o);const d=[{key:0,title:"全部"},{key:1,title:"账号"},{key:2,title:"爆单"},{key:3,title:"关停"},{key:4,title:"异常"},{key:5,title:"发布视频"}];"grayscaleSuperAdmin"===e().$state.role&&d.push({key:6,title:"带货"});const r=y({pageIndex:1,pageSize:8,readIds:null}),m=y(!1);async function p(){if(!m.value){m.value=!0,n(!0);try{const{data:e}=await u({...r.value,messageClass:i.value});if(e.grid)if(1===c.value)o.messageList=e.grid,c.value+=1;else{const a=e.grid;for(let e=0;e<a.length;e++)o.messageList.push(a[e])}else 1===c.value&&(o.messageList=[]),t.value=!0;e.total<r.value.pageSize&&(t.value=!0)}catch(e){}finally{n(!1),m.value=!1}}}async function v(){c.value=1,r.value.pageIndex=1,p()}const g=h((()=>o.messageList)),f=h((()=>g.value.filter((e=>!e.status)).length)),b=e=>{const a=(e=>o.messageList.filter((a=>a.type===e&&!a.status)))(e);return a.length?`(${a.length})`:""},k=e=>{g.value.length&&async function(e){const a=e.map((e=>e.id));n(!0),await u({pageIndex:1,pageSize:2,readIds:a.join(",")}),n(!1),a.forEach((e=>{const a=Oe.findIndex(o.messageList,["id",e]);a>=0&&(o.messageList[a].messageStatus=1)}))}([...e])},x=()=>{r.value.pageIndex+=1,p()};return p(),(e,a)=>{const s=X,c=Y,r=J,p=W,h=Q,y=U;return D(),L(y,{style:{display:"block"},loading:H(l)},{default:q((()=>[_(h,{activeKey:i.value,"onUpdate:activeKey":a[2]||(a[2]=e=>i.value=e),type:"rounded","destroy-on-hide":"",onChange:v},{extra:q((()=>[_(r,{type:"text",onClick:a[0]||(a[0]=e=>(async()=>{if(!m.value){m.value=!0,n(!0);try{const{data:e}=await u({pageIndex:1,pageSize:8,readIds:"allIds"})}catch(e){}finally{n(!1),m.value=!1}o.messageList.forEach((e=>{e.messageStatus=2}))}})())},{default:q((()=>[j(" 全部已读 ")])),_:1}),_(p,{content:"确定是否清空全部消息？",onOk:a[1]||(a[1]=e=>(async()=>{n(!0),await u({pageIndex:1,pageSize:2,delId:1}),n(!1),o.messageList=[],t.value=!0})())},{default:q((()=>[_(r,{type:"text",status:"danger",style:{"margin-left":"10px"}},{default:q((()=>[j(" 清空 ")])),_:1})])),_:1})])),default:q((()=>[(D(),T(z,null,M(d,(a=>_(c,{key:a.key},{title:q((()=>[E("span",null,A(a.title)+A(b(a.key)),1)])),default:q((()=>[g.value.length?B("",!0):(D(),L(s,{key:0,status:"404"},{subtitle:q((()=>[j(A(e.$t("messageBox.noContent")),1)])),_:1})),_(He,{"render-list":g.value,"unread-count":f.value,bottom:t.value,onItemClick:k,onFetchData:x},null,8,["render-list","unread-count","bottom"])])),_:2},1024))),64))])),_:1},8,["activeKey"])])),_:1},8,["loading"])}}}),[["__scopeId","data-v-24f36164"]]),We=e=>(ue("data-v-044359f9"),e=e(),ce(),e),Qe={class:"navbar"},Xe=[We((()=>E("img",{src:"https://img.adyinqing.com/upai_shop/ia0m7jpq1688351929379",alt:"",class:"kf_icon"},null,-1))),We((()=>E("span",{class:"service-text"}," 联系客服 ",-1)))],Ye={class:"left-side"},Ze={class:"center-side"},ea={class:"right-side"},aa={class:"message-box-trigger"},ta={class:"message-box-trigger"},la={class:"message-box-trigger"},na=We((()=>E("img",{src:"https://img.adyinqing.com/upai_shop/bvzflnri1686563313302",class:"icon_weixin"},null,-1))),sa={style:{"text-align":"center"}},ia={class:"info"},oa=We((()=>E("img",{alt:"avatar",src:"https://img.adyinqing.com/upai_shop/jhfbdg3b1682331087978"},null,-1))),ua={class:"infoContent"},ca=We((()=>E("div",{class:"infoBox"},[E("img",{src:"https://img.adyinqing.com/upai_shop/7svm57bk1688092401046",alt:"",class:"moli_logo"}),j(" 魔力投放 ")],-1))),da={class:"info"},ra=We((()=>E("img",{src:"https://img.adyinqing.com/upai_shop/sir9w2xm1688093132841",alt:"",class:"next_icon"},null,-1))),ma={class:"userInfo"},pa=We((()=>E("div",{class:"label"}," 登录账号: ",-1))),va={class:"rightValue"},ga={class:"tag"},fa={class:"userInfo"},ha=We((()=>E("div",{class:"label"}," 手机号: ",-1))),ba={class:"rightValue"},ya={class:"userInfo"},_a=We((()=>E("div",{class:"label"}," 账号有效期: ",-1))),ka={class:"rightValue"},xa=We((()=>E("img",{src:"https://img.adyinqing.com/upai_shop/88osk2591688093876167",alt:"",class:"close_icon"},null,-1))),wa=o(b({__name:"index",setup(a){y("hidden"),y(!1);const t=Te(),l=y(!0),s=y(!0),i=qe(),o=n(),d=e(),{logout:r}=function(){const a=qe(),t=e();return{logout:async e=>{await t.logout(),a.currentRoute.value,f.success("登出成功"),a.push({name:e&&"string"==typeof e?e:"login",query:{...a.currentRoute.value.query}})}}}();c();const{isFullscreen:m,toggle:p}=ze();h((()=>"https://img.adyinqing.com/upai_shop/bs8uwttd1682329813471"));const v=e=>{"hide"===e?(l.value=!1,setTimeout((()=>{s.value=!1}),300)):(s.value=!0,setTimeout((()=>{l.value=!0}),300))},g=y(Number(localStorage.getItem("msgTotal")));0===g.value&&localStorage.setItem("msgTotal","0");const b=y(0),k=h((()=>o.theme)),x=h((()=>o.topMenu&&o.menu)),w=Me({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:"arco-theme",onChanged(e){o.toggleTheme(e)}}),I=e=>{window.open("https://docs.qq.com/doc/DSmhzUXBJb0hHUnVt")},S=Pe(w),$=()=>{S()},z=y();y();const M=()=>{const e=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});z.value.dispatchEvent(e)},P=()=>{r()},R=()=>{i.push({name:"Workplace"})},O=()=>{i.push({name:"userInfo"})},F=Z("toggleDrawerMenu"),N=async()=>{const{data:e}=await u({pageIndex:1,pageSize:20,status:0});e.total>0&&e.total-g.value>0&&(te.info({closable:!0,content:e.grid[0].messageText,duration:1===e.grid[0].messageClass?3e7:3e3}),new Audio("https://img.adyinqing.com/y1115.mp3").play()),b.value=e.total,g.value=e.total,localStorage.setItem("msgTotal",e.total),setTimeout(N,2e3)};"datav"!==t.name&&N();const U=()=>{window.open("/#/datav","_blank")};return(e,a)=>{const t=le,n=ne,i=ee("icon-double-left"),u=ee("icon-menu-fold"),c=C,r=ee("icon-book"),g=J,f=ee("icon-notification"),h=se,y=ie,w=ee("icon-command"),S=ee("icon-moon-fill"),N=ee("icon-sun-fill"),V=ee("icon-fullscreen-exit"),K=ee("icon-fullscreen"),G=oe;return D(),T("div",Qe,[E("div",null,[_(n,{position:"left"},{content:q((()=>[_(t,{width:"200",height:"200",src:"https://img.adyinqing.com/upai_shop/q2pf7ijc1701684291556"})])),default:q((()=>[E("div",{class:ae(["service",{hide:!l.value}]),onClick:a[0]||(a[0]=e=>v("hide"))},Xe,2)])),_:1})]),s.value?B("",!0):(D(),T("div",{key:0,class:"showKf",onClick:a[1]||(a[1]=e=>v("show"))},[_(i)])),E("div",Ye,[_(c,null,{default:q((()=>[_(t,{alt:"logo",width:"150",preview:!1,style:{cursor:"pointer"},src:"https://img.adyinqing.com/upai_shop/80w5yg4h1694596249100",onClick:R}),x.value||"mobile"!==H(o).device?B("",!0):(D(),L(u,{key:0,style:{"font-size":"22px",cursor:"pointer"},onClick:H(F)},null,8,["onClick"]))])),_:1})]),E("div",Ze,[x.value?(D(),L(Ve,{key:0,ref:"menuleft",class:"guideMenu"},null,512)):B("",!0)]),E("ul",ea,[E("li",null,[_(n,{content:e.$t("settings.navbar.use")},{default:q((()=>[E("div",aa,[_(g,{class:"nav_btn_book",type:"primary",onClick:I},{icon:q((()=>[_(r)])),default:q((()=>[j(" 使用文档 ")])),_:1})])])),_:1},8,["content"])]),E("li",null,[_(n,{content:e.$t("settings.navbar.alerts")},{default:q((()=>[E("div",ta,[_(h,{count:b.value},{default:q((()=>[_(g,{class:"nav-btn",type:"outline",shape:"circle",onClick:M},{default:q((()=>[_(f)])),_:1})])),_:1},8,["count"])])])),_:1},8,["content"]),_(y,{trigger:"click","arrow-style":{display:"none"},"content-style":{padding:0,minWidth:"400px"},"content-class":"message-popover"},{content:q((()=>[_(Je)])),default:q((()=>[E("div",{ref_key:"refBtn",ref:z,class:"ref-btn"},null,512)])),_:1})]),E("li",null,[_(n,null,{content:q((()=>[_(t,{width:"120",src:"https://img.adyinqing.com/upai_shop/nlr17wsn1686562901974"})])),default:q((()=>[E("div",la,[_(g,{class:"nav-btn",type:"outline",shape:"circle"},{default:q((()=>[na])),_:1})])])),_:1})]),E("li",null,[_(n,{content:"\n            前往数据大屏\n          "},{default:q((()=>[_(g,{class:"nav-btn",type:"outline",shape:"circle",onClick:U},{icon:q((()=>[_(w)])),_:1})])),_:1})]),E("li",null,[_(n,{content:"light"===k.value?e.$t("settings.navbar.theme.toDark"):e.$t("settings.navbar.theme.toLight")},{default:q((()=>[_(g,{class:"nav-btn",type:"outline",shape:"circle",onClick:$},{icon:q((()=>["dark"===k.value?(D(),L(S,{key:0})):(D(),L(N,{key:1}))])),_:1})])),_:1},8,["content"])]),E("li",null,[_(n,{content:H(m)?e.$t("settings.navbar.screen.toExit"):e.$t("settings.navbar.screen.toFull")},{default:q((()=>[_(g,{class:"nav-btn",type:"outline",shape:"circle",onClick:H(p)},{icon:q((()=>[H(m)?(D(),L(V,{key:0})):(D(),L(K,{key:1}))])),_:1},8,["onClick"])])),_:1},8,["content"])]),E("li",null,[_(y,{position:"br",trigger:"click","content-class":"infoContent","arrow-style":{display:"none"},"content-style":{padding:"0",border:"none"}},{content:q((()=>[E("div",ua,[ca,E("div",da,[E("div",{class:"titleLi",onClick:O},[j(" 用户中心 "),ra]),E("div",ma,[pa,E("div",va,A(H(d).$state.userInfo.memberDepId?H(d).$state.userInfo.memberAccount:H(d).$state.memberAccount),1),E("div",ga,A(H(d).$state.userInfo.memberDepId?"子账号":"主账号"),1)]),E("div",fa,[ha,E("div",ba,A(H(d).$state.memberPhone),1)]),E("div",ya,[_a,E("div",ka,A(H(d).$state.memberExpiredAt),1)]),E("div",{class:"logoutBtn",onClick:P},[xa,j(" 退出登录 ")])])])])),default:q((()=>[E("div",sa,[_(c,{direction:"vertical",fill:"",size:[0,0]},{default:q((()=>[E("div",ia,[_(G,{size:32,style:{marginRight:"8px",cursor:"pointer"}},{default:q((()=>[oa])),_:1}),E("span",null,A(H(d).$state.userInfo.memberDepId?H(d).$state.userInfo.memberNickname:H(d).$state.memberNickname),1)])])),_:1})])])),_:1})])])])}}}),[["__scopeId","data-v-044359f9"]]),Ia=e=>(ue("data-v-17257cfa"),e=e(),ce(),e),Ca={class:"tag-link"},ja=Ia((()=>E("span",null,"重新加载",-1))),Sa=Ia((()=>E("span",null,"关闭当前标签页",-1))),$a=Ia((()=>E("span",null,"关闭左侧标签页",-1))),Da=Ia((()=>E("span",null,"关闭右侧标签页",-1))),La=Ia((()=>E("span",null,"关闭其它标签页",-1))),qa=Ia((()=>E("span",null,"关闭全部标签页",-1))),Ta=o(b({__name:"tab-item",props:{itemData:{type:Object,default:()=>[]},index:{type:Number,default:0}},setup(e){const a=e,t=qe(),l=Te(),n=d(),s=h((()=>n.getTabList)),i=h((()=>a.itemData.fullPath!==l.fullPath)),o=h((()=>0===a.index)),u=h((()=>[0,1].includes(a.index))),c=h((()=>a.index===s.value.length-1)),p=(e,i)=>{if(n.deleteTag(i,e),a.itemData.fullPath===l.fullPath){const e=s.value[i-1];t.push({name:e.name})}},v=()=>s.value.findIndex((e=>e.fullPath===l.fullPath)),g=async e=>{const{itemData:i,index:o}=a,u=[...s.value];if("current"===e)p(i,o);else if("left"===e){const e=v();u.splice(1,a.index-1),n.freshTabList(u),e<o&&t.push({name:i.name})}else if("right"===e){const e=v();u.splice(a.index+1),n.freshTabList(u),e>o&&t.push({name:i.name})}else if("others"===e){const e=s.value.filter(((e,t)=>0===t||t===a.index));n.freshTabList(e),t.push({name:i.name})}else"reload"===e?(n.deleteCache(i),await t.push({name:r,params:{path:l.fullPath}}),n.addCache(i.name)):(n.resetTabList(),t.push({name:m}))};return(a,l)=>{const n=ee("icon-close"),s=ee("icon-refresh"),d=re,r=ee("icon-to-left"),m=ee("icon-to-right"),v=ee("icon-swap"),f=ee("icon-folder-delete"),h=me;return D(),L(h,{trigger:"contextMenu","popup-max-height":!1,onSelect:g},{content:q((()=>[_(d,{disabled:i.value,value:"reload"},{default:q((()=>[_(s),ja])),_:1},8,["disabled","value"]),_(d,{class:"sperate-line",disabled:o.value,value:"current"},{default:q((()=>[_(n),Sa])),_:1},8,["disabled","value"]),_(d,{disabled:u.value,value:"left"},{default:q((()=>[_(r),$a])),_:1},8,["disabled","value"]),_(d,{class:"sperate-line",disabled:c.value,value:"right"},{default:q((()=>[_(m),Da])),_:1},8,["disabled","value"]),_(d,{value:"others"},{default:q((()=>[_(v),La])),_:1},8,["value"]),_(d,{value:"all"},{default:q((()=>[_(f),qa])),_:1},8,["value"])])),default:q((()=>[E("span",{class:ae(["arco-tag arco-tag-size-medium arco-tag-checked",{"link-activated":e.itemData.fullPath===a.$route.fullPath}]),onClick:l[1]||(l[1]=a=>{return l=e.itemData,void t.push({...l});var l})},[E("span",Ca,A(a.$t(e.itemData.title)),1),E("span",{class:"arco-icon-hover arco-tag-icon-hover arco-icon-hover-size-medium arco-tag-close-btn",onClick:l[0]||(l[0]=de((a=>p(e.itemData,e.index)),["stop"]))},[_(n)])],2)])),_:1})}}}),[["__scopeId","data-v-17257cfa"]]),za={class:"tab-bar-container"},Ma={class:"tab-bar-box"},Pa={class:"tab-bar-scroll"},Ea={class:"tags-wrap"},Aa=(e=>(ue("data-v-779dead0"),e=e(),ce(),e))((()=>E("div",{class:"tag-bar-operation"},null,-1))),Ba=o(b({__name:"index",setup(e){const a=n(),t=d(),l=y(),s=h((()=>t.getTabList)),o=h((()=>a.navbar?60:0));return pe((()=>a.navbar),(()=>{l.value.updatePosition()})),i((e=>{e.meta.noAffix||s.value.some((a=>a.fullPath===e.fullPath))||t.updateTabList(e)}),!0),ve((()=>{p()})),(e,a)=>{const t=ge;return D(),T("div",za,[_(t,{ref_key:"affixRef",ref:l,"offset-top":o.value},{default:q((()=>[E("div",Ma,[E("div",Pa,[E("div",Ea,[(D(!0),T(z,null,M(s.value,((e,a)=>(D(),L(Ta,{key:e.fullPath,index:a,"item-data":e},null,8,["index","item-data"])))),128))])]),Aa])])),_:1},8,["offset-top"])])}}}),[["__scopeId","data-v-779dead0"]]),Ra=992;function Oa(e){const a=n();const t=Ee((function(){if(!document.hidden){const e=document.body.getBoundingClientRect().width-1<Ra;a.toggleDevice(e?"mobile":"desktop"),a.toggleMenu(e)}}),100);fe((()=>{e&&t()})),he((()=>{Fe(window,"resize",t)})),be((()=>{Ne(window,"resize",t)}))}const Fa=b({__name:"page-layout",setup(e){const a=d(),t=h((()=>a.getCacheList));return(e,a)=>{const l=ee("router-view");return D(),L(l,null,{default:q((({Component:e,route:a})=>[_(ke,{name:"fade",mode:"out-in",appear:""},{default:q((()=>[a.meta.ignoreCache?(D(),L(ye(e),{key:a.fullPath})):(D(),L(_e,{key:1,include:t.value},[(D(),L(ye(e),{key:a.fullPath}))],1032,["include"]))])),_:2},1024)])),_:1})}}}),Na=e=>(ue("data-v-1ee16941"),e=e(),ce(),e),Ua={key:0,class:"mark"},Va=Na((()=>E("img",{src:"https://img.adyinqing.com/upai_shop/n2w5hwvp1688608894156",alt:"",class:"modal_img"},null,-1))),Ka=Na((()=>E("div",{class:"text"},"活动截止日期至7月31日",-1))),Ga={key:0,class:"layout-navbar"},Ha={class:"menu-wrapper"},Ja=o(b({__name:"default-layout",setup(a){const t=y(!1),s=y(-1),i=[{element:".menu-wrapper",title:"导航栏",body:"加热计划投放管理，支持批量搭建计划、智能监控、高投产复投等等高效功能，可前往体验",placement:"right",highlightPadding:0},{},{}],o=e=>{s.value=-1,localStorage.setItem("GuideStep","1")},u=async()=>{s.value=-1,await v({guidance:1}),await p.info(),localStorage.setItem("needGuide","false")},c=()=>{t.value=!1,0===p.$state.guidance&&(s.value=0),localStorage.setItem("closeDialog","1")},d=()=>{t.value=!1,localStorage.setItem("closeDialog","1"),0===p.$state.guidance&&(s.value=0),f.push({name:"memberShip"})},r=y(!1),m=n(),p=e(),f=qe(),b=Te(),k=l();Oa(!0);const x=h((()=>m.navbar)),I=h((()=>m.menu&&!m.topMenu)),j=h((()=>m.hideMenu)),S=h((()=>m.footer)),$=y("");localStorage.getItem("closeDialog")&&($.value=localStorage.getItem("closeDialog")),t.value=1===p.$state.payPop&&"0"===$.value;const M=xe(p.$state.memberExpiredAt).diff(xe(),"days");if(Date.now()<xe(p.$state.memberExpiredAt).valueOf()&&1!==p.$state.expireReminder&&0===p.$state.userInfo.memberDepId&&M>=0&&M<3){const e=w("img",{src:"https://img.adyinqing.com/upai_shop/q2pf7ijc1701684291556",style:{width:"150px",height:"150px"}}),a=w("span","您的魔力智投账号使用有效期不足"),t=w("span",{style:{color:"rgb(var(--arcoblue-6))"}},`${M+1}`),l=w("span","天，为了保证你的正常使用，您可以联系客服续费！"),n=w("h2",{style:{margin:0,fontSize:"20px"}},"账号即将到期"),s=w(C,{size:0,style:{fontWeight:"bold",fontSize:"14px"}},[a,t,l]),i=w("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",flexDirection:"column",gap:"24px",position:"relative"}},[n,s,e]);we.info({title:"",modalClass:"modalClass",width:600,content:()=>i,okText:"查看会员权益",async onOk(){window.location.href="/#/memberShip"},async onClose(){await v({expireReminder:1})}})}0!==p.$state.guidance||t.value||setTimeout((()=>{s.value=0}),800);const A=h((()=>m.menuCollapse?48:m.menuWidth)),R=h((()=>m.menuCollapse)),O=h((()=>({...I.value&&!j.value?{paddingLeft:`${A.value}px`}:{},...x.value?{paddingTop:"60px"}:{}}))),F=e=>{r.value&&m.updateSettings({menuCollapse:e})};pe((()=>p.role),(e=>{e&&!k.accessRouter(b)&&f.push({name:"notFound"})}));const N=y(!1),U=()=>{N.value=!1};return Ie("toggleDrawerMenu",(()=>{N.value=!N.value})),fe((()=>{r.value=!0})),(e,a)=>{const l=ee("t-guide"),n=Se,r=$e,p=De,v=Le;return D(),T(z,null,[t.value?(D(),T("div",Ua,[E("div",{class:"midBox"},[Va,E("img",{src:"https://img.adyinqing.com/upai_shop/r9i0fvvi1688609365805",alt:"",class:"close_icon",onClick:c}),Ka,E("div",{class:"herfBtn",onClick:d})])])):B("",!0),_(v,{class:ae(["layout",{mobile:H(m).hideMenu}])},{default:q((()=>[_(l,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=e=>s.value=e),steps:i,"hide-prev":"","on-next-step-click":o,"on-skip":u},null,8,["modelValue"]),x.value?(D(),T("div",Ga,[_(wa)])):B("",!0),_(v,null,{default:q((()=>[_(v,null,{default:q((()=>[I.value?Ce((D(),L(n,{key:0,class:"layout-sider",breakpoint:"xl",collapsed:R.value,collapsible:!0,width:A.value,style:P({paddingTop:x.value?"60px":""}),"hide-trigger":!0,onCollapse:F},{default:q((()=>[E("div",Ha,[_(Ve)])])),_:1},8,["collapsed","width","style"])),[[je,!j.value]]):B("",!0),j.value?(D(),L(r,{key:1,visible:N.value,placement:"left",footer:!1,"mask-closable":"",closable:!1,onCancel:U},{default:q((()=>[_(Ve)])),_:1},8,["visible"])):B("",!0),_(v,{class:"layout-content",style:P(O.value)},{default:q((()=>[H(m).tabBar?(D(),L(Ba,{key:0})):B("",!0),_(p,null,{default:q((()=>[_(Fa)])),_:1}),S.value?(D(),L(g,{key:1})):B("",!0)])),_:1},8,["style"])])),_:1})])),_:1})])),_:1},8,["class"])],64)}}}),[["__scopeId","data-v-1ee16941"]]);export{Ja as default};
