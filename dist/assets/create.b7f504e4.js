import{_ as e}from"./index.a302575e.js";/* empty css               *//* empty css              *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css              *//* empty css              *//* empty css                *//* empty css                *//* empty css                *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import{d as a,f as l,w as o,o as t,aH as n,D as u,E as r,aK as i,H as d,aJ as s,aO as v,aM as c,aL as f,aF as m,aG as p,aP as g,u as I,b_ as h,G as b,bt as y,bk as _,bR as x,bq as k,cd as O,c9 as P,bl as w,bv as N,bi as V,bu as C,bj as T,bz as U,c8 as z,bQ as j,bH as B,bU as S,by as q,c5 as A,bT as M,c2 as E,c3 as W,ch as R,ci as Y,bI as D,bJ as J,bG as L,cB as F,cq as X,bL as K,bA as H,bK as $,be as G,cs as Q,c4 as Z,c6 as ee,b9 as ae,ba as le,F as oe,cu as te}from"./arco.0e1801a1.js";import{u as ne}from"./loading.4d3258a0.js";import{_ as ue}from"./lodash.64978348.js";import{f as re}from"./vue.6618b53d.js";import{p as ie,B as de,z as se,C as ve,b as ce,c as fe}from"./plant.a1deaa45.js";import{s as me}from"./rule.9a62b1db.js";import{e as pe,f as ge,k as Ie,s as he,l as be,h as ye,d as _e,m as xe}from"./sph.fffc74fa.js";import{Q as ke}from"./qrcode.vue.esm.973da956.js";import{C as Oe}from"./antd.7c04f946.js";import{p as Pe,c as we}from"./address.2140e733.js";import{j as Ne,w as Ve}from"./enum.5f967a9b.js";import"./chart.b4fe0742.js";const Ce=e=>(ae("data-v-1ebb851c"),e=e(),le(),e),Te={class:"container"},Ue=Ce((()=>d("p",null,"根据商家自己运营策略进行定义/选择",-1))),ze=Ce((()=>d("p",null,"命名举例：日期/投放号/运营者/产品名称",-1))),je=Ce((()=>d("p",null,"根据商家自己运营策略进行定义/选择",-1))),Be=Ce((()=>d("p",null,"命名举例：xx运营策略",-1))),Se=Ce((()=>d("p",null,"选择要创建计划同时也是付款的视频号",-1))),qe=Ce((()=>d("p",null,"批量创建计划上限是30条，避免计划创建频繁",-1))),Ae=Ce((()=>d("p",null," 佣金率=(广告出价-商品实际成本)/广告出价*100%",-1))),Me=Ce((()=>d("p",null," 自定义设置关停策略，触发阈值系统将自动关停计划",-1))),Ee={class:"selectTips"},We=Ce((()=>d("span",{class:"selectText"},"请选择要加热的视频",-1))),Re={style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},Ye={style:{display:"flex",alignItems:"center",color:"#1D2129"}},De=Ce((()=>d("span",null,[v("优先提升目标 "),d("span",{style:{"font-size":"12px",color:"#ccc",display:"inline-block","margin-left":"5px"}},"无商品链接的视频暂不支持以下目标：商品点击、商品成交")],-1))),Je=Ce((()=>d("span",{style:{"font-size":"12px",color:"#ccc",display:"inline-block","margin-left":"5px"}},"实际效果与视频质量有关，若加热未完成，剩余流量券和微信豆将返还",-1))),Le={style:{"margin-top":"20px"}},Fe={style:{"font-size":"24px",color:"#1554f8"}},Xe=Ce((()=>d("span",{style:{"font-size":"12px",color:"#1554f8"}},"人",-1))),Ke=Ce((()=>d("span",null,"支付微信豆",-1))),He={key:0,src:"https://img.adyinqing.com/upai_shop/nm4pmvv91690358218990",alt:"",class:"wx_dou_icon"},$e={key:0,src:"https://img.adyinqing.com/upai_shop/nm4pmvv91690358218990",alt:"",fit:"cover",class:"wx_dou_icon"},Ge=Ce((()=>d("span",null,"自定义",-1))),Qe={style:{display:"flex","align-items":"center"}},Ze={key:1,src:"https://img.adyinqing.com/upai_shop/nm4pmvv91690358218990",alt:"",class:"wx_dou_icon",style:{"margin-left":"4px"}},ea={class:"zdyBox"},aa=Ce((()=>d("span",null,"自定义",-1))),la={style:{display:"flex","align-items":"center"}},oa={key:1,src:"https://img.adyinqing.com/upai_shop/nm4pmvv91690358218990",alt:"",class:"wx_dou_icon",style:{"margin-left":"4px"}},ta={key:0,class:"tips"},na=Ce((()=>d("span",null,"加热方式",-1))),ua=Ce((()=>d("span",null,"使用他人肖像",-1))),ra=Ce((()=>d("span",null,"上传肖像授权",-1))),ia=Ce((()=>d("a",{href:"https://res.wx.qq.com/t/wx_fed/finder/static-assets/finder-common-assets/res/protocol/%E8%A7%86%E9%A2%91%E5%8F%B7%E8%82%96%E5%83%8F%E6%8E%88%E6%9D%83%E5%8D%8F%E8%AE%AE%E4%B9%A6221025.docx",rel:"noopener noreferrer",download:"视频号肖像授权协议书.docx"},"下载肖像授权模板，",-1))),da=Ce((()=>d("span",null,"加热时长",-1))),sa=Ce((()=>d("span",null,[v("根据粉丝层推荐 "),d("span",{style:{"font-size":"12px",color:"#ccc",display:"inline-block","margin-left":"5px"}},"视频将定向推给你选择作者的粉丝，以及与粉丝相似的人。")],-1))),va=Ce((()=>d("br",null,null,-1))),ca=Ce((()=>d("span",null,"根据性别定向推荐",-1))),fa=Ce((()=>d("span",null,"根据设备定向推荐",-1))),ma=Ce((()=>d("span",null,"根据年龄推荐",-1))),pa=Ce((()=>d("span",null,"根据地区推荐",-1))),ga=Ce((()=>d("span",null,"根据兴趣推荐",-1))),Ia=Ce((()=>d("span",null,[v("使用优惠 "),d("span",{style:{"font-size":"12px",color:"#ccc",display:"inline-block","margin-left":"5px"}},"加热他人不可使用优惠")],-1))),ha={style:{"font-size":"14px","font-weight":"500"}},ba={style:{"font-size":"14px","font-weight":"500","white-space":"nowrap"}},ya=Ce((()=>d("img",{src:"https://img.adyinqing.com/upai_shop/nm4pmvv91690358218990",alt:"",class:"wx_dou_icon",style:{"margin-bottom":"0"}},null,-1))),_a=Ce((()=>d("span",{style:{"font-size":"18px","font-weight":"500"}},"订单数量： ",-1))),xa=Ce((()=>d("span",{style:{"font-size":"18px","font-weight":"500"}},"订单金额： ",-1))),ka=Ce((()=>d("img",{src:"https://img.adyinqing.com/upai_shop/nm4pmvv91690358218990",alt:"",class:"wx_dou_icon",style:{"margin-bottom":"0"}},null,-1))),Oa=Ce((()=>d("span",{style:{"font-size":"18px","font-weight":"500"}},"需支付： ",-1))),Pa=Ce((()=>d("img",{src:"https://img.adyinqing.com/upai_shop/nm4pmvv91690358218990",alt:"",class:"wx_dou_icon",style:{"margin-bottom":"0"}},null,-1))),wa={class:"titleBox"},Na={class:"labelContentL"},Va=["onClick"],Ca={class:"labelContentR"},Ta=["onClick"],Ua={class:"searchContentBox"},za=["onClick"],ja=Ce((()=>d("span",null,"搜索你想加热的视频号名字",-1))),Ba={style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},Sa={style:{display:"flex",alignItems:"center",color:"#1D2129"}},qa={key:0},Aa=Ce((()=>d("span",null,"选择要加热的视频 ",-1))),Ma={key:0},Ea=["src"],Wa={class:"countBox"},Ra=["src"],Ya=["src"],Da={class:"tableBox"},Ja={key:1},La=Ce((()=>d("span",{style:{"font-size":"16px"}},"请使用对应投手号进行支付",-1))),Fa={style:{"font-size":"14px"}},Xa={key:0,style:{"font-size":"16px","font-weight":"500"}},Ka={class:"qrcodeBox"},Ha={key:1,class:"qrcodePayMark"},$a={class:"tipsWords"},Ga=e(a({__name:"create",setup(e){const a=l(),ae=l(!1),le=l(0),Ce=l(!1),Ga=l(!1),Qa=l("正在创建支付订单"),Za=l([]),el=l({current:1,pageSize:10,chengeNum:0}),al=l("需在500-300000之间"),ll=l([]),ol=l({total:0,success:0,error:0,overPay:0}),tl=l([]),nl=l(0),ul=l(!0),rl=l(!0),il=l(),dl=l(),sl=e=>{ul.value=!0,rl.value=!0,clearInterval(il.value),clearInterval(dl.value),e||setTimeout((()=>{cl()}),2500)},vl=()=>{if(tl.value.length>0){if(!tl.value[nl.value+1]&&ol.value.success+ol.value.error!==Za.value.length)return;if(nl.value+=1,Zl.value="切换成功，请进行支付….",tl.value[nl.value]&&Number(tl.value[nl.value].index)%10==0&&(el.value.current+=1),tl.value[nl.value]){a.value=[Za.value[ue.findIndex(Za.value,["plantCode",tl.value[nl.value].plantCode])].plantCode];const e=tl.value[nl.value].index;[2,5].includes(Za.value[e].plantStatus)?(Ga.value=!0,Zl.value="当前订单已支付完成",Qa.value="当前订单支付完成，请勿重复操作"):(Zl.value="切换成功，请进行支付….",Ga.value=!1,Qa.value="")}else a.value=[],ol.value.success+ol.value.error===Za.value.length&&(sl(),a.value=[],Ga.value=!0,Qa.value="当前订单已全部支付完成",Zl.value="当前订单已全部支付完成",_.success("订单已全部支付完成"))}else sl(),Ga.value=!0,Qa.value="当前订单已全部支付完成",Zl.value="当前订单已全部支付完成",_.success("订单已全部支付完成")};l(0),l(1);const cl=async()=>{if(ul.value)return;if(0===le.value)return;ul.value=!0,ae.value=!0;const{data:e}=await ie({taskIds:le.value.join(","),pageIndex:1,pageSize:110,startDate:"2023-01-01",endDate:"2128-01-01"});Za.value=e.grid?e.grid:[],ol.value={total:0,success:0,error:0,overPay:0},ol.value.total=e.total;for(let a=0;a<Za.value.length;a++){const e=Za.value[a];switch(e.createStatus){case 1:ol.value.success+=1;break;case 3:ol.value.error+=1}if(1===e.plantStatus&&1===e.createStatus&&-1===ue.findIndex(tl.value,["plantCode",e.plantCode])){let l="undefined";3===e.sphInfo.sphUserType&&(l=e.sphInfo.sphUniqid),tl.value.push({plantName:e.plantName,plantCode:e.plantCode,sphId:e.sphId,index:a,qrCodeVal:`https://channels.weixin.qq.com/promote/pages/mobile_pay?promotionId=${e.plantCode}&type=feed&userType=${e.sphInfo.sphUserType}&corproateId=${l}`})}2!==e.plantStatus&&5!==e.plantStatus||(ol.value.overPay+=1)}if(Ce.value=!1,ul.value=!1,1===tl.value.length&&(a.value=[Za.value[ue.findIndex(Za.value,["plantCode",tl.value[0].plantCode])].plantCode]),ol.value.total===ol.value.success+ol.value.error&&ol.value.success===ol.value.overPay)return sl(),Ga.value=!0,Qa.value="当前订单已全部支付完成",Zl.value="当前订单已全部支付完成",void _.success("当前订单已全部支付完成");nl.value>0&&JSON.parse(JSON.stringify(tl.value))[nl.value],ol.value.total!==ol.value.success+ol.value.error&&setTimeout((()=>{cl()}),1500),ol.value.success!==ol.value.overPay&&setTimeout((()=>{cl()}),1500),tl.value.length>0&&(tl.value[nl.value]?Ga.value=!1:Ga.value=!0,""===Zl.value&&(Zl.value="等待支付中……"))},fl=l({sequence:"",exportId:"",engineInfo:{groupId:null,packageId:null,sphIds:[],userVoucher:3,ruleId:"",taskNum:1,yjl:100,videoUrl:"",taskArr:[],videoInfo:{},authorInfo:{},cityIdArr:[],videoTagArr:[],videoUserName:[]},feedPromotionOrderInfo:{promotionTarget:6,promotionType:1,estimatedWecoinAmount:"500",suggest:{gender:[],ageRange:[],cityIds:[],interestTag:[],roomInfo:{roomId:[]},similarUsernameList:[]},duration:"86400",pricingMethod:1,internalInfo:{isInternal:!1}},voucherIds:[],deviceInfo:{deviceTypeId:1},baseReq:{featureFlag:26}}),ml=l(!0),pl=l([]),gl=l([]),Il=l([]),hl=l([]),bl=l(!1),yl=l(500),_l=l(1),xl=l(!1),kl=l(40),Ol=l(1),Pl=l("点赞数"),wl=e=>{switch(e){case 6:Pl.value="点赞数",1===Ol.value&&(Nl.value=25);break;case 12:Pl.value="覆盖人数",1===Ol.value&&(Nl.value=3334);break;case 5:Pl.value="新增粉丝",1===Ol.value&&(Nl.value=8);break;case 1:Pl.value="覆盖人数",1===Ol.value&&(Nl.value=3333);break;case 8:Pl.value="商品成交",1===Ol.value&&(Nl.value=14);break;case 7:Pl.value="商品点击",1===Ol.value&&(Nl.value=12);break;case 11:Pl.value="覆盖人数",1===Ol.value&&(Nl.value=3333.3)}Vl.value=Math.ceil(Nl.value*Number(fl.value.feedPromotionOrderInfo.estimatedWecoinAmount)/1e3)};o((()=>fl.value.feedPromotionOrderInfo.promotionTarget),(e=>{wl(e)}));const Nl=l(25),Vl=l(25),Cl=l(!1),Tl=l("新建分组"),Ul=l({name:null,type:1}),zl=l(),jl=l(!1),Bl=l(!1),Sl=l([]),ql=l(""),Al=l({}),Ml=l(!1),El=l(!1),Wl=l(!1),Rl=l(-1),Yl=l([]),Dl=l(!1),Jl=l(!1),Ll=l(2),Fl=l(""),Xl=l(""),Kl=l(1),Hl=l(""),$l=l(""),Gl=l({}),Ql=l(!1),Zl=l(""),eo=l(0),ao=l('[{"搞笑":"1083"},{"亲子":"1084"},{"二次元":"1085"},{"明星名人":"1086"},{"旅行风景":"1087"},{"舞蹈":"1088"},{"音乐":"1089"},{"运动":"1090"},{"影视综艺":"1091"},{"时尚":"1092"},{"美食":"1093"},{"萌宠":"1094"},{"动物":"1095"},{"游戏":"1096"},{"科技":"1097"},{"工业/机械/施工":"1098"},{"车":"1099"},{"生活":"1100"},{"新闻资讯":"1101"},{"知识":"1102"},{"悬疑/侦探剧场":"1103"},{"情感":"1104"},{"才艺":"1105"},{"生活技巧":"1106"}]'),lo=l('[{"accountInfos":[],"labelName":"摄影","labelId":"1"},{"accountInfos":[],"labelName":"音乐","labelId":"2"},{"accountInfos":[],"labelName":"生活","labelId":"3"},{"accountInfos":[],"labelName":"VLOG","labelId":"4"},{"accountInfos":[],"labelName":"美食","labelId":"5"},{"accountInfos":[],"labelName":"影视综","labelId":"6"},{"accountInfos":[],"labelName":"情感","labelId":"7"},{"accountInfos":[],"labelName":"旅行","labelId":"8"},{"accountInfos":[],"labelName":"职场","labelId":"9"},{"accountInfos":[],"labelName":"颜值","labelId":"10"},{"accountInfos":[],"labelName":"亲子","labelId":"11"},{"accountInfos":[],"labelName":"人文艺术","labelId":"12"},{"accountInfos":[],"labelName":"二次元","labelId":"13"},{"accountInfos":[],"labelName":"舞蹈","labelId":"14"},{"accountInfos":[],"labelName":"游戏","labelId":"15"},{"accountInfos":[],"labelName":"教育","labelId":"16"},{"accountInfos":[],"labelName":"宠物","labelId":"17"},{"accountInfos":[],"labelName":"体育","labelId":"18"},{"accountInfos":[],"labelName":"美妆","labelId":"19"},{"accountInfos":[],"labelName":"时尚","labelId":"20"},{"accountInfos":[],"labelName":"科学科普","labelId":"21"},{"accountInfos":[],"labelName":"搞笑","labelId":"22"},{"accountInfos":[],"labelName":"社会","labelId":"23"},{"accountInfos":[],"labelName":"汽车","labelId":"24"},{"accountInfos":[],"labelName":"财经","labelId":"25"},{"accountInfos":[],"labelName":"健康","labelId":"26"},{"accountInfos":[],"labelName":"剧情","labelId":"28"},{"accountInfos":[],"labelName":"三农","labelId":"29"},{"accountInfos":[],"labelName":"法律","labelId":"31"},{"accountInfos":[],"labelName":"娱乐","labelId":"32"},{"accountInfos":[],"labelName":"收藏","labelId":"33"},{"accountInfos":[],"labelName":"科技","labelId":"34"},{"accountInfos":[],"labelName":"星座运势","labelId":"35"},{"accountInfos":[],"labelName":"公益","labelId":"36"},{"accountInfos":[],"labelName":"历史","labelId":"37"},{"accountInfos":[],"labelName":"宗教","labelId":"38"},{"accountInfos":[],"labelName":"无法分类","labelId":"39"},{"accountInfos":[],"labelName":"军事","labelId":"40"}]'),oo=[{label:"浏览",iconUrl:"https://img.adyinqing.com/upai_shop/2vo96s3s1685331358030",value:"readCount"},{label:"点赞",iconUrl:"https://img.adyinqing.com/upai_shop/37yp0twk1685329463259",value:"likeCount"},{label:"评论",iconUrl:"https://img.adyinqing.com/upai_shop/pct8hpxr1685329463229",value:"commentCount"},{label:"转发",iconUrl:"https://img.adyinqing.com/upai_shop/cvbiirrf1685329463284",value:"favCount"}];ao.value=JSON.parse(ao.value),lo.value=JSON.parse(lo.value);const to=l([]),no=l([]),uo=l(0),ro=l(""),io=l(!1),so=l(1),vo=l(!1),co=l([]),fo=[],mo=l([]),po=l([]);(async()=>{Pe.forEach((e=>{e.value=e.code,e.label=e.name,e.children=[],we.forEach((a=>{e.province===a.province&&(a.value=a.code,a.label=a.name,e.children.push(a))})),fo.push(e)}))})();const go=async e=>{fl.value.feedPromotionOrderInfo.suggest.cityIds=[],e.forEach((e=>{2===e.length?fl.value.feedPromotionOrderInfo.suggest.cityIds.push(String(e[1])):fl.value.feedPromotionOrderInfo.suggest.cityIds.push(String(e[0]))})),fl.value.engineInfo.cityIdArr=e},Io=async e=>{if(uo.value=e,fl.value.engineInfo.sphIds[0]){if(0===lo.value[uo.value].accountInfos.length){Ql.value=!0;const{data:e}=await pe({sphId:fl.value.engineInfo.sphIds[0],labelId:lo.value[uo.value].labelId});lo.value[uo.value].accountInfos=e.data.labelTag.accountInfos,lo.value[uo.value].accountInfos.forEach((e=>{e.select=!1})),e&&(Ql.value=!1)}}else _.warning({content:"请先选择投放号",duration:3e3})},ho=e=>{tl.value.length>0&&(-1!==ue.findIndex(tl.value,["plantCode",e.plantCode])?([2,5].includes(Number(e.plantStatus))?(Ga.value=!0,Zl.value="当前订单已支付完成",Qa.value="当前订单支付完成，请勿重复操作"):(Zl.value="切换成功，请进行支付….",Ga.value=!1,Qa.value=""),nl.value=ue.findIndex(tl.value,["plantCode",e.plantCode]),a.value=[e.plantCode],[2,5].includes(Number(e.plantStatus))||ot()):("0"!==e.plantCode?a.value=[e.plantCode]:a.value=[],Ga.value=!0,Zl.value="计划创建失败，无法支付"))};(async()=>{const{data:e}=await me({pageIndex:1,pageSize:100});mo.value=e.grid||[]})();const bo=async e=>{fl.value.engineInfo.ruleId=e.join(",")},yo=async()=>{!1===ml.value?fl.value.engineInfo.ruleId="":bo(po.value)},_o=async()=>{if(ro.value.length>0){io.value=!0,Ql.value=!0;try{const{data:e}=await ge({sphId:fl.value.engineInfo.sphIds[0],query:ro.value,pageIndex:1,pageSize:20});co.value=e.data.list}catch(e){}finally{Ql.value=!1}}else io.value=!1},xo=e=>new Promise(((a,l)=>{e.type;return(null==e?void 0:e.size)/1048576>1?(_.error("上传图片大小超过1M限制"),l(new Error("上传图片大小超过1M限制"))):a(!0)})),ko=l([]),Oo=l(!1),Po=l(""),wo=async e=>{if(!fl.value.engineInfo.sphIds[0])return void _.warning({content:"请先选择被投号",duration:3e3});const{fileItem:a}=e,l=new FormData;l.append("file",a.file),l.append("sphId",fl.value.engineInfo.sphIds[0]);const{data:o}=await Ie(l);Po.value=o.FileKey,ko.value=[{uid:a.uid,name:a.file.name,url:""}],_.success("上传成功。")},No=(e,a)=>{if(to.value.indexOf(e.nickName)>=0)to.value.splice(to.value.indexOf(e.nickName),1),fl.value.feedPromotionOrderInfo.suggest.similarUsernameList.splice(fl.value.feedPromotionOrderInfo.suggest.similarUsernameList.indexOf(e.username),1),lo.value[uo.value].accountInfos[a].select=!1;else{if(to.value.length>=10)return void _.warning("最大只能选择10位作者");to.value.push(e.nickName),no.value.push(e.username),fl.value.feedPromotionOrderInfo.suggest.similarUsernameList.push(e.username),lo.value[uo.value].accountInfos[a].select=!0}fl.value.engineInfo.videoTagArr=to.value},Vo=e=>{vo.value=!0,so.value=2,jl.value=!1,e(!1)},Co=()=>{0===fl.value.feedPromotionOrderInfo.suggest.similarUsernameList.length&&(jl.value=!1,so.value=1,vo.value=!0,to.value=[],fl.value.feedPromotionOrderInfo.suggest.similarUsernameList=[])},To=async e=>{el.value.current=e},Uo=l(),{loading:zo,setLoading:jo}=ne(!0),Bo=async e=>{const{data:a}=await he({pageIndex:1,pageSize:100,sphName:e}),l=a.grid.map((e=>(e.realSphName=e.sphName,e.sphName=`（${e.sphRemark?e.sphRemark:"-"}）${e.sphName}         ${e.sphBalance} 微信豆`,e)));fl.value.engineInfo.sphIds.length&&(hl.value=fl.value.engineInfo.sphIds.map((e=>ue.find(a.grid,["sphId",e])))),Il.value=l||[]};o(Jl,((e,a)=>{Jl.value?al.value="需在1000-300000之间":al.value="需在500-300000之间"}));const So=async e=>{const{data:a}=await ce({pageIndex:1,pageSize:100,name:e});gl.value=a.grid||[]},qo=async e=>{let a;if(localStorage.getItem("createPlant")){const e=JSON.parse(localStorage.getItem("createPlant"));e.engineInfo.packageId&&(a=e.engineInfo.packageId)}const{data:l}=await fe({pageIndex:1,pageSize:100,name:e,packageId:a});pl.value=l.grid||[]},Ao=(e,a)=>(Object.keys(e).forEach((l=>{l===a&&delete e[l]})),e),Mo=async()=>{switch(Ol.value){case 1:if(xl.value=!1,11===fl.value.feedPromotionOrderInfo.promotionTarget&&(fl.value.feedPromotionOrderInfo.suggest=Ao(fl.value.feedPromotionOrderInfo.suggest,"roiBidX100"),Pl.value="覆盖人数"),fl.value.feedPromotionOrderInfo.suggest=Ao(fl.value.feedPromotionOrderInfo.suggest,"wecoinBid"),Jl.value)switch(fl.value.feedPromotionOrderInfo.promotionTarget){case 8:case 7:case 11:fl.value.feedPromotionOrderInfo.pricingMethod=0}else 1===fl.value.feedPromotionOrderInfo.promotionTarget?fl.value.feedPromotionOrderInfo=Ao(fl.value.feedPromotionOrderInfo,"pricingMethod"):fl.value.feedPromotionOrderInfo.pricingMethod=1;Yo(),Ro(),wl(fl.value.feedPromotionOrderInfo.promotionTarget);break;case 2:xl.value=!0,11===fl.value.feedPromotionOrderInfo.promotionTarget?(fl.value.feedPromotionOrderInfo.suggest.roiBidX100=Number((100*Number(kl.value)).toFixed(2)),Pl.value="下单金额"):fl.value.feedPromotionOrderInfo.suggest.wecoinBid=String(100*Number(kl.value)),fl.value.feedPromotionOrderInfo.pricingMethod=1,Nl.value=24,Yo(),Ro()}},Eo=e=>{1===e&&(fl.value.feedPromotionOrderInfo.suggest.ageRange=[],fl.value.feedPromotionOrderInfo.suggest.cityIds=[],fl.value.feedPromotionOrderInfo.suggest.gender=[],delete fl.value.feedPromotionOrderInfo.suggest.deviceTypes,fl.value.feedPromotionOrderInfo.suggest.interestTag=[],fl.value.feedPromotionOrderInfo.suggest.similarUsernameList=[],fl.value.feedPromotionOrderInfo.duration="86400",fl.value.engineInfo.cityIdArr=[],to.value=[],ll.value=[],Lo.value=0,eo.value=0,so.value=1)};const Wo=async()=>{switch(fl.value.feedPromotionOrderInfo.promotionTarget){case 6:Pl.value="点赞数";break;case 12:case 1:Pl.value="覆盖人数";break;case 5:Pl.value="新增粉丝";break;case 8:Pl.value="成交人数",al.value="需在1000-300000之间",yl.value=1e3,fl.value.feedPromotionOrderInfo.suggest.roiBidX100&&(fl.value.feedPromotionOrderInfo.suggest=Ao(fl.value.feedPromotionOrderInfo.suggest,"wecoinBid"));break;case 7:Pl.value="点击人数",al.value="需在1000-300000之间",yl.value=1e3;break;case 11:yl.value=3e3,Pl.value="覆盖人数",al.value="需在3000-300000之间",2===Ol.value&&(kl.value=void 0)}Mo()},Ro=async()=>{switch(_l.value){case 1:bl.value=!1,fl.value.feedPromotionOrderInfo.estimatedWecoinAmount=Jl.value?"1000":"500",11===fl.value.feedPromotionOrderInfo.promotionTarget&&(fl.value.feedPromotionOrderInfo.estimatedWecoinAmount="3000"),Vl.value=Math.ceil(Nl.value*Number(fl.value.feedPromotionOrderInfo.estimatedWecoinAmount)/1e3);break;case 2:bl.value=!1,fl.value.feedPromotionOrderInfo.estimatedWecoinAmount=Jl.value?"2000":"1000",11===fl.value.feedPromotionOrderInfo.promotionTarget&&(fl.value.feedPromotionOrderInfo.estimatedWecoinAmount="5000"),Vl.value=Math.ceil(Nl.value*Number(fl.value.feedPromotionOrderInfo.estimatedWecoinAmount)/1e3);break;case 3:bl.value=!0,Yo()}},Yo=async()=>{fl.value.feedPromotionOrderInfo.estimatedWecoinAmount=String(yl.value),Vl.value=Math.ceil(Nl.value*Number(fl.value.feedPromotionOrderInfo.estimatedWecoinAmount)/1e3)},Do=async()=>{11===fl.value.feedPromotionOrderInfo.promotionTarget?fl.value.feedPromotionOrderInfo.suggest.roiBidX100=Number((100*kl.value).toFixed(2)):fl.value.feedPromotionOrderInfo.suggest.wecoinBid=String(100*kl.value)},Jo=async e=>{switch(eo.value){case 0:default:fl.value.feedPromotionOrderInfo.suggest.gender=[];break;case 1:fl.value.feedPromotionOrderInfo.suggest.gender=[1];break;case 2:fl.value.feedPromotionOrderInfo.suggest.gender=[2]}},Lo=l(0),Fo=async()=>{switch(Lo.value){case 0:default:delete fl.value.feedPromotionOrderInfo.suggest.deviceTypes;break;case 1:fl.value.feedPromotionOrderInfo.suggest.deviceTypes=[1];break;case 2:fl.value.feedPromotionOrderInfo.suggest.deviceTypes=[2]}},Xo=async e=>{Tl.value=2===e?"新增计划包":"新增分组",Ul.value.type=e,Cl.value=!0},Ko=async e=>{var a;if(await(null==(a=zl.value)?void 0:a.validate()))e(!1);else{if(1===Ul.value.type){const{data:e,code:a}=await de({name:Ul.value.name});200===a&&_.success({content:"添加分组成功",duration:5e3}),await So("")}else{const{data:e,code:a}=await se({name:Ul.value.name});200===a&&_.success({content:"添加计划包成功",duration:5e3}),await qo("")}Ul.value.name=null,window.setTimeout((()=>{e()}),300)}},Ho=async()=>{if(fl.value.engineInfo.sphIds[0]){Bl.value=!0,jo(!0);try{const{data:e}=await be({sphId:fl.value.engineInfo.sphIds[0]});Sl.value=e.data.accountInfos}catch(e){}finally{jo(!1)}}else _.warning({content:"请先选择投放号",duration:3e3})},$o=async()=>{if(ql.value){jo(!0);try{const{data:e}=await ge({sphId:fl.value.engineInfo.sphIds[0],query:ql.value,pageIndex:1,pageSize:6});Sl.value=e.data.list}catch(e){}finally{jo(!1)}}else _.warning({content:"请填写搜索内容",duration:3e3})},Go=re(),Qo=async()=>{$l.value="";const{data:e}=await xe({sphId:fl.value.engineInfo.sphIds[0],exportId:Gl.value.exportId,nonceId:Gl.value.nonce});$l.value=e.data.shortUrl,fl.value.engineInfo.videoUrl=e.data.shortUrl},Zo=e=>{if(-1===Rl.value)return _.warning({content:"请点击选择你要加热的视频",duration:3e3}),void e(!1);Object.values(Gl.value).length>0&&(Jl.value=!1,El.value=!0,fl.value.exportId=Gl.value.exportId,fl.value.engineInfo.videoInfo=Gl.value,fl.value.engineInfo.authorInfo=Al.value,Gl.value.shoppingcartJumpinfo.wording?(Jl.value=!0,fl.value.feedPromotionOrderInfo.promotionTarget=8,fl.value.feedPromotionOrderInfo.pricingMethod=0,Qo(),Wo()):(fl.value.feedPromotionOrderInfo.promotionTarget=6,fl.value.feedPromotionOrderInfo.pricingMethod=1)),Bl.value=!1,e(!1)},et=async()=>{1===so.value&&(to.value=[],jl.value=!1,lo.value[uo.value].accountInfos=lo.value[uo.value].accountInfos.map((e=>(e.select=!1,e))),fl.value.feedPromotionOrderInfo.suggest.similarUsernameList=[])},at=async()=>{var e;if(!Dl.value){switch(Dl.value=!0,jo(!0),Ll.value){case 1:default:Fl.value=h().add(-7,"day").format("YYYY-MM-DD"),Xl.value=h().format("YYYY-MM-DD");break;case 2:Fl.value=h().add(-3,"month").format("YYYY-MM-DD"),Xl.value=h().format("YYYY-MM-DD")}try{const{data:a}=await ye({sphId:fl.value.engineInfo.sphIds[0],encryptedUsername:null==(e=Al.value)?void 0:e.username,startTs:Fl.value,endTs:Xl.value,lastBuf:Hl.value});(0===a.data.objects.length||a.data.objects.length<19)&&(Wl.value=!0),a.data.objects.forEach((e=>{Yl.value.push(e)})),Hl.value=a.data.lastBuf}catch(a){}finally{jo(!1),Dl.value=!1,Kl.value+=1}}},lt=async e=>{const a=[];if(e.length)for(let l=0;l<e.length;l+=1){const o=new Promise(((a,o)=>{be({sphId:e[l]}).then((({data:e})=>{a(e)})).catch((a=>{o(e[l])}))}));a.push(o)}await Promise.all(a).then((e=>{})).catch((e=>{fl.value.engineInfo.sphIds=fl.value.engineInfo.sphIds.filter((a=>a!==e))})),hl.value=fl.value.engineInfo.sphIds.map((e=>ue.find(Il.value,["sphId",e])))},ot=async()=>{if(tl.value.length>0){if(rl.value)return;if(!tl.value[nl.value])return;rl.value=!0,tl.value[nl.value];const{data:e}=await _e({sphId:tl.value[nl.value].sphId,promotionId:tl.value[nl.value].plantCode});if(rl.value=!1,e&&(5===Number(e.data.order.orderInfo.status)||2===Number(e.data.order.orderInfo.status))){if(cl(),Zl.value="支付完成，正在切换下个订单….",_.success("支付完成，请支付下一个订单"),nl.value+=1,tl.value[nl.value]&&Number(tl.value[nl.value].index)%10==0&&(el.value.current+=1),tl.value[nl.value]){const e=ue.findIndex(Za.value,["plantCode",tl.value[nl.value].plantCode]);a.value=[Za.value[e].plantCode]}Zl.value="切换成功，请进行支付…."}}if(ol.value.success+ol.value.error===Za.value.overPay&&ol.value.success===ol.value.overPay)return sl(),a.value=[],Ga.value=!0,Qa.value="当前订单已全部支付完成",Zl.value="当前订单已全部支付完成",void _.success("订单已全部支付完成");setTimeout(ot,1400)},tt=l(!1),nt=async()=>{var e;if(2===Ol.value&&Number(kl.value)>Number(fl.value.feedPromotionOrderInfo.estimatedWecoinAmount)/2)return void _.error({content:"出价设置过高，请重新设置(出价金额必须小于订单金额的一半)",duration:5e3});if(2===Ol.value&&void 0===kl.value)return void _.error({content:"请填写自定义出价方式",duration:5e3});tt.value=!0;if(!(await(null==(e=Uo.value)?void 0:e.validate()))){if(!fl.value.exportId)return tt.value=!1,void _.error({content:"请选择需要加热的视频",duration:5e3});try{Oo.value?fl.value.feedPromotionOrderInfo.proofFileKey=Po.value:delete fl.value.feedPromotionOrderInfo.proofFileKey,fl.value=Ao(fl.value,"createTaskBefore");const{data:e}=await ve({reqJson:JSON.stringify(fl.value)});le.value=e.taskId,e?_.success({content:"创建成功，请等待系统创建订单",duration:5e3}):_.error({content:"创建失败，请刷新页面后重新创建",duration:5e3})}catch(a){tt.value=!1,le.value=0,setTimeout((()=>{ul.value=!0,ae.value=!1}),1e3)}finally{setTimeout((()=>{tt.value=!1}),5e3),fl.value.createTaskBefore=1,localStorage.setItem("createPlant",JSON.stringify(fl.value)),ul.value=!1,rl.value=!1,Ce.value=!0,Ga.value=!0,nl.value=0,tl.value=[],Qa.value="正在创建支付订单",el.value.current=1,el.value.chengeNum=0,cl(),ot()}}};return Bo(null),qo(null),So(null),t((()=>{(async()=>{if(localStorage.getItem("createPlant")){fl.value=JSON.parse(localStorage.getItem("createPlant"));const e=JSON.parse(localStorage.getItem("createPlant"));switch(1!==fl.value.createTaskBefore&&(fl.value.engineInfo.sphIds=[fl.value.engineInfo.sphId]),fl.value.feedPromotionOrderInfo.suggest.wecoinBid?Number(fl.value.feedPromotionOrderInfo.suggest.wecoinBid)>0&&(xl.value=!0,Ol.value=2,kl.value=Number(fl.value.feedPromotionOrderInfo.suggest.wecoinBid)/100,fl.value.feedPromotionOrderInfo.suggest.roiBidX100&&11===e.feedPromotionOrderInfo.promotionTarget&&(kl.value=Number(e.feedPromotionOrderInfo.suggest.roiBidX100)/100)):fl.value.feedPromotionOrderInfo.suggest.roiBidX100&&11===e.feedPromotionOrderInfo.promotionTarget&&(Ol.value=2,kl.value=Number(e.feedPromotionOrderInfo.suggest.roiBidX100)/100),fl.value.exportId&&(El.value=!0,Gl.value=fl.value.engineInfo.videoInfo,Ml.value=!0,Al.value=fl.value.engineInfo.authorInfo,fl.value.engineInfo.videoInfo.shoppingcartJumpinfo.wording&&(Jl.value=!0,Qo(),Wo())),fl.value.engineInfo.ruleId&&(po.value=fl.value.engineInfo.ruleId.split(","),po.value.forEach(((e,a)=>{po.value[a]=Number(e)}))),e.feedPromotionOrderInfo.estimatedWecoinAmount){case"500":_l.value=1;break;case"1000":_l.value=Jl.value?1:2;break;case"2000":_l.value=2;break;default:if(_l.value=3,yl.value=Number(e.feedPromotionOrderInfo.estimatedWecoinAmount),11===fl.value.feedPromotionOrderInfo.promotionTarget){let a=3;"3000"===e.feedPromotionOrderInfo.estimatedWecoinAmount?a=1:"5000"===e.feedPromotionOrderInfo.estimatedWecoinAmount&&(a=2),_l.value=a}}const{suggest:a}=fl.value.feedPromotionOrderInfo;a.gender.length>0&&1===a.gender[0]&&(eo.value=1),a.gender.length>0&&2===a.gender[0]&&(eo.value=2),a.deviceTypes&&(Lo.value=0===a.deviceTypes.indexOf(1)?1:2),a.similarUsernameList.length>0&&(so.value=2,vo.value=!0,to.value=fl.value.engineInfo.videoTagArr),ll.value=fl.value.engineInfo.cityIdArr,Mo(),2===Ol.value&&e.feedPromotionOrderInfo.suggest.roiBidX100&&11===e.feedPromotionOrderInfo.promotionTarget&&(kl.value=Number(e.feedPromotionOrderInfo.suggest.roiBidX100)/100),1===e.feedPromotionOrderInfo.promotionType&&Eo(1),Ro(),e.feedPromotionOrderInfo.suggest.roiBidX100&&11===e.feedPromotionOrderInfo.promotionTarget&&(fl.value.feedPromotionOrderInfo.suggest.roiBidX100=e.feedPromotionOrderInfo.suggest.roiBidX100)}})()})),(e,l)=>{const o=n("Breadcrumb"),t=n("icon-question-circle-fill"),le=x,ne=k,re=O,ie=P,de=n("icon-plus"),se=w,ve=N,ce=V,fe=C,me=T,pe=U,ge=z,Ie=j,he=B,be=S,ye=q,_e=A,xe=M,Pe=E,we=W,ul=R,rl=Y,il=D,dl=J,cl=L,wl=F,Nl=X,Dl=K,Fl=H,Xl=n("icon-right"),no=n("icon-check"),Po=$,jo=G,So=Q,qo=te,Ao=Z,Qo=n("icon-exclamation-circle-fill"),ot=ee,ut=n("icon-check-circle-fill");return u(),r("div",Te,[i(o,{items:["投流管理","创建计划"]}),d("div",{style:b({boxSizing:"border-box",width:"100%",backgroundColor:"var(--color-fill-2)"})},[i(we,{gutter:24},{default:s((()=>[i(Pe,{span:18},{default:s((()=>[i(we,{gutter:24,style:{marginBottom:"-5px"}},{default:s((()=>[i(Pe,{span:24},{default:s((()=>[i(ge,{title:"基础信息",bordered:!1,style:{width:"100%"}},{default:s((()=>[i(pe,{ref_key:"formJcRef",ref:Uo,"auto-label-width":"",model:fl.value.engineInfo,style:{width:"520px"}},{default:s((()=>[i(ve,{field:"groupId",label:"",rules:[{required:!0,message:"请选择分组"}],"validate-trigger":["change","input"]},{label:s((()=>[i(ne,{size:3},{default:s((()=>[v(" 归属分组 "),i(le,{title:""},{content:s((()=>[Ue,ze])),default:s((()=>[i(t)])),_:1})])),_:1})])),default:s((()=>[i(ie,{modelValue:fl.value.engineInfo.groupId,"onUpdate:modelValue":l[0]||(l[0]=e=>fl.value.engineInfo.groupId=e),placeholder:"可输入模糊搜索","allow-clear":"","allow-search":{retainInputValue:!0},style:{"margin-right":"10px"}},{default:s((()=>[(u(!0),r(c,null,f(gl.value,((e,a)=>(u(),m(re,{key:a,label:e.groupName,value:e.groupId},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),i(se,{type:"primary",onClick:l[1]||(l[1]=e=>Xo(1))},{icon:s((()=>[i(de)])),default:s((()=>[v("新建分组")])),_:1})])),_:1}),i(ve,{field:"packageId",label:"计划包",rules:[{required:!0,message:"请选择计划包"}],"validate-trigger":["change","input"]},{label:s((()=>[i(ne,{size:3},{default:s((()=>[v(" 计划包 "),i(le,{title:""},{content:s((()=>[je,Be])),default:s((()=>[i(t)])),_:1})])),_:1})])),default:s((()=>[i(ie,{modelValue:fl.value.engineInfo.packageId,"onUpdate:modelValue":l[2]||(l[2]=e=>fl.value.engineInfo.packageId=e),placeholder:"可输入模糊搜索","allow-clear":"","allow-search":{retainInputValue:!0},style:{"margin-right":"10px"}},{default:s((()=>[(u(!0),r(c,null,f(pl.value,((e,a)=>(u(),m(re,{key:a,label:e.packageName,value:e.packageId},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),i(se,{type:"primary",onClick:l[3]||(l[3]=e=>Xo(2))},{icon:s((()=>[i(de)])),default:s((()=>[v("新建计划包")])),_:1})])),_:1}),i(ve,{field:"sphIds",label:"投放号",rules:[{required:!0,message:"请选择投放号"}],"validate-trigger":["change","input"]},{label:s((()=>[i(ne,{size:3},{default:s((()=>[v(" 投放号 "),i(le,{title:""},{content:s((()=>[Se])),default:s((()=>[i(t)])),_:1})])),_:1})])),default:s((()=>[i(ie,{modelValue:fl.value.engineInfo.sphIds,"onUpdate:modelValue":l[4]||(l[4]=e=>fl.value.engineInfo.sphIds=e),placeholder:"可输入视频号名称或备注名进行搜索","allow-search":{retainInputValue:!0},"allow-clear":"",style:{"margin-right":"10px"},multiple:"",onSearch:Bo,onChange:lt},{default:s((()=>[(u(!0),r(c,null,f(Il.value,((e,a)=>(u(),m(re,{key:a,label:e.sphName,value:e.sphId},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),i(se,{type:"primary",size:"small",onClick:l[5]||(l[5]=e=>{Go.push({name:"sphList"})})},{default:s((()=>[v(" 登录投放号 ")])),_:1})])),_:1}),i(ve,{field:"taskNum",label:"创建数量",rules:[{required:!0,message:"请填写创建数量"}],"validate-trigger":["change","input"]},{label:s((()=>[i(ne,{size:3},{default:s((()=>[v(" 创建数量 "),i(le,{title:""},{content:s((()=>[qe])),default:s((()=>[i(t)])),_:1})])),_:1})])),default:s((()=>[i(ce,{modelValue:fl.value.engineInfo.taskNum,"onUpdate:modelValue":l[6]||(l[6]=e=>fl.value.engineInfo.taskNum=e),placeholder:"请填写创建数量",min:1,max:30},null,8,["modelValue"])])),_:1}),i(ve,{field:"taskNum",label:""},{label:s((()=>[i(ne,{size:3},{default:s((()=>[v(" 佣金率 "),i(le,{title:""},{content:s((()=>[Ae])),default:s((()=>[i(t)])),_:1})])),_:1})])),default:s((()=>[i(ce,{modelValue:fl.value.engineInfo.yjl,"onUpdate:modelValue":l[7]||(l[7]=e=>fl.value.engineInfo.yjl=e),placeholder:"请填写佣金率",min:1,max:100},null,8,["modelValue"])])),_:1}),i(ve,{field:"taskRemark",label:""},{label:s((()=>[i(ne,{size:3},{default:s((()=>[v(" 备注 ")])),_:1})])),default:s((()=>[i(fe,{modelValue:fl.value.taskRemark,"onUpdate:modelValue":l[8]||(l[8]=e=>fl.value.taskRemark=e),placeholder:"请填写备注"},null,8,["modelValue"])])),_:1}),i(ve,{label:"自动关停策略"},{label:s((()=>[i(ne,{size:3},{default:s((()=>[v(" 自动关停策略 "),i(le,{title:""},{content:s((()=>[Me])),default:s((()=>[i(t)])),_:1})])),_:1})])),default:s((()=>[i(ne,null,{default:s((()=>[i(me,{modelValue:ml.value,"onUpdate:modelValue":l[9]||(l[9]=e=>ml.value=e),onChange:yo},null,8,["modelValue"]),ml.value?(u(),m(ie,{key:0,modelValue:po.value,"onUpdate:modelValue":l[10]||(l[10]=e=>po.value=e),style:{width:"360px"},placeholder:"请选择自动关停策略",multiple:"",readonly:"",limit:10,scrollbar:!0,onChange:bo},{default:s((()=>[(u(!0),r(c,null,f(mo.value,(e=>(u(),m(re,{key:e.srId,label:e.srName,value:e.srId},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])):p("",!0)])),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),i(we,{gutter:24},{default:s((()=>[i(Pe,{span:24},{default:s((()=>[El.value?p("",!0):(u(),m(ge,{key:0,bordered:!1,style:{width:"100%"}},{default:s((()=>[d("div",{style:{"background-color":"var(--color-fill-2)",color:"var(--color-text-1)",border:"1px dashed var(--color-fill-4)",height:"140px",width:"120px","border-radius":"2px","vertical-align":"middle",display:"flex",cursor:"pointer","align-items":"center","text-align":"center"},onClick:Ho},[d("div",Ee,[i(ne,{direction:"vertical",size:5,fill:""},{default:s((()=>[i(de,{style:{"font-size":"18px"}}),We])),_:1})])])])),_:1})),El.value?(u(),m(ge,{key:1,hoverable:"",style:{width:"100%",marginBottom:"20px"}},{default:s((()=>[d("div",Re,[d("span",Ye,[i(Ie,{width:"70",src:Gl.value.coverUrl},null,8,["src"]),i(ne,{direction:"vertical",fill:"",size:"mini"},{default:s((()=>[i(he,{ellipsis:{rows:1,expandable:!1},style:{"margin-bottom":"0","margin-left":"5px"}},{default:s((()=>[v(g(Gl.value.description||"-"),1)])),_:1}),i(he,{heading:6,style:{"margin-left":"5px","margin-bottom":"0",color:"#b3b3b3"}},{default:s((()=>[i(be,{"image-url":Al.value.headImgUrl,size:"30px"},null,8,["image-url"]),v(" "+g(Al.value.nickName)+" "+g(I(h).unix(Gl.value.createTime).format("YYYY-MM-DD HH:mm:ss")),1)])),_:1}),Gl.value.shoppingcartJumpinfo.wording?(u(),m(xe,{key:0,trigger:"click"},{content:s((()=>[i(ne,{direction:"vertical",fill:"",style:{"text-align":"center"}},{default:s((()=>[i(ke,{value:$l.value,size:200,level:"H",style:{position:"relative"}},null,8,["value"]),i(_e,{color:"green"},{default:s((()=>[v("请用微信APP扫描二维码")])),_:1})])),_:1})])),default:s((()=>[i(ye,{style:{padding:"0","margin-left":"5px"}},{default:s((()=>[v(g(Gl.value.shoppingcartJumpinfo.wording),1)])),_:1})])),_:1})):p("",!0)])),_:1})]),i(ye,{onClick:Ho},{default:s((()=>[v("更换")])),_:1})])])),_:1})):p("",!0)])),_:1})])),_:1})])),_:1})])),_:1}),i(we,{gutter:24,style:{"margin-top":"10px"}},{default:s((()=>[i(Pe,{span:24},{default:s((()=>[i(ge,{bordered:!1,style:{width:"100%"}},{default:s((()=>[i(Dl,{bordered:!1,split:!1},{default:s((()=>[i(dl,null,{default:s((()=>[i(il,null,{title:s((()=>[De])),description:s((()=>[i(rl,{modelValue:fl.value.feedPromotionOrderInfo.promotionTarget,"onUpdate:modelValue":l[11]||(l[11]=e=>fl.value.feedPromotionOrderInfo.promotionTarget=e),style:{"margin-top":"20px"},onChange:Wo},{default:s((()=>[i(ul,{value:6,disabled:Jl.value},{default:s((()=>[v("点赞数 ")])),_:1},8,["disabled"]),i(ul,{value:5,disabled:Jl.value},{default:s((()=>[v("关注数 ")])),_:1},8,["disabled"]),i(ul,{value:1,disabled:Jl.value},{default:s((()=>[v("完播数 ")])),_:1},8,["disabled"]),i(ul,{value:12,disabled:Jl.value},{default:s((()=>[v("直播预约 ")])),_:1},8,["disabled"]),i(ul,{value:7,disabled:!Jl.value},{default:s((()=>[v("商品点击 ")])),_:1},8,["disabled"]),i(ul,{value:8,disabled:!Jl.value},{default:s((()=>[v("商品成交 ")])),_:1},8,["disabled"]),i(ul,{value:11,disabled:!Jl.value},{default:s((()=>[v("成交ROI ")])),_:1},8,["disabled"])])),_:1},8,["modelValue"])])),_:1})])),_:1}),i(dl,null,{default:s((()=>[i(il,null,{title:s((()=>[d("span",null,[v("预计"+g(Pl.value)+" ",1),Je])])),description:s((()=>[d("div",Le,[d("span",Fe,g(Vl.value),1),Xe])])),_:1})])),_:1}),i(dl,null,{default:s((()=>[i(il,null,{title:s((()=>[Ke])),description:s((()=>[i(rl,{modelValue:_l.value,"onUpdate:modelValue":l[13]||(l[13]=e=>_l.value=e),style:{"margin-top":"20px"},onChange:Ro},{default:s((()=>[i(ul,{value:1},{default:s((()=>[i(ne,{size:2},{default:s((()=>[v(g(Jl.value?11===fl.value.feedPromotionOrderInfo.promotionTarget?"3000":"1000":"500"),1),11!==fl.value.feedPromotionOrderInfo.promotionTarget?(u(),r("img",He)):p("",!0)])),_:1})])),_:1}),i(ul,{value:2},{default:s((()=>[i(ne,{size:2},{default:s((()=>[v(g(Jl.value?11===fl.value.feedPromotionOrderInfo.promotionTarget?"5000":"2000":"1000"),1),11!==fl.value.feedPromotionOrderInfo.promotionTarget?(u(),r("img",$e)):p("",!0)])),_:1})])),_:1}),i(ul,{value:3},{default:s((()=>[i(ne,null,{default:s((()=>[Ge,d("div",Qe,[bl.value?(u(),m(ce,{key:0,modelValue:yl.value,"onUpdate:modelValue":l[12]||(l[12]=e=>yl.value=e),placeholder:al.value,min:Jl.value?11===fl.value.feedPromotionOrderInfo.promotionTarget?3e3:1e3:500,max:3e5,step:1e3,precision:0,mode:"button",style:{width:"100%"},onChange:Yo},null,8,["modelValue","placeholder","min"])):p("",!0),bl.value&&11!==fl.value.feedPromotionOrderInfo.promotionTarget?(u(),r("img",Ze)):p("",!0)])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),i(dl,null,{default:s((()=>[i(il,null,{title:s((()=>[d("span",null,"出价方式"+g(11===fl.value.feedPromotionOrderInfo.promotionTarget?"(ROI)":""),1)])),description:s((()=>[i(rl,{modelValue:Ol.value,"onUpdate:modelValue":l[15]||(l[15]=e=>Ol.value=e),style:{"margin-top":"20px"},onChange:Mo},{default:s((()=>[i(ul,{value:1},{default:s((()=>[v("智能出价")])),_:1}),i(ul,{value:2},{default:s((()=>[d("div",ea,[aa,i(ne,{direction:"vertical",align:"start"},{default:s((()=>[d("div",la,[xl.value?(u(),m(ce,{key:0,modelValue:kl.value,"onUpdate:modelValue":l[14]||(l[14]=e=>kl.value=e),placeholder:11===fl.value.feedPromotionOrderInfo.promotionTarget?"":"需在1-10000之间",min:11===Number(fl.value.feedPromotionOrderInfo.promotionTarget)?.5:1,max:1e9,step:11===Number(fl.value.feedPromotionOrderInfo.promotionTarget)?.01:1,precision:11===fl.value.feedPromotionOrderInfo.promotionTarget?2:0,mode:"button",style:{width:"100%"},onChange:Do},null,8,["modelValue","placeholder","min","step","precision"])):p("",!0),xl.value&&11!==fl.value.feedPromotionOrderInfo.promotionTarget?(u(),r("img",oa)):p("",!0)])])),_:1}),11==fl.value.feedPromotionOrderInfo.promotionTarget&&xl.value?(u(),r("div",ta," roi需在0.5-50之间")):p("",!0)])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),i(dl,null,{default:s((()=>[i(il,null,{title:s((()=>[na])),description:s((()=>[i(rl,{modelValue:fl.value.feedPromotionOrderInfo.promotionType,"onUpdate:modelValue":l[16]||(l[16]=e=>fl.value.feedPromotionOrderInfo.promotionType=e),style:{"margin-top":"20px"},onChange:Eo},{default:s((()=>[i(ul,{value:1},{default:s((()=>[v("智能加热")])),_:1}),i(ul,{value:2},{default:s((()=>[v("定向加热")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),i(dl,null,{default:s((()=>[i(il,null,{title:s((()=>[ua])),description:s((()=>[i(rl,{modelValue:Oo.value,"onUpdate:modelValue":l[17]||(l[17]=e=>Oo.value=e),style:{"margin-top":"20px"}},{default:s((()=>[i(ul,{value:!1},{default:s((()=>[v("未使用")])),_:1}),i(ul,{value:!0},{default:s((()=>[v("使用")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),Oo.value?(u(),m(dl,{key:0},{default:s((()=>[i(il,null,{title:s((()=>[ra])),description:s((()=>[i(ne,{direction:"vertical",style:{"margin-top":"20px"}},{default:s((()=>[i(cl,{type:"secondary"},{default:s((()=>[ia,v(" 填写后上传文件。 ")])),_:1}),i(wl,{action:"/",draggable:"","file-list":ko.value,limit:1,accept:".doc,.docx,.pdf,.png","custom-request":wo,onBeforeUpload:xo},null,8,["file-list","accept"])])),_:1})])),_:1})])),_:1})):p("",!0),2===fl.value.feedPromotionOrderInfo.promotionType?(u(),m(dl,{key:1},{default:s((()=>[i(il,null,{title:s((()=>[da])),description:s((()=>[i(rl,{modelValue:fl.value.feedPromotionOrderInfo.duration,"onUpdate:modelValue":l[18]||(l[18]=e=>fl.value.feedPromotionOrderInfo.duration=e),style:{"margin-top":"20px"}},{default:s((()=>[i(ul,{value:"86400"},{default:s((()=>[v("24小时")])),_:1}),i(ul,{value:"43200"},{default:s((()=>[v("12小时")])),_:1}),i(ul,{value:"21600"},{default:s((()=>[v("6小时")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})):p("",!0),2===fl.value.feedPromotionOrderInfo.promotionType?(u(),m(dl,{key:2},{default:s((()=>[i(il,null,{title:s((()=>[sa])),description:s((()=>[i(rl,{modelValue:so.value,"onUpdate:modelValue":l[20]||(l[20]=e=>so.value=e),style:{"margin-top":"20px"},onChange:et},{default:s((()=>[i(ul,{value:1},{default:s((()=>[v("不限")])),_:1}),i(ul,{value:2,onClick:l[19]||(l[19]=e=>{jl.value=!0,Io(0)})},{default:s((()=>[v("选择相似作者的粉丝")])),_:1})])),_:1},8,["modelValue"]),va,vo.value?(u(),m(ne,{key:0,onClick:l[22]||(l[22]=e=>{jl.value=!0,Io(uo.value)})},{default:s((()=>[v(" 已添加 "),i(Nl,{modelValue:to.value,"onUpdate:modelValue":l[21]||(l[21]=e=>to.value=e),placeholder:"已添加作者","max-tag-count":3,readonly:"","allow-clear":"",style:{"{\n                                width":"300px","border-radius":"8px"}},{value:s((({value:e})=>[v(g(e),1)])),_:1},8,["modelValue"]),v(" 等 "+g(to.value.length)+"个作者 ",1)])),_:1})):p("",!0)])),_:1})])),_:1})):p("",!0),2===fl.value.feedPromotionOrderInfo.promotionType?(u(),m(dl,{key:3},{default:s((()=>[i(il,null,{title:s((()=>[ca])),description:s((()=>[i(rl,{modelValue:eo.value,"onUpdate:modelValue":l[23]||(l[23]=e=>eo.value=e),style:{"margin-top":"20px"},onChange:Jo},{default:s((()=>[i(ul,{value:0},{default:s((()=>[v("不限 ")])),_:1}),i(ul,{value:1},{default:s((()=>[v("男")])),_:1}),i(ul,{value:2},{default:s((()=>[v("女")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})):p("",!0),2===fl.value.feedPromotionOrderInfo.promotionType?(u(),m(dl,{key:4},{default:s((()=>[i(il,null,{title:s((()=>[fa])),description:s((()=>[i(rl,{modelValue:Lo.value,"onUpdate:modelValue":l[24]||(l[24]=e=>Lo.value=e),style:{"margin-top":"20px"},onChange:Fo},{default:s((()=>[i(ul,{value:0},{default:s((()=>[v("不限 ")])),_:1}),i(ul,{value:1},{default:s((()=>[v("iphone")])),_:1}),i(ul,{value:2},{default:s((()=>[v("安卓")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})):p("",!0),2===fl.value.feedPromotionOrderInfo.promotionType?(u(),m(dl,{key:5},{default:s((()=>[i(il,null,{title:s((()=>[ma])),description:s((()=>[i(ie,{modelValue:fl.value.feedPromotionOrderInfo.suggest.ageRange,"onUpdate:modelValue":l[25]||(l[25]=e=>fl.value.feedPromotionOrderInfo.suggest.ageRange=e),style:{"margin-top":"10px",width:"320px"},placeholder:"全部年龄",multiple:"","allow-clear":""},{default:s((()=>[i(re,{value:1},{default:s((()=>[v("18-24岁")])),_:1}),i(re,{value:2},{default:s((()=>[v("25-29岁")])),_:1}),i(re,{value:3},{default:s((()=>[v("30-39岁")])),_:1}),i(re,{value:4},{default:s((()=>[v("40-49岁")])),_:1}),i(re,{value:5},{default:s((()=>[v("50岁以上")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})):p("",!0),2===fl.value.feedPromotionOrderInfo.promotionType?(u(),m(dl,{key:6},{default:s((()=>[i(il,null,{title:s((()=>[pa])),description:s((()=>[i(I(Oe),{value:ll.value,"onUpdate:value":l[26]||(l[26]=e=>ll.value=e),style:{"margin-top":"10px",width:"320px"},multiple:"",options:fo,placeholder:"全部地区","dropdown-class-name":"ant_placeholder_class","suffix-icon":"Shopping Around",onChange:go},{tagRender:s((e=>[(u(),m(_e,{key:e.value,color:"blue"},{default:s((()=>[v(g(e.label),1)])),_:2},1024))])),_:1},8,["value"])])),_:1})])),_:1})):p("",!0),2===fl.value.feedPromotionOrderInfo.promotionType?(u(),m(dl,{key:7},{default:s((()=>[i(il,null,{title:s((()=>[ga])),description:s((()=>[i(ie,{modelValue:fl.value.feedPromotionOrderInfo.suggest.interestTag,"onUpdate:modelValue":l[27]||(l[27]=e=>fl.value.feedPromotionOrderInfo.suggest.interestTag=e),style:{"margin-top":"10px",width:"320px"},placeholder:"全部兴趣",multiple:"","allow-clear":""},{default:s((()=>[(u(!0),r(c,null,f(ao.value,((e,a)=>(u(),m(re,{key:a,value:Object.values(e)[0]},{default:s((()=>[v(g(Object.keys(e)[0]),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})):p("",!0),i(dl,null,{default:s((()=>[i(il,null,{title:s((()=>[Ia])),description:s((()=>[i(rl,{modelValue:fl.value.engineInfo.userVoucher,"onUpdate:modelValue":l[28]||(l[28]=e=>fl.value.engineInfo.userVoucher=e),style:{"margin-top":"20px"}},{default:s((()=>[i(ul,{value:1},{default:s((()=>[v("优先使用最大面额优惠券 ")])),_:1}),i(ul,{value:2},{default:s((()=>[v("优先使用即将到期优惠券 ")])),_:1}),i(ul,{value:3},{default:s((()=>[v("不使用优惠券")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),i(Pe,{span:6},{default:s((()=>[i(ne,{style:{width:"100%"},direction:"vertical",size:24},{default:s((()=>[i(ge,{bordered:!1,style:{width:"100%",maxHeight:"320px",overflow:" auto"}},{title:s((()=>[i(we,{justify:"space-between",align:"end"},{default:s((()=>[i(Pe,{flex:"60px"},{default:s((()=>[v("微信豆余额")])),_:1}),i(Pe,{flex:"60px",style:{"font-size":"12px"}},{default:s((()=>[v("已选"+g(hl.value.length)+"个",1)])),_:1})])),_:1})])),default:s((()=>[i(Dl,{style:{"margin-bottom":"30px"}},{default:s((()=>[(u(!0),r(c,null,f(hl.value,((e,a)=>(u(),m(dl,{key:a},{default:s((()=>[i(we,{justify:"space-between",style:{width:"100%"}},{default:s((()=>[i(Pe,{flex:6},{default:s((()=>[d("span",ha,g(e?e.realSphName?e.realSphName:e.sphName:""),1)])),_:2},1024),i(Pe,{flex:1},{default:s((()=>[i(ne,{size:3},{default:s((()=>[d("span",ba,g(e?e.sphBalance:0)+"个 ",1),ya])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),i(ge,{title:"加热信息",bordered:!1,style:{width:"100%"}},{default:s((()=>[i(Dl,{style:{"margin-bottom":"30px"}},{default:s((()=>[i(dl,null,{default:s((()=>[_a,d("span",null,g(fl.value.engineInfo.sphIds.length?fl.value.engineInfo.taskNum*fl.value.engineInfo.sphIds.length:fl.value.engineInfo.taskNum)+"个",1)])),_:1}),i(dl,null,{default:s((()=>[xa,i(ne,{size:2},{default:s((()=>[v(g(fl.value.engineInfo.sphIds.length?fl.value.feedPromotionOrderInfo.estimatedWecoinAmount*fl.value.engineInfo.taskNum*fl.value.engineInfo.sphIds.length:fl.value.feedPromotionOrderInfo.estimatedWecoinAmount*fl.value.engineInfo.taskNum)+" ",1),ka])),_:1})])),_:1}),i(dl,null,{default:s((()=>[Oa,i(ne,{size:2},{default:s((()=>[v(g(fl.value.engineInfo.sphIds.length?fl.value.feedPromotionOrderInfo.estimatedWecoinAmount*fl.value.engineInfo.taskNum*fl.value.engineInfo.sphIds.length:fl.value.feedPromotionOrderInfo.estimatedWecoinAmount*fl.value.engineInfo.taskNum)+" ",1),Pa])),_:1})])),_:1})])),_:1}),i(se,{type:"primary",shape:"round",size:"large",disabled:tt.value,long:"",onClick:nt},{default:s((()=>[v("创建订单 ")])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})])),_:1})],4),i(jo,{visible:jl.value,"onUpdate:visible":l[33]||(l[33]=e=>jl.value=e),width:"1000px",title:"根据粉丝层推荐",onCancel:Co,onBeforeOk:Vo},{default:s((()=>[d("div",wa,[v("将定向推给你选择作者的粉丝，以及与粉丝相似的人。 "),i(Fl,{modelValue:ro.value,"onUpdate:modelValue":l[29]||(l[29]=e=>ro.value=e),style:{width:"320px"},placeholder:"搜索作者的粉丝，以及与粉丝相似的人","search-button":"",onChange:_o},null,8,["modelValue"])]),i(we,null,{default:s((()=>[i(Pe,{flex:"1"},{default:s((()=>[i(Nl,{modelValue:to.value,"onUpdate:modelValue":l[30]||(l[30]=e=>to.value=e),placeholder:"选择作者的粉丝，以及与粉丝相似的人。","allow-clear":"",style:{"{\n                width":"500px",height:"80px","border-radius":"8px"},onRemove:l[31]||(l[31]=e=>{return a=e,void lo.value[uo.value].accountInfos.forEach((e=>{e.nickName===a&&(e.select=!1,fl.value.feedPromotionOrderInfo.suggest.similarUsernameList.splice(fl.value.feedPromotionOrderInfo.suggest.similarUsernameList.indexOf(e.username),1))}));var a}),onPressEnter:l[32]||(l[32]=e=>{return a=e,to.value.splice(ue.indexOf(to.value,a),1),void _.info("请通过点击添加作者的粉丝");var a})},{value:s((({value:e})=>[v(g(e),1)])),_:1},8,["modelValue"])])),_:1})])),_:1}),io.value?p("",!0):(u(),m(we,{key:0},{default:s((()=>[i(Pe,{span:4},{default:s((()=>[d("div",Na,[(u(!0),r(c,null,f(lo.value,((e,a)=>(u(),r("div",{key:a,class:oe(["labelBox",{active:uo.value===a}]),onClick:e=>Io(a)},[v(g(e.labelName),1),i(Xl)],10,Va)))),128))])])),_:1}),i(Pe,{span:20},{default:s((()=>[i(Po,{loading:Ql.value,tip:"加载中",style:{width:"100%"}},{default:s((()=>[d("div",Ca,[(u(!0),r(c,null,f(lo.value[uo.value].accountInfos,((e,a)=>(u(),r("div",{key:a,class:"contentBox",onClick:l=>No(e,a)},[i(be,{"image-url":e.headImgUrl,size:30,style:{"margin-right":"0.7rem"}},null,8,["image-url"]),v(" "+g(e.nickName)+" ",1),e.select?(u(),m(no,{key:0})):p("",!0)],8,Ta)))),128))])])),_:1},8,["loading"])])),_:1})])),_:1})),io.value?(u(),m(we,{key:1},{default:s((()=>[i(Pe,{flex:1},{default:s((()=>[i(Po,{loading:Ql.value,tip:"加载中",style:{width:"100%"}},{default:s((()=>[d("div",Ua,[(u(!0),r(c,null,f(co.value,((e,a)=>(u(),r("div",{key:a,class:"searchContent",onClick:l=>No(e,a)},[i(be,{"image-url":e.headImgUrl,size:48,style:{"margin-right":"0.7rem"}},null,8,["image-url"]),v(" "+g(e.nickName)+" ",1),e.select?(u(),m(no,{key:0})):p("",!0)],8,za)))),128))])])),_:1},8,["loading"])])),_:1})])),_:1})):p("",!0)])),_:1},8,["visible"]),i(jo,{visible:Bl.value,"onUpdate:visible":l[39]||(l[39]=e=>Bl.value=e),width:"1000px",title:"选择要加热的视频",onBeforeOk:Zo},{default:s((()=>[i(Dl,{bordered:!1,split:!1},{default:s((()=>[i(dl,null,{default:s((()=>[i(il,null,{title:s((()=>[ja])),description:s((()=>[Ml.value?(u(),m(ge,{key:0,hoverable:"",style:{width:"360px",marginBottom:"20px"}},{default:s((()=>[d("div",Ba,[d("span",Sa,[i(be,{style:{marginRight:"8px",backgroundColor:"#165DFF"},size:35,"image-url":Al.value.headImgUrl},null,8,["image-url"]),i(ne,{direction:"vertical",fill:"",size:"mini"},{default:s((()=>[i(So,{heading:6,style:{margin:"0"}},{default:s((()=>[v(g(Al.value.nickName),1)])),_:1}),i(he,{ellipsis:{rows:1,expandable:!1},style:{"margin-bottom":"0"}},{default:s((()=>[v(g(Al.value.signature||"-"),1)])),_:1})])),_:1})]),i(ye,{onClick:l[34]||(l[34]=e=>{Ml.value=!1,Rl.value=-1})},{default:s((()=>[v("更换")])),_:1})])])),_:1})):p("",!0),Ml.value?p("",!0):(u(),m(Fl,{key:1,modelValue:ql.value,"onUpdate:modelValue":l[35]||(l[35]=e=>ql.value=e),style:{"margin-top":"10px",width:"300px"},placeholder:"输入视频号，回车或点击按钮搜索",autocomplete:"off","allow-clear":"",onPressEnter:$o,onSearch:$o},null,8,["modelValue"]))])),_:1})])),_:1})])),_:1}),Ml.value?(u(),r("div",qa,[i(Dl,{bordered:!1,split:!1},{default:s((()=>[i(dl,null,{default:s((()=>[i(il,null,{title:s((()=>[Aa])),description:s((()=>[v(" 日期范围 "),i(rl,{modelValue:Ll.value,"onUpdate:modelValue":l[36]||(l[36]=e=>Ll.value=e),style:{"margin-top":"20px"},onChange:l[37]||(l[37]=e=>{Hl.value="",Yl.value=[],at()})},{default:s((()=>[i(ul,{value:1},{default:s((()=>[v("近7天")])),_:1}),i(ul,{value:2},{default:s((()=>[v("近3个月")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),i(Dl,{"max-height":420,scrollbar:!0,bordered:!1,loading:I(zo),onReachBottom:l[38]||(l[38]=e=>at())},{"scroll-loading":s((()=>[Wl.value?(u(),r("div",Ma,"暂无更多数据")):(u(),m(Po,{key:1}))])),default:s((()=>[i(we,{gutter:24,style:{marginBottom:"20px"}},{default:s((()=>[(u(!0),r(c,null,f(Yl.value,((e,a)=>(u(),m(Pe,{key:a,span:6,style:{"margin-bottom":"10px",cursor:"pointer"}},{default:s((()=>[i(ge,{class:oe({"video-select":Rl.value===a}),onClick:l=>(async(e,a)=>{Rl.value=e,Gl.value=a})(a,e)},{cover:s((()=>[d("img",{style:b({width:"100%",transform:"translateY(-20px)"}),alt:"dessert",src:e.coverUrl},null,12,Ea)])),default:s((()=>[i(qo,null,{description:s((()=>[i(he,{ellipsis:{rows:1,expandable:!1},style:{"margin-bottom":"0"}},{default:s((()=>[v(g(e.description||"-"),1)])),_:2},1024),d("div",Wa,[(u(),r(c,null,f(oo,((a,l)=>d("div",{key:l,class:"count"},[d("img",{src:a.iconUrl,alt:"",class:"icon"},null,8,Ra),i(he,{style:{"margin-bottom":"0"}},{default:s((()=>{return[v(g(e[a.value]?(l=e[a.value],(l=Number(l))>=1e4?l=Math.floor(l/1e3)/10+"W+":l>=1e3&&(l=Math.floor(l/100)/10+"K+"),l):"0"),1)];var l})),_:2},1024)]))),64))])])),_:2},1024)])),_:2},1032,["class","onClick"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["loading"])])):p("",!0),Ml.value?p("",!0):(u(),m(Dl,{key:1,bordered:!1,split:!1,hoverable:!0,loading:I(zo)},{default:s((()=>[(u(!0),r(c,null,f(Sl.value,((e,a)=>(u(),m(dl,{key:a},{default:s((()=>[i(il,{style:{cursor:"pointer"},onClick:a=>(async e=>{Al.value=e,Ml.value=!0,Kl.value=1,Hl.value="",Yl.value=[],await at()})(e)},{title:s((()=>[d("span",null,g(e.nickName),1)])),description:s((()=>[e.signature?(u(),m(he,{key:0,ellipsis:{suffix:"",rows:1,expandable:!0}},{default:s((()=>[v(g(e.signature||"-"),1)])),_:2},1024)):p("",!0)])),avatar:s((()=>[i(be,{shape:"square"},{default:s((()=>[d("img",{alt:"avatar",src:e.headImgUrl},null,8,Ya)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1},8,["loading"]))])),_:1},8,["visible"]),i(jo,{visible:Cl.value,"onUpdate:visible":l[42]||(l[42]=e=>Cl.value=e),title:Tl.value,onCancel:l[43]||(l[43]=e=>Cl.value=!1),onBeforeOk:Ko},{default:s((()=>[i(pe,{ref_key:"formGpRef",ref:zl,model:Ul.value,"label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:s((()=>[1===Ul.value.type?(u(),m(ve,{key:0,field:"name",label:"分组名称",rules:[{required:!0,message:"请填写分组名称"}]},{default:s((()=>[i(fe,{modelValue:Ul.value.name,"onUpdate:modelValue":l[40]||(l[40]=e=>Ul.value.name=e)},null,8,["modelValue"])])),_:1})):p("",!0),2===Ul.value.type?(u(),m(ve,{key:1,field:"name",label:"计划包名称",rules:[{required:!0,message:"请填写计划包名称"}]},{default:s((()=>[i(fe,{modelValue:Ul.value.name,"onUpdate:modelValue":l[41]||(l[41]=e=>Ul.value.name=e)},null,8,["modelValue"])])),_:1})):p("",!0)])),_:1},8,["model"])])),_:1},8,["visible","title"]),i(jo,{visible:ae.value,"onUpdate:visible":l[45]||(l[45]=e=>ae.value=e),"mask-closable":!1,width:"1000px",title:"正在创建计划","esc-to-close":!1,onCancel:l[46]||(l[46]=e=>sl(!0)),onOk:l[47]||(l[47]=e=>sl(!0))},{default:s((()=>[i(we,{gutter:24},{default:s((()=>[i(Pe,{span:16},{default:s((()=>[d("div",Da,[i(ot,{selectedKeys:a.value,"onUpdate:selectedKeys":l[44]||(l[44]=e=>a.value=e),"row-key":"plantCode",pagination:el.value,hoverable:!0,stripe:!1,loading:Ce.value,data:Za.value,bordered:!1,onPageChange:To,onRowClick:ho},{columns:s((()=>[i(Ao,{title:"投手号",align:"center"},{cell:s((({record:e})=>[v(g(e.sphInfo.sphName),1)])),_:1}),i(Ao,{title:"创建状态",align:"center"},{cell:s((({record:e})=>[3===e.createStatus?(u(),m(le,{key:0,content:e.errorMsg},{default:s((()=>[d("span",null,[v(g(I(Ne)[e.createStatus])+" ",1),i(Qo)])])),_:2},1032,["content"])):(u(),r("span",Ja,g(I(Ne)[e.createStatus]),1))])),_:1}),i(Ao,{title:"优惠券折扣",align:"center"},{cell:s((({record:e})=>{return[v(g(e.voucherInfo?(a=e.voucherInfo.quota,a=Number(a)/100):"-"),1)];var a})),_:1}),i(Ao,{title:"需支付",align:"center"},{cell:s((({record:e})=>[v(g(e.estimatedWecoinAmount),1)])),_:1}),i(Ao,{title:"订单状态",align:"center"},{cell:s((({record:e})=>[v(g(I(Ve)[e.plantStatus])+" ",1)])),_:1})])),_:1},8,["selectedKeys","pagination","loading","data"]),d("span",null,"共"+g(ol.value.total)+"条 | 成功"+g(ol.value.success)+"条 失败"+g(ol.value.error)+"条｜完成支付"+g(ol.value.overPay)+"条 ",1)])])),_:1}),i(Pe,{span:8,style:{"text-align":"center"}},{default:s((()=>[La,i(Po,{loading:Ga.value,tip:Qa.value},y({default:s((()=>[i(ge,{class:"general-card",style:{"padding-top":"20px"}},{default:s((()=>[i(ne,{size:16,direction:"vertical",align:"center",fill:"",style:{"text-align":"center"}},{default:s((()=>[d("span",Fa,g(Zl.value),1),tl.value[nl.value]?(u(),r("span",Xa,g(tl.value[nl.value].plantName),1)):p("",!0),d("div",Ka,[tl.value[nl.value]?(u(),m(ke,{key:0,value:tl.value[nl.value].qrCodeVal,size:220,level:"H",style:{position:"relative"}},null,8,["value"])):p("",!0),"当前订单已支付完成"===Zl.value||"计划创建失败，无法支付"===Zl.value?(u(),r("div",Ha,["当前订单已支付完成"===Zl.value?(u(),m(_e,{key:0,color:"arcoblue",style:{transform:"scale(1.5)"}},{default:s((()=>[v("已支付")])),_:1})):p("",!0),"计划创建失败，无法支付"===Zl.value?(u(),m(_e,{key:1,color:"gray",style:{transform:"scale(1.3)"}},{default:s((()=>[v("创建失败，请勿支付")])),_:1})):p("",!0)])):p("",!0)]),i(_e,{color:"green"},{default:s((()=>[v("请用微信APP扫描二维码")])),_:1}),i(ne,null,{default:s((()=>[i(ye,{onClick:vl},{default:s((()=>[v("跳过该计划")])),_:1})])),_:1})])),_:1})])),_:1})])),_:2},["当前订单已全部支付完成"===Qa.value||"当前订单支付完成，请勿重复操作"===Qa.value?{name:"element",fn:s((()=>[i(ut,{spin:!1,rotate:0,size:20})])),key:"0"}:void 0]),1032,["loading","tip"]),d("div",$a,[v("移动到 "),i(Qo),v(" 按钮，可查看计划创建失败原因")])])),_:1})])),_:1})])),_:1},8,["visible"])])}}}),[["__scopeId","data-v-1ebb851c"]]);export{Ga as default};
