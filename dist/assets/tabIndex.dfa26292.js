import{u as e,v as l,_ as a}from"./index.a302575e.js";/* empty css                *//* empty css               *//* empty css               */import{d as t,r as u,f as s,aU as n,aH as d,D as o,E as i,aK as c,aJ as r,aM as p,aL as v,u as f,H as m,aO as _,aP as h,b_ as y,aF as b,aG as g,bk as x,bu as k,bv as w,c2 as z,c9 as I,bR as V,bq as C,bl as S,by as T,bG as j,c3 as U,bz as N,c8 as q,bU as B,c4 as O,c5 as P,cD as A,bM as L,c6 as R,c7 as E,be as D,ch as H,ci as G,bH as K,cE as M,b9 as W,ba as Y,cd as $,bP as F,bN as J}from"./arco.0e1801a1.js";import{f as Q}from"./vue.6618b53d.js";/* empty css              *//* empty css                *//* empty css              *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css                *//* empty css               *//* empty css                *//* empty css              *//* empty css               *//* empty css               */import{u as X}from"./loading.4d3258a0.js";import{s as Z,g as ee,n as le,o as ae,a as te}from"./sph.fffc74fa.js";import{Q as ue}from"./qrcode.vue.esm.973da956.js";import{e as se,s as ne,B as de,C as oe}from"./enum.5f967a9b.js";import{G as ie,H as ce}from"./plant.a1deaa45.js";import{s as re,g as pe,b as ve,d as fe,a as me}from"./sph-aide.33599de6.js";import"./chart.b4fe0742.js";const _e=e=>(W("data-v-26535adc"),e=e(),Y(),e),he={class:"container"},ye=_e((()=>m("div",{class:"labelText"},"名称搜索：",-1))),be=_e((()=>m("div",{class:"labelText"},"在线状态：",-1))),ge={class:"labelText"},xe=_e((()=>m("p",null,"使用中：表示该账号有加热中的计划 ",-1))),ke=_e((()=>m("p",null,"空闲中：表示该账号暂无建立计划或涉及的计划都已完成/已结束",-1))),we={class:"labelText"},ze=_e((()=>m("p",null,"账号类型 投放号：此类型为负责建立计划以及付款的视频号",-1))),Ie=_e((()=>m("p",null,"被投号：此类型为发布素材以及被加热的视频号",-1))),Ve=_e((()=>m("p",null,"同个号：加热本账号的视频素材时可设置为该类型",-1))),Ce=["src"],Se=_e((()=>m("p",null,"账号登陆时效为6.5小时(加热平台官方定义的规则)，掉线会导致账号相应数据/操作都无法获取生效",-1))),Te={key:1},je=_e((()=>m("p",null,"手动更新当前计划的相关数据，系统默认1分钟更新1次 ",-1))),Ue={class:"pagination"},Ne=_e((()=>m("div",null,null,-1))),qe={class:"qrCodeBox"},Be={key:0,class:"mark"},Oe={class:"iconBox"},Pe=_e((()=>m("span",{style:{"font-size":"16px",color:"#1d2129","font-weight":"bold",display:"block"}}," 扫码成功",-1))),Ae=_e((()=>m("ul",null,[m("li",null," 仅支持谷歌浏览器（chrome）使用"),m("li",null," 没有此插件无法使用【分身登录】功能"),m("li",null," 安装完成后，请刷新本页面")],-1))),Le=a(t({__name:"list",setup(a){e();const t={x:1400,y:500};Q();const W=u({sphId:void 0,days:1,syncType:1,auto:2}),Y=s(!1),F=s(!1),J=s(!1);s(!1),s([]),s("");const re=s(""),pe=s(""),ve=s(!1);s(),s(0),s(0);const fe=s("修改信息"),me=["","#00b42a","#f53f3f"],_e=s({sphId:void 0,sphType:0,sphRemark:"",type:1}),Le=s({sphRemark:"备注名称"}),{loading:Re,setLoading:Ee}=X(!0);l.exports.useI18n();const De=s([]),He=s({});s(!1),s("");const Ge={current:1,pageIndex:1,pageSize:10},Ke=u({...Ge});s(!0);const Me=async e=>{Ee(!0);try{const{data:l}=await Z(e);De.value=l.grid,Ke.current=e.pageIndex,Ke.pageIndex=e.pageIndex,Ke.total=l.total}catch(l){}finally{Ee(!1)}},We=e=>{Ge.pageIndex=e,Ge.current=e,Ke.pageIndex=e,Ke.current=e,Me({...He.value,...Ge})},Ye=e=>{Ge.pageSize=e,Ke.pageSize=e,Me({...He.value,...Ge})},$e=()=>{We(1)},Fe=s(!1);Me({...He.value,...Ge});const Je=s(!1),Qe=s(null),Xe=async()=>{if(Je.value)return;Je.value=!0;const e=await te({token:pe.value}).catch((e=>{J.value=!1,ve.value=!1,$e(),clearInterval(Qe.value),Qe.value=null}));if(Je.value=!1,5===e.data.status&&(ve.value=!0),1===e.data.status)return x.success({content:"登录成功",duration:5e3}),J.value=!1,ve.value=!1,$e(),clearInterval(Qe.value),void(Qe.value=null);Qe.value=setTimeout(Xe,1e3)},Ze=async(e,l,a)=>{if(2===e)fe.value="修改视频号信息",_e.value=l,_e.value.type=2,Y.value=!0;else{Y.value=!1;const{data:e}=await ee({},a);re.value=e.url,pe.value=e.token,J.value=!0,Qe.value=setTimeout(Xe,1e3)}};n((()=>{clearInterval(Qe.value),Qe.value=null}));const el=async e=>{if(1===W.syncType){const{data:e,code:l}=await ie(W);x.success("同步数据请求已提交")}else{const{data:e,code:l}=await ce(W);x.success("同步数据请求已提交")}window.setTimeout((()=>{e()}),300)},ll=s(),al=async e=>{var l;await(null==(l=ll.value)?void 0:l.validate())?e(!1):(1===_e.value.type||(await le(_e.value),x.success({content:"修改成功",duration:5e3}),$e()),window.setTimeout((()=>{e()}),300))},tl=()=>{Y.value=!1},ul=()=>{window.open("https://e601wcqokc.feishu.cn/docx/AS67dG9lro8PIIxl1ONcoLfhnYd?from=from_copylink")};return(e,l)=>{const a=k,u=w,s=z,n=$,Q=I,X=d("icon-question-circle-fill"),Z=V,ee=C,le=S,te=T,ie=j,ce=U,pe=N,Ee=q,Ge=d("icon-plus"),Me=B,Je=O,Qe=P,Xe=A,sl=L,nl=R,dl=E,ol=d("icon-check-circle-fill"),il=D,cl=H,rl=G,pl=K,vl=M;return o(),i("div",he,[c(ce,null,{default:r((()=>[c(Ee,{class:"general-card-upai",style:{width:"100%"}},{default:r((()=>[c(s,{flex:1},{default:r((()=>[c(pe,{model:He.value,"auto-label-width":"","label-align":"left"},{default:r((()=>[c(ce,{gutter:16},{default:r((()=>[c(s,{span:8},{default:r((()=>[c(u,{field:"sphName"},{label:r((()=>[ye])),default:r((()=>[c(a,{modelValue:He.value.sphName,"onUpdate:modelValue":l[0]||(l[0]=e=>He.value.sphName=e),placeholder:"请输入视频号名称","allow-clear":"",onPressEnter:$e},null,8,["modelValue"])])),_:1})])),_:1}),c(s,{span:8},{default:r((()=>[c(u,{field:"sphStatus"},{label:r((()=>[be])),default:r((()=>[c(Q,{modelValue:He.value.sphStatus,"onUpdate:modelValue":l[1]||(l[1]=e=>He.value.sphStatus=e),placeholder:"请选择在线状态"},{default:r((()=>[(o(!0),i(p,null,v(f(se)(f(ne)),((e,l)=>(o(),b(n,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),c(s,{span:8},{default:r((()=>[c(u,{field:"useStatus"},{label:r((()=>[m("div",ge,[c(ee,{size:0},{default:r((()=>[_(" 使用状态： "),c(Z,{title:""},{content:r((()=>[xe,ke])),default:r((()=>[c(X)])),_:1})])),_:1})])])),default:r((()=>[c(Q,{modelValue:He.value.useStatus,"onUpdate:modelValue":l[2]||(l[2]=e=>He.value.useStatus=e),placeholder:"请选择使用状态"},{default:r((()=>[(o(!0),i(p,null,v(f(se)(f(de)),((e,l)=>(o(),b(n,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),c(s,{span:8},{default:r((()=>[c(u,{field:"sphStatus"},{label:r((()=>[m("div",we,[c(ee,{size:0},{default:r((()=>[_(" 视频号类型： "),c(Z,{title:""},{content:r((()=>[ze,Ie,Ve])),default:r((()=>[c(X)])),_:1})])),_:1})])])),default:r((()=>[c(Q,{modelValue:He.value.sphType,"onUpdate:modelValue":l[3]||(l[3]=e=>He.value.sphType=e),placeholder:"请选择视频号类型"},{default:r((()=>[(o(!0),i(p,null,v(f(se)(f(oe)),((e,l)=>(o(),b(n,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),c(s,{span:8},{default:r((()=>[c(u,{field:"number","hide-label":!0},{default:r((()=>[c(ee,{size:18},{default:r((()=>[c(le,{type:"primary",class:"searchBtn",onClick:$e},{default:r((()=>[_(" 筛选 ")])),_:1}),c(le,{type:"outline",class:"refreshBtn",onClick:l[4]||(l[4]=e=>$e())},{default:r((()=>[_(" 刷新 ")])),_:1}),c(ie,{type:"primary"},{default:r((()=>[c(te,{href:"javascript:void(0)",onClick:l[5]||(l[5]=e=>{He.value={}})},{default:r((()=>[_("重置筛选条件")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1})])),_:1})])),_:1}),c(Ee,{class:"general-card-upai",style:{width:"100%","padding-bottom":"32px"}},{default:r((()=>[c(ce,{style:{"margin-bottom":"16px"}},{default:r((()=>[c(s,{span:16},{default:r((()=>[c(ee,null,{default:r((()=>[c(le,{type:"primary",onClick:l[6]||(l[6]=e=>Ze(1,{},!0))},{icon:r((()=>[c(Ge)])),default:r((()=>[_(" 添加加热平台账号 ")])),_:1})])),_:1})])),_:1})])),_:1}),c(nl,{"row-key":"id",pagination:!1,loading:f(Re),data:De.value,hoverable:!0,stripe:!1,scroll:t,"sticky-header":!0,bordered:!1,onPageChange:We},{columns:r((()=>[c(Je,{title:"账号信息"},{cell:r((({record:e})=>[c(ee,null,{default:r((()=>[c(Me,null,{default:r((()=>[m("img",{alt:"avatar",src:e.sphAvatar},null,8,Ce)])),_:2},1024),_(" "+h(e.sphName),1)])),_:2},1024)])),_:1}),c(Je,{title:"账号类型",align:"center",width:120},{cell:r((({record:e})=>[c(Qe,{color:"arcoblue"},{default:r((()=>[_(h(f(oe)[e.sphType]),1)])),_:2},1024)])),_:1}),c(Je,{title:"在线状态",align:"center",width:120},{cell:r((({record:e})=>[c(Qe,{color:me[e.sphStatus]},{default:r((()=>[_(h(f(ne)[e.sphStatus]),1)])),_:2},1032,["color"])])),_:1}),c(Je,{title:"使用状态",align:"center",width:120},{cell:r((({record:e})=>[_(h(f(de)[e.useStatus]),1)])),_:1}),c(Je,{title:"账号余额",align:"center",width:120},{cell:r((({record:e})=>[_(h(e.sphBalance),1)])),_:1}),c(Je,{align:"center",width:130},{title:r((()=>[c(ee,{size:4},{default:r((()=>[_(" 离线倒计时 "),c(Z,{content:"This is tooltip content"},{content:r((()=>[Se])),default:r((()=>[c(X)])),_:1})])),_:1})])),cell:r((({record:e})=>[Date.now()<f(y)(e.sphLeaveAt).valueOf()&&1===e.sphStatus?(o(),b(Xe,{key:0,value:f(y)(e.sphLeaveAt).valueOf(),now:Date.now()},null,8,["value","now"])):(o(),i("span",Te," 已离线 "))])),_:1}),c(Je,{title:"登录时间",align:"center"},{cell:r((({record:e})=>[_(h(e.sphLoginAt),1)])),_:1}),c(Je,{title:"备注名称",align:"center"},{cell:r((({record:e})=>[_(h(e.sphRemark),1)])),_:1}),c(Je,{align:"center",title:"操作","data-index":"operations",fixed:"right",width:280},{cell:r((({record:e})=>[c(ee,{direction:"vertical"},{default:r((()=>[c(ee,null,{default:r((()=>[c(le,{type:"text",size:"small",onClick:l[7]||(l[7]=e=>Ze(1,{},void 0))},{default:r((()=>[_(" 重新登录 ")])),_:1}),c(le,{type:"text",size:"small",status:"success",onClick:l=>(e=>{if(1!==e.sphStatus)return void x.info("当前账号已离线,请尝试重新登录");if(1!==Number(document.getElementById("moliExt").value))return void(Fe.value=!0);let l=e.sphCookie;l=l.replace("promotewebsessionid=",""),window.open(`https://channels.weixin.qq.com/login.html?promoteWebSessionIdwx=${l}`)})(e)},{default:r((()=>[_(" 分身登录 ")])),_:2},1032,["onClick"]),c(Z,null,{content:r((()=>[je])),default:r((()=>[c(le,{type:"text",size:"small",onClick:l=>(async e=>{W.sphId=e.sphId,F.value=!0})(e)},{default:r((()=>[c(ee,null,{default:r((()=>[_(" 同步数据 "),c(X)])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024),c(ee,null,{default:r((()=>[c(le,{type:"text",size:"small",onClick:l=>Ze(2,e)},{default:r((()=>[_(" 修改 ")])),_:2},1032,["onClick"]),c(sl,{content:"即将解除该视频号的绑定，请确认是否删除？","ok-text":"确认解除",onOk:l=>(async e=>{const{data:l,code:a}=await ae({sphId:e});200===a&&(x.success("成功解除绑定。"),$e())})(e.sphId)},{default:r((()=>[c(le,{type:"text",status:"danger"},{default:r((()=>[_("解除绑定")])),_:1})])),_:2},1032,["onOk"])])),_:2},1024)])),_:2},1024)])),_:1})])),_:1},8,["loading","data"]),m("div",Ue,[Ne,m("div",null,[c(dl,{current:Ke.pageIndex,"onUpdate:current":l[8]||(l[8]=e=>Ke.pageIndex=e),"page-size":Ke.pageSize,"onUpdate:pageSize":l[9]||(l[9]=e=>Ke.pageSize=e),total:Number(Ke.total),"show-total":!0,"show-page-size":!0,"page-size-options":[10,20,50,100,200],onChange:We,onPageSizeChange:Ye},null,8,["current","page-size","total"])])])])),_:1}),c(il,{visible:J.value,"onUpdate:visible":l[10]||(l[10]=e=>J.value=e),width:"auto",footer:!1,simple:!0,"hide-cancel":""},{title:r((()=>[_(" 添加加热平台账号")])),default:r((()=>[c(Ee,{class:"general-card"},{default:r((()=>[c(ee,{size:16,direction:"vertical",fill:""},{default:r((()=>[c(ee,{direction:"vertical",fill:"",align:"center"},{default:r((()=>[m("div",qe,[c(ue,{value:re.value,size:200,level:"H"},null,8,["value"]),ve.value?(o(),i("div",Be,[m("div",Oe,[c(ol,{style:{color:"rgb(0, 180, 42)"}}),Pe])])):g("",!0)]),c(Qe,{color:"green"},{default:r((()=>[_("请用微信APP扫描二维码")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["visible"]),c(il,{visible:Y.value,"onUpdate:visible":l[12]||(l[12]=e=>Y.value=e),title:fe.value,onCancel:tl,onBeforeOk:al},{default:r((()=>[c(pe,{ref_key:"formRef",ref:ll,model:_e.value,"label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:r((()=>[(o(!0),i(p,null,v(Le.value,((e,l)=>(o(),b(u,{key:e,field:l,label:e,rules:[{required:!0,message:"请填写"+e}]},{default:r((()=>[c(a,{modelValue:_e.value[l],"onUpdate:modelValue":e=>_e.value[l]=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["field","label","rules"])))),128)),c(u,{field:"sphType",label:"视频号类型",rules:[{required:!0,message:"请选择视频号类型"}]},{default:r((()=>[c(Q,{modelValue:_e.value.sphType,"onUpdate:modelValue":l[11]||(l[11]=e=>_e.value.sphType=e),placeholder:"请选择视频号类型"},{default:r((()=>[(o(!0),i(p,null,v(f(se)(f(oe)),((e,l)=>(o(),b(n,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible","title"]),c(il,{visible:F.value,"onUpdate:visible":l[15]||(l[15]=e=>F.value=e),title:"",onCancel:tl,onBeforeOk:el},{title:r((()=>[_(" 请选择数据同步的时间"),c(ie,{type:"secondary"},{default:r((()=>[_(" （预计1小时内，同步完成） ")])),_:1})])),default:r((()=>[c(pe,{model:W,"label-align":"left","auto-label-width":"",layout:"horizontal"},{default:r((()=>[c(u,{label:"","label-col-flex":"60px"},{default:r((()=>[c(rl,{modelValue:W.days,"onUpdate:modelValue":l[13]||(l[13]=e=>W.days=e),"default-value":1},{default:r((()=>[c(cl,{value:1},{default:r((()=>[_("当日")])),_:1}),c(cl,{value:2},{default:r((()=>[_("近2天")])),_:1}),c(cl,{value:3},{default:r((()=>[_("近3天")])),_:1}),c(cl,{value:30},{default:r((()=>[_("近30天")])),_:1})])),_:1},8,["modelValue"])])),_:1}),c(u,{label:"","label-col-flex":"60px"},{default:r((()=>[c(rl,{modelValue:W.syncType,"onUpdate:modelValue":l[14]||(l[14]=e=>W.syncType=e),"default-value":1},{default:r((()=>[c(cl,{value:1},{default:r((()=>[_("短视频")])),_:1}),c(cl,{value:2},{default:r((()=>[_("直播间")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible"]),c(il,{visible:Fe.value,"onUpdate:visible":l[16]||(l[16]=e=>Fe.value=e),simple:!1,footer:!1,"mask-closable":!1},{title:r((()=>[_(" 请安装Chrome扩展，[魔力智投] 扩展 ")])),default:r((()=>[c(vl,null,{default:r((()=>[c(pl,null,{default:r((()=>[Ae])),_:1}),c(pl,{style:{"text-align":"center"}},{default:r((()=>[c(le,{type:"primary",shape:"round",onClick:ul},{default:r((()=>[_("安装向导")])),_:1})])),_:1})])),_:1})])),_:1},8,["visible"])])}}}),[["__scopeId","data-v-26535adc"]]),Re=e=>(W("data-v-de88a40d"),e=e(),Y(),e),Ee={class:"container"},De=Re((()=>m("div",{class:"labelText"},"名称搜索：",-1))),He=Re((()=>m("div",{class:"labelText"},"在线状态：",-1))),Ge=["src"],Ke=Re((()=>m("p",null,"账号登陆时效为8小时(视频哈助手官方定义的规则)，掉线会导致账号相应数据/操作都无法获取生效",-1))),Me={key:1},We={class:"pagination"},Ye=Re((()=>m("div",null,null,-1))),$e={key:0,class:"mark"},Fe={class:"iconBox"},Je=Re((()=>m("span",{style:{"font-size":"16px",color:"#1d2129","font-weight":"bold",display:"block"}}," 扫码成功",-1))),Qe=Re((()=>m("ul",null,[m("li",null," 仅支持谷歌浏览器（chrome）使用"),m("li",null," 没有此插件无法使用【分身登录】功能"),m("li",null," 安装完成后，请刷新本页面")],-1))),Xe=a(t({__name:"list-aide",setup(a){e();const t={x:1400,y:500};Q();const W=u({sphId:void 0,days:1,syncType:1}),Y=s(!1),F=s(!1),J=s(!1);s(!1),s([]),s("");const Z=s(""),ee=s(""),le=s(!1);s(),s(0),s(0);const ae=s("修改信息"),te=["","#00b42a","#f53f3f"],de=s({sphId:void 0,sphType:0,sphRemark:"",type:1}),oe=s({sphRemark:"备注名称"}),{loading:_e,setLoading:he}=X(!0);l.exports.useI18n();const ye=s([]),be=s({});s(!1),s("");const ge={current:1,pageIndex:1,pageSize:10},xe=u({...ge}),ke=async e=>{he(!0);try{const{data:l}=await re(e);ye.value=l.grid,xe.current=e.pageIndex,xe.pageIndex=e.pageIndex,xe.total=l.total}catch(l){}finally{he(!1)}},we=e=>{ge.pageIndex=e,ge.current=e,xe.pageIndex=e,xe.current=e,ke({...be.value,...ge})},ze=e=>{ge.pageSize=e,xe.pageSize=e,ke({...be.value,...ge})},Ie=()=>{we(1)};ke({...be.value,...ge});const Ve=s(!1),Ce=s(null),Se=async()=>{if(Ve.value)return;Ve.value=!0;const e=await me({token:ee.value});if(Ve.value=!1,5===e.data.status&&(le.value=!0),1===e.data.status)return x.success({content:"登录成功",duration:5e3}),J.value=!1,le.value=!1,Ie(),clearInterval(Ce.value),void(Ce.value=null);Ce.value=setTimeout(Se,1e3)},Te=async(e,l,a)=>{if(2===e)ae.value="修改视频号信息",de.value=l,de.value.type=2,Y.value=!0;else{Y.value=!1;const{data:e}=await pe({},a);Z.value=e.url,ee.value=e.token,J.value=!0,Ce.value=setTimeout(Se,1e3)}};n((()=>{clearInterval(Ce.value),Ce.value=null}));const je=async e=>{if(1===W.syncType){const{data:e,code:l}=await ie(W);x.success("同步数据请求已提交")}else{const{data:e,code:l}=await ce(W);x.success("同步数据请求已提交")}window.setTimeout((()=>{e()}),300)},Ue=s(),Ne=async e=>{var l;await(null==(l=Ue.value)?void 0:l.validate())?e(!1):(1===de.value.type||(await ve(de.value),x.success({content:"修改成功",duration:5e3}),Ie()),window.setTimeout((()=>{e()}),300))},qe=()=>{Y.value=!1},Be=s(!1),Oe=()=>{window.open("https://e601wcqokc.feishu.cn/docx/AS67dG9lro8PIIxl1ONcoLfhnYd?from=from_copylink")};return(e,l)=>{const a=k,u=w,s=z,n=$,Q=I,X=S,ee=T,ie=j,ce=C,re=U,pe=N,ve=q,me=d("icon-plus"),he=B,ge=O,ke=P,Ve=d("icon-question-circle-fill"),Ce=V,Se=A,Pe=L,Ae=R,Le=E,Re=d("icon-check-circle-fill"),Xe=D,Ze=H,el=G,ll=K,al=M;return o(),i("div",Ee,[c(re,null,{default:r((()=>[c(ve,{class:"general-card-upai",style:{width:"100%"}},{default:r((()=>[c(s,{flex:1},{default:r((()=>[c(pe,{model:be.value,"auto-label-width":"","label-align":"left"},{default:r((()=>[c(re,{gutter:16},{default:r((()=>[c(s,{span:8},{default:r((()=>[c(u,{field:"sphName"},{label:r((()=>[De])),default:r((()=>[c(a,{modelValue:be.value.sphName,"onUpdate:modelValue":l[0]||(l[0]=e=>be.value.sphName=e),placeholder:"请输入视频号名称","allow-clear":"",onPressEnter:Ie},null,8,["modelValue"])])),_:1})])),_:1}),c(s,{span:8},{default:r((()=>[c(u,{field:"sphStatus"},{label:r((()=>[He])),default:r((()=>[c(Q,{modelValue:be.value.sphStatus,"onUpdate:modelValue":l[1]||(l[1]=e=>be.value.sphStatus=e),placeholder:"请选择在线状态"},{default:r((()=>[(o(!0),i(p,null,v(f(se)(f(ne)),((e,l)=>(o(),b(n,{key:l,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),c(s,{span:8},{default:r((()=>[c(u,{field:"number","hide-label":!0},{default:r((()=>[c(ce,{size:18},{default:r((()=>[c(X,{type:"primary",class:"searchBtn",onClick:Ie},{default:r((()=>[_(" 筛选 ")])),_:1}),c(X,{type:"outline",class:"refreshBtn",onClick:l[2]||(l[2]=e=>Ie())},{default:r((()=>[_(" 刷新 ")])),_:1}),c(ie,{type:"primary"},{default:r((()=>[c(ee,{href:"javascript:void(0)",onClick:l[3]||(l[3]=e=>{be.value={}})},{default:r((()=>[_("重置筛选条件")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])),_:1})])),_:1})])),_:1}),c(ve,{class:"general-card-upai",style:{width:"100%","padding-bottom":"32px"}},{default:r((()=>[c(re,{style:{"margin-bottom":"16px"}},{default:r((()=>[c(s,{span:16},{default:r((()=>[c(ce,null,{default:r((()=>[c(X,{type:"primary",onClick:l[4]||(l[4]=e=>Te(1,{},!0))},{icon:r((()=>[c(me)])),default:r((()=>[_(" 添加视频号助手账号 ")])),_:1})])),_:1})])),_:1})])),_:1}),c(Ae,{"row-key":"id",pagination:!1,loading:f(_e),data:ye.value,hoverable:!0,stripe:!1,scroll:t,"sticky-header":!0,bordered:!1,onPageChange:we},{columns:r((()=>[c(ge,{title:"账号信息"},{cell:r((({record:e})=>[c(ce,null,{default:r((()=>[c(he,null,{default:r((()=>[m("img",{alt:"avatar",src:e.sphAvatar},null,8,Ge)])),_:2},1024),_(" "+h(e.sphName),1)])),_:2},1024)])),_:1}),c(ge,{title:"在线状态",align:"center",width:120},{cell:r((({record:e})=>[c(ke,{color:te[e.sphStatus]},{default:r((()=>[_(h(f(ne)[e.sphStatus]),1)])),_:2},1032,["color"])])),_:1}),c(ge,{align:"center",width:130},{title:r((()=>[c(ce,{size:4},{default:r((()=>[_(" 离线倒计时 "),c(Ce,{content:"This is tooltip content"},{content:r((()=>[Ke])),default:r((()=>[c(Ve)])),_:1})])),_:1})])),cell:r((({record:e})=>[Date.now()<f(y)(e.sphLeaveAt).valueOf()&&1===e.sphStatus?(o(),b(Se,{key:0,value:f(y)(e.sphLeaveAt).valueOf(),now:Date.now()},null,8,["value","now"])):(o(),i("span",Me," 已离线"))])),_:1}),c(ge,{title:"登录时间",align:"center"},{cell:r((({record:e})=>[_(h(e.sphLoginAt),1)])),_:1}),c(ge,{title:"备注名称",align:"center"},{cell:r((({record:e})=>[_(h(e.sphRemark),1)])),_:1}),c(ge,{align:"center",title:"操作","data-index":"operations",fixed:"right",width:350},{cell:r((({record:e})=>[c(ce,{direction:"vertical"},{default:r((()=>[c(ce,null,{default:r((()=>[c(X,{type:"text",size:"small",onClick:l[5]||(l[5]=e=>Te(1,{},void 0))},{default:r((()=>[_(" 重新登录 ")])),_:1}),c(X,{type:"text",size:"small",status:"success",onClick:l=>(e=>{if(1!==e.sphStatus)return void x.info("当前账号已离线,请尝试重新登录");if(1!==Number(document.getElementById("moliExt").value))return void(Be.value=!0);let l=e.sphCookie;l=l.replace("sessionid=",""),window.open(`https://channels.weixin.qq.com/login.html?type=2&promoteWebSessionIdwx=${l}`)})(e)},{default:r((()=>[_(" 分身登录 ")])),_:2},1032,["onClick"]),c(X,{type:"text",size:"small",onClick:l=>Te(2,e)},{default:r((()=>[_(" 修改 ")])),_:2},1032,["onClick"]),c(Pe,{content:"即将解除该视频号的绑定，请确认是否删除？","ok-text":"确认解除",onOk:l=>(async e=>{const{data:l,code:a}=await fe({sphId:e});200===a&&(x.success("成功解除绑定。"),Ie())})(e.sphId)},{default:r((()=>[c(X,{type:"text",status:"danger"},{default:r((()=>[_("解除绑定")])),_:1})])),_:2},1032,["onOk"])])),_:2},1024)])),_:2},1024)])),_:1})])),_:1},8,["loading","data"]),m("div",We,[Ye,m("div",null,[c(Le,{current:xe.pageIndex,"onUpdate:current":l[6]||(l[6]=e=>xe.pageIndex=e),"page-size":xe.pageSize,"onUpdate:pageSize":l[7]||(l[7]=e=>xe.pageSize=e),total:Number(xe.total),"show-total":!0,"show-page-size":!0,"page-size-options":[10,20,50,100,200],onChange:we,onPageSizeChange:ze},null,8,["current","page-size","total"])])])])),_:1}),c(Xe,{visible:J.value,"onUpdate:visible":l[8]||(l[8]=e=>J.value=e),width:"auto",footer:!1,simple:!0,"hide-cancel":""},{title:r((()=>[_(" 添加视频号助手账号")])),default:r((()=>[c(ve,{class:"general-card"},{default:r((()=>[c(ce,{size:16,direction:"vertical",fill:""},{default:r((()=>[c(ce,{direction:"vertical",fill:"",style:{"text-align":"center",position:"relative"}},{default:r((()=>[c(ue,{value:Z.value,size:200,level:"H",style:{position:"relative"}},null,8,["value"]),le.value?(o(),i("div",$e,[m("div",Fe,[c(Re,{style:{color:"rgb(0, 180, 42)"}}),Je])])):g("",!0),c(ke,{color:"green"},{default:r((()=>[_("请用微信APP扫描二维码")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["visible"]),c(Xe,{visible:Y.value,"onUpdate:visible":l[9]||(l[9]=e=>Y.value=e),title:ae.value,onCancel:qe,onBeforeOk:Ne},{default:r((()=>[c(pe,{ref_key:"formRef",ref:Ue,model:de.value,"label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:r((()=>[(o(!0),i(p,null,v(oe.value,((e,l)=>(o(),b(u,{key:e,field:l,label:e,rules:[{required:!0,message:"请填写"+e}]},{default:r((()=>[c(a,{modelValue:de.value[l],"onUpdate:modelValue":e=>de.value[l]=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["field","label","rules"])))),128))])),_:1},8,["model"])])),_:1},8,["visible","title"]),c(Xe,{visible:F.value,"onUpdate:visible":l[12]||(l[12]=e=>F.value=e),title:"",onCancel:qe,onBeforeOk:je},{title:r((()=>[_(" 请选择数据同步的时间"),c(ie,{type:"secondary"},{default:r((()=>[_(" （预计1小时内，同步完成） ")])),_:1})])),default:r((()=>[c(pe,{model:W,"label-align":"left","auto-label-width":"",layout:"horizontal"},{default:r((()=>[c(u,{label:"","label-col-flex":"60px"},{default:r((()=>[c(el,{modelValue:W.days,"onUpdate:modelValue":l[10]||(l[10]=e=>W.days=e),"default-value":1},{default:r((()=>[c(Ze,{value:1},{default:r((()=>[_("当日")])),_:1}),c(Ze,{value:2},{default:r((()=>[_("近2天")])),_:1}),c(Ze,{value:3},{default:r((()=>[_("近3天")])),_:1}),c(Ze,{value:30},{default:r((()=>[_("近30天")])),_:1})])),_:1},8,["modelValue"])])),_:1}),c(u,{label:"","label-col-flex":"60px"},{default:r((()=>[c(el,{modelValue:W.syncType,"onUpdate:modelValue":l[11]||(l[11]=e=>W.syncType=e),"default-value":1},{default:r((()=>[c(Ze,{value:1},{default:r((()=>[_("短视频")])),_:1}),c(Ze,{value:2},{default:r((()=>[_("直播间")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["visible"]),c(Xe,{visible:Be.value,"onUpdate:visible":l[13]||(l[13]=e=>Be.value=e),simple:!1,footer:!1,"mask-closable":!1},{title:r((()=>[_(" 请安装Chrome扩展，[魔力智投] 扩展 ")])),default:r((()=>[c(al,null,{default:r((()=>[c(ll,null,{default:r((()=>[Qe])),_:1}),c(ll,{style:{"text-align":"center"}},{default:r((()=>[c(X,{type:"primary",shape:"round",onClick:Oe},{default:r((()=>[_("安装向导")])),_:1})])),_:1})])),_:1})])),_:1},8,["visible"])])}}}),[["__scopeId","data-v-de88a40d"]]),Ze=e=>(W("data-v-006c8e8d"),e=e(),Y(),e),el={class:"container"},ll=Ze((()=>m("input",{id:"moliExt",type:"hidden"},null,-1))),al=Ze((()=>m("p",null,"进行加热计划搭建的账号",-1))),tl=Ze((()=>m("p",null,"进行视频发布的账号",-1))),ul=a(t({__name:"tabIndex",setup(e){const l=Q(),a=s(1),{key:t}=l.currentRoute.value.query||0;return Number(t)>0&&(a.value=Number(t)),(e,l)=>{const t=d("Breadcrumb"),u=C,s=d("icon-question-circle-fill"),n=V,p=F,v=J;return o(),i("div",el,[c(t,{items:["视频号管理","账号列表"]}),ll,c(v,{"active-key":a.value,"onUpdate:activeKey":l[0]||(l[0]=e=>a.value=e)},{default:r((()=>[(o(),b(p,{key:1},{title:r((()=>[c(u,{size:8},{default:r((()=>[_("加热平台账号")])),_:1}),c(n,null,{content:r((()=>[al])),default:r((()=>[c(s)])),_:1})])),default:r((()=>[c(Le)])),_:1})),(o(),b(p,{key:2,title:""},{title:r((()=>[c(u,{size:8},{default:r((()=>[_("视频号助手账号")])),_:1}),c(n,null,{content:r((()=>[tl])),default:r((()=>[c(s)])),_:1})])),default:r((()=>[c(Xe)])),_:1}))])),_:1},8,["active-key"])])}}}),[["__scopeId","data-v-006c8e8d"]]);export{ul as default};
