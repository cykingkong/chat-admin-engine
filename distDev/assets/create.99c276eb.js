import{d as Ga,r as s,f as ja,a2 as Ja,j as f,o as c,a as _,n as u,e as r,m as e,F as L,k as z,q as n,l as g,s as h,t as v,u as ue,N as $u,x as Ka,M as k,a8 as K,p as Qa,b as Za,B as gu,_ as Ha}from"./index.f3be9d6e.js";import{u as Xa}from"./loading.b87f2d78.js";import{_ as Y}from"./lodash.5369d405.js";import{p as el,j as ul}from"./live-plant.2ec3feca.js";import{c as al,g as ll,e as tl,f as ol,h as Gu,p as nl}from"./live.d4d5dd78.js";import{s as sl}from"./rule.5dbfdae1.js";import{e as rl,f as ju,s as il,h as dl,b as cl}from"./sph.64c0f6af.js";import{Q as vl}from"./qrcode.vue.esm.65579910.js";import{C as Ju}from"./antd.5d48db19.js";import{p as fl,c as pl}from"./address.2140e733.js";import{j as Ku,p as ml}from"./enum.5f967a9b.js";const m=Ve=>(Qa("data-v-41f2d1b0"),Ve=Ve(),Za(),Ve),gl={class:"container"},Fl={class:"selectTips"},hl=m(()=>r("span",{class:"selectText"},"\u8BF7\u9009\u62E9\u8981\u52A0\u70ED\u7684\u76F4\u64AD",-1)),_l={style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},Il={style:{display:"flex",alignItems:"center",color:"#1D2129"}},El={class:"flex_ct"},Cl={key:0,class:"liveTag"},bl=m(()=>r("div",{class:"sc"},[r("div",{class:"sm"})],-1)),yl=m(()=>r("div",{class:"text"},"\u76F4\u64AD\u4E2D ",-1)),Al=[bl,yl],Bl=m(()=>r("span",{style:{"font-size":"12px",color:"#ccc",display:"inline-block","margin-left":"5px"}},"\u5B9E\u9645\u6548\u679C\u4E0E\u76F4\u64AD\u8D28\u91CF\u6709\u5173\uFF0C\u672A\u5E26\u6765\u7684\u89C2\u770B\u91CF\u5C06\u5728\u76F4\u64AD\u7ED3\u675F\u540E\u6309\u89C4\u5219\u6298\u7B97\u5FAE\u4FE1\u8C46\u6216\u6D41\u91CF\u5238\u9000\u56DE\u539F\u8D26\u6237\u3002",-1)),Dl={style:{"margin-top":"20px"}},xl={style:{"font-size":"24px",color:"#1554f8"}},kl=m(()=>r("span",{style:{"font-size":"12px",color:"#1554f8"}},"\u4EBA",-1)),Nl=m(()=>r("span",null,[n("\u52A0\u70ED\u65B9\u5F0F "),r("span",{style:{"font-size":"12px",color:"#ccc",display:"inline-block","margin-left":"5px"}},"\u65E0\u5546\u54C1\u94FE\u63A5\u7684\u76F4\u64AD\u95F4\u6682\u4E0D\u652F\u6301\u4EE5\u4E0B\u65B9\u5F0F\uFF1A\u63A7\u6210\u672C\u52A0\u70ED")],-1)),Vl=m(()=>r("span",null,[n("\u4F18\u5148\u63D0\u5347\u76EE\u6807 "),r("span",{style:{"font-size":"12px",color:"#ccc",display:"inline-block","margin-left":"5px"}},"\u65E0\u5546\u54C1\u94FE\u63A5\u7684\u76F4\u64AD\u95F4\u6682\u4E0D\u652F\u6301\u4EE5\u4E0B\u76EE\u6807\uFF1A\u76F4\u64AD\u95F4\u5546\u54C1\u70B9\u51FB\u3001\u76F4\u64AD\u95F4\u5546\u54C1\u6210\u4EA4")],-1)),wl=m(()=>r("img",{src:"https://img.adyinqing.com/upai_shop/nm4pmvv91690358218990",alt:"",class:"wx_dou_icon"},null,-1)),Ol=m(()=>r("span",null,"\u4E0B\u5355\u91D1\u989D",-1)),Tl=m(()=>r("img",{src:"https://img.adyinqing.com/upai_shop/nm4pmvv91690358218990",alt:"",class:"wx_dou_icon"},null,-1)),Pl=m(()=>r("span",null,"\u81EA\u5B9A\u4E49",-1)),Sl={style:{display:"flex","align-items":"center"}},Ul={key:1,src:"https://img.adyinqing.com/upai_shop/nm4pmvv91690358218990",alt:"",class:"wx_dou_icon",style:{"margin-left":"4px"}},Ll=m(()=>r("span",null,"\u52A0\u70ED\u7D20\u6750",-1)),zl={style:{"margin-top":"20px"}},Yl={key:0},ql=m(()=>r("span",null,"\u52A0\u70ED\u65F6\u957F",-1)),Ml=m(()=>r("span",null,[n("\u6839\u636E\u7C89\u4E1D\u5C42\u63A8\u8350 "),r("span",{style:{"font-size":"12px",color:"#ccc",display:"inline-block","margin-left":"5px"}},"\u89C6\u9891\u5C06\u5B9A\u5411\u63A8\u7ED9\u4F60\u9009\u62E9\u4F5C\u8005\u7684\u7C89\u4E1D\uFF0C\u4EE5\u53CA\u4E0E\u7C89\u4E1D\u76F8\u4F3C\u7684\u4EBA\u3002")],-1)),Rl=m(()=>r("br",null,null,-1)),Wl=m(()=>r("span",null,"\u6839\u636E\u6027\u522B\u5B9A\u5411\u63A8\u8350",-1)),$l=m(()=>r("span",null,"\u6839\u636E\u5E74\u9F84\u63A8\u8350",-1)),Gl=m(()=>r("span",null,"\u6839\u636E\u5730\u533A\u63A8\u8350",-1)),jl=m(()=>r("span",null,"\u6839\u636E\u5174\u8DA3\u63A8\u8350",-1)),Jl=m(()=>r("span",null,"\u5176\u4ED6\u652F\u4ED8\u65B9\u5F0F",-1)),Kl={style:{"font-size":"14px","font-weight":"500"}},Ql={style:{"font-size":"14px","font-weight":"500","white-space":"nowrap"}},Zl=m(()=>r("img",{src:"https://img.adyinqing.com/upai_shop/nm4pmvv91690358218990",alt:"",class:"wx_dou_icon",style:{"margin-bottom":"0"}},null,-1)),Hl=m(()=>r("span",{style:{"font-size":"18px","font-weight":"500"}},"\u8BA2\u5355\u6570\u91CF\uFF1A ",-1)),Xl=m(()=>r("span",{style:{"font-size":"18px","font-weight":"500"}},"\u8BA2\u5355\u91D1\u989D\uFF1A ",-1)),et=m(()=>r("img",{src:"https://img.adyinqing.com/upai_shop/nm4pmvv91690358218990",alt:"",class:"wx_dou_icon",style:{"margin-bottom":"0"}},null,-1)),ut=m(()=>r("span",{style:{"font-size":"18px","font-weight":"500"}},"\u9700\u652F\u4ED8\uFF1A ",-1)),at=m(()=>r("img",{src:"https://img.adyinqing.com/upai_shop/nm4pmvv91690358218990",alt:"",class:"wx_dou_icon",style:{"margin-bottom":"0"}},null,-1)),lt=m(()=>r("span",null,"\u9009\u62E9\u8981\u52A0\u70ED\u7684\u89C6\u9891 ",-1)),tt={key:0},ot=["src"],nt={class:"countBox"},st=["src"],rt={class:"titleBox"},it={class:"labelContentL"},dt=["onClick"],ct={class:"labelContentR"},vt=["onClick"],ft={class:"searchContentBox"},pt=["onClick"],mt=m(()=>r("span",null,"\u53EF\u81EA\u884C\u9009\u62E9\u67D0\u4E2A\u76F4\u64AD\u5BF9\u8C61\u8FDB\u884C\u52A0\u70ED\uFF0C\u4F7F\u7528\u52A0\u70ED\u540E\u76F4\u64AD\u95F4\u5C06\u63A8\u8350\u7ED9\u66F4\u591A\u7528\u6237\uFF0C\u4ECE\u800C\u63D0\u5347\u89C2\u770B\u4EBA\u6570\u3001\u8BC4\u8BBA\u3001\u7C89\u4E1D\u7B49\u3002 ",-1)),gt={style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},Ft={style:{display:"flex",alignItems:"center",color:"#1D2129"}},ht={class:"flex_ct"},_t={key:0,class:"liveTag"},It=m(()=>r("div",{class:"sc"},[r("div",{class:"sm"})],-1)),Et=m(()=>r("div",{class:"text"},"\u76F4\u64AD\u4E2D ",-1)),Ct=[It,Et],bt=["src"],yt={class:"tableBox"},At={key:1},Bt=m(()=>r("span",{style:{"font-size":"16px"}},"\u8BF7\u4F7F\u7528\u5BF9\u5E94\u6295\u624B\u53F7\u8FDB\u884C\u652F\u4ED8",-1)),Dt={style:{"font-size":"14px"}},xt={key:0,style:{"font-size":"16px"}},kt={class:"qrcodeBox"},Nt={key:1,class:"qrcodePayMark"},Vt={class:"tipsWords"},wt=m(()=>r("div",{className:"custom-checkbox-card-mask"},[r("div",{className:"custom-checkbox-card-mask-dot"})],-1)),Ot={className:"custom-checkbox-card-title"},Tt={class:"cardId"},Pt={class:"flexLi"},St={class:"endTime"},Ut={class:"createTime"},Lt=Ga({__name:"create",setup(Ve){const we=s(!1),Fu=s(!1),Oe=s(0),uu=s(!1),O=s(!1),q=s("\u6B63\u5728\u521B\u5EFA\u652F\u4ED8\u8BA2\u5355"),Qu=s(["","\u5EFA\u8BAE\u57282-6\u5FAE\u4FE1\u8C46","\u5EFA\u8BAE\u572840-220\u5FAE\u4FE1\u8C46","\u5EFA\u8BAE\u5728100-900\u5FAE\u4FE1\u8C46","\u5EFA\u8BAE\u572830-300\u5FAE\u4FE1\u8C46","","","","\u5EFA\u8BAE\u5728200-1200\u5FAE\u4FE1\u8C46"]),x=s([]),G=s([]),hu=()=>({total:0,success:0,error:0,overPay:0}),ve=s({current:1,pageSize:10,chengeNum:0}),_u=s({}),au=s([]),I=s(hu()),p=s([]),F=s(0),fe=s(!0),Ee=s(!0),Zu=s(),Hu=s(),pe=()=>{console.log("stop"),fe.value=!0,Ee.value=!0,clearInterval(Zu.value),clearInterval(Hu.value),setTimeout(()=>{Ce()},2500)},Xu=()=>{if(p.value.length>0){if(!p.value[F.value+1]&&I.value.success+I.value.error!==x.value.length)return;if(F.value+=1,p.value[F.value]&&Number(p.value[F.value].index)%10===0&&(ve.value.current+=1,C.value="\u5207\u6362\u6210\u529F\uFF0C\u8BF7\u8FDB\u884C\u652F\u4ED8\u2026."),!p.value[F.value])G.value=[],I.value.success+I.value.error===x.value.length&&(pe(),G.value=[],O.value=!0,q.value="\u5F53\u524D\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210",C.value="\u5F53\u524D\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210",k.success("\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210"));else{G.value=[x.value[Y.findIndex(x.value,["plantCode",p.value[F.value].plantCode])].plantCode];const o=p.value[F.value].index;[2,5].includes(x.value[o].plantStatus)?(O.value=!0,C.value="\u5F53\u524D\u8BA2\u5355\u5DF2\u652F\u4ED8\u5B8C\u6210",q.value="\u5F53\u524D\u8BA2\u5355\u652F\u4ED8\u5B8C\u6210\uFF0C\u8BF7\u52FF\u91CD\u590D\u64CD\u4F5C"):(C.value="\u5207\u6362\u6210\u529F\uFF0C\u8BF7\u8FDB\u884C\u652F\u4ED8\u2026.",O.value=!1,q.value="")}}else console.log("2\u652F\u4ED8\u5B8C\u6210"),pe(),O.value=!0,q.value="\u5F53\u524D\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210",C.value="\u5F53\u524D\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210"};s(0),s(1);const Ce=async()=>{if(fe.value||Oe.value===0)return;fe.value=!0,we.value=!0;const{data:o}=await el({taskIds:Oe.value.join(","),pageIndex:1,pageSize:110,startDate:"2023-01-01",endDate:"2128-01-01"});x.value=o.grid,I.value=hu(),I.value.total=o.total;for(let a=0;a<x.value.length;a++){const i=x.value[a];switch(i.createStatus){case 1:I.value.success+=1;break;case 3:I.value.error+=1;break}if(i.plantStatus===10&&i.createStatus===1&&Y.findIndex(p.value,["plantCode",i.plantCode])===-1){let d="undefined";i.sphInfo.sphUserType===3&&(d=i.sphInfo.sphUniqid),p.value.push({plantName:i.plantName,plantCode:i.plantCode,sphId:i.sphId,index:a,qrCodeVal:`https://channels.weixin.qq.com/promote/pages/mobile_pay?promotionId=${i.plantCode}&type=live&userType=${i.sphInfo.sphUserType}&corproateId=${d}`})}(i.plantStatus===1||i.plantStatus===4)&&(I.value.overPay+=1)}if(uu.value=!1,fe.value=!1,p.value.length===1&&(G.value=[x.value[Y.findIndex(x.value,["plantCode",p.value[0].plantCode])].plantCode]),I.value.total===I.value.success+I.value.error&&I.value.success===I.value.overPay){pe(),console.log("3\u652F\u4ED8\u5B8C\u6210"),O.value=!0,q.value="\u5F53\u524D\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210",C.value="\u5F53\u524D\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210";return}if(F.value>0&&!p.value[F.value]&&(console.log("4\u652F\u4ED8\u5B8C\u6210"),p.value.length===x.value.length)){pe(),O.value=!0,q.value="\u5F53\u524D\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210",C.value="\u5F53\u524D\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210";return}I.value.total!==I.value.success+I.value.error&&setTimeout(()=>{Ce()},1500),I.value.success!==I.value.overPay&&setTimeout(()=>{Ce()},1500),p.value.length>0&&(console.log("\u5173\u95EDspin"),p.value[F.value]?O.value=!1:O.value=!0,C.value===""&&(C.value="\u7B49\u5F85\u652F\u4ED8\u4E2D\u2026\u2026"))},t=s((()=>({sequence:"",engineInfo:{orderName:K().format("YYYY\u5E74MM\u6708DD\u65E5"),packageId:null,sphIds:[],hotType:1,userVoucherType:0,ruleId:"",taskNum:1,yjl:100,videoUrl:"",sphInfo:[],taskArr:[],videoInfo:{},authorInfo:{},cityIdArr:[],videoTagArr:[],videoUserName:[],insertTagArr:[],videoCurrenyArr:[]},livePromotionOrderInfo:{promotionTarget:1,suggest:{gender:[],ageRange:[],cityIds:[],interestTag:[],interestTagV3:[],similarUsernameList:[],interestTagV3Mark:0},duration:"1800",promotionType:2,orderType:1,materialFlag:1,materialFeedExportids:[],estimatedWecoinAmount:"500",internalInfo:{isInternal:!1}},targetUsername:"",voucherId:[],cardIds:[],orderName:K().format("YYYY\u5E74MM\u6708DD\u65E5"),deviceInfo:{appVer:1,deviceTypeId:1}}))()),ea=ja(),ua=()=>{ea.push({name:"sphList"})},aa={1:"\u76F4\u64AD\u95F4\u89C2\u4F17",2:"\u76F4\u64AD\u95F4\u4E92\u52A8",3:"\u76F4\u64AD\u95F4\u6DA8\u7C89",4:"\u76F4\u64AD\u95F4\u5546\u54C1\u70B9\u51FB",8:"\u76F4\u64AD\u95F4\u5546\u54C1\u6210\u4EA4"},Iu={1:"\u6BCF\u4E2A\u89C2\u4F17\u8FDB\u5165\u7684\u51FA\u4EF7",2:"\u6BCF\u6761\u7528\u6237\u8BC4\u8BBA\u7684\u51FA\u4EF7",3:"\u6BCF\u4E2A\u65B0\u589E\u7C89\u4E1D\u7684\u51FA\u4EF7",4:"\u6BCF\u4E2A\u5546\u54C1\u70B9\u51FB\u7684\u51FA\u4EF7",8:"\u6BCF\u4E2A\u8BA2\u5355\u6210\u4EA4\u7684\u51FA\u4EF7"},Q={1:[500,1e3,2e3,3e3,4e3,5e3],2:[2e3,3e3,4e3,5e3,6e3],3:[3e3,4e3,5e3,6e3,8e3],4:[5e3,6e3,7e3,8e3,1e4],8:[5e3,8e3,1e4,12e3,15e3]},lu={1:500,2:25,3:10,4:33,8:10},Te=s(!0),Eu=s([]),be=s([]),Pe=s([]),Se=s(!1),M=s(1e3),w=s(500),Z=s(void 0);s(1);const T=s(!1),j=s(!0),Ue=s(500),Le=s(!1),tu=s("\u65B0\u5EFA\u5206\u7EC4"),R=s({name:null,type:1}),Cu=s(),ze=s(!1),ne=s(!1),me=s(!1),ou=s([]),Ye=s(""),W=s({}),ae=s(!1);s(!1);const bu=s(!0),qe=s({page:1,total:0}),yu=s([]),ye=s([]),la=()=>{console.log(ye.value)},nu=s(!1),$=s([]),Ae=s([]),Be=s(!1),De=s(!1),su=s(2),Me=s(""),Re=s(""),Au=s(1),We=s("");s(""),s([]);const ge=s(!1),C=s(""),xe=s(0),P=s('[{"accountInfos":[],"labelName":"\u6444\u5F71","labelId":"1"},{"accountInfos":[],"labelName":"\u97F3\u4E50","labelId":"2"},{"accountInfos":[],"labelName":"\u751F\u6D3B","labelId":"3"},{"accountInfos":[],"labelName":"VLOG","labelId":"4"},{"accountInfos":[],"labelName":"\u7F8E\u98DF","labelId":"5"},{"accountInfos":[],"labelName":"\u5F71\u89C6\u7EFC","labelId":"6"},{"accountInfos":[],"labelName":"\u60C5\u611F","labelId":"7"},{"accountInfos":[],"labelName":"\u65C5\u884C","labelId":"8"},{"accountInfos":[],"labelName":"\u804C\u573A","labelId":"9"},{"accountInfos":[],"labelName":"\u989C\u503C","labelId":"10"},{"accountInfos":[],"labelName":"\u4EB2\u5B50","labelId":"11"},{"accountInfos":[],"labelName":"\u4EBA\u6587\u827A\u672F","labelId":"12"},{"accountInfos":[],"labelName":"\u4E8C\u6B21\u5143","labelId":"13"},{"accountInfos":[],"labelName":"\u821E\u8E48","labelId":"14"},{"accountInfos":[],"labelName":"\u6E38\u620F","labelId":"15"},{"accountInfos":[],"labelName":"\u6559\u80B2","labelId":"16"},{"accountInfos":[],"labelName":"\u5BA0\u7269","labelId":"17"},{"accountInfos":[],"labelName":"\u4F53\u80B2","labelId":"18"},{"accountInfos":[],"labelName":"\u7F8E\u5986","labelId":"19"},{"accountInfos":[],"labelName":"\u65F6\u5C1A","labelId":"20"},{"accountInfos":[],"labelName":"\u79D1\u5B66\u79D1\u666E","labelId":"21"},{"accountInfos":[],"labelName":"\u641E\u7B11","labelId":"22"},{"accountInfos":[],"labelName":"\u793E\u4F1A","labelId":"23"},{"accountInfos":[],"labelName":"\u6C7D\u8F66","labelId":"24"},{"accountInfos":[],"labelName":"\u8D22\u7ECF","labelId":"25"},{"accountInfos":[],"labelName":"\u5065\u5EB7","labelId":"26"},{"accountInfos":[],"labelName":"\u5267\u60C5","labelId":"28"},{"accountInfos":[],"labelName":"\u4E09\u519C","labelId":"29"},{"accountInfos":[],"labelName":"\u6CD5\u5F8B","labelId":"31"},{"accountInfos":[],"labelName":"\u5A31\u4E50","labelId":"32"},{"accountInfos":[],"labelName":"\u6536\u85CF","labelId":"33"},{"accountInfos":[],"labelName":"\u79D1\u6280","labelId":"34"},{"accountInfos":[],"labelName":"\u661F\u5EA7\u8FD0\u52BF","labelId":"35"},{"accountInfos":[],"labelName":"\u516C\u76CA","labelId":"36"},{"accountInfos":[],"labelName":"\u5386\u53F2","labelId":"37"},{"accountInfos":[],"labelName":"\u5B97\u6559","labelId":"38"},{"accountInfos":[],"labelName":"\u65E0\u6CD5\u5206\u7C7B","labelId":"39"},{"accountInfos":[],"labelName":"\u519B\u4E8B","labelId":"40"}]'),ta=[{label:"\u6D4F\u89C8",iconUrl:"https://img.adyinqing.com/upai_shop/2vo96s3s1685331358030",value:"readCount"},{label:"\u70B9\u8D5E",iconUrl:"https://img.adyinqing.com/upai_shop/37yp0twk1685329463259",value:"likeCount"},{label:"\u8BC4\u8BBA",iconUrl:"https://img.adyinqing.com/upai_shop/pct8hpxr1685329463229",value:"commentCount"},{label:"\u8F6C\u53D1",iconUrl:"https://img.adyinqing.com/upai_shop/cvbiirrf1685329463284",value:"favCount"}];P.value=JSON.parse(P.value);const oa=s({}),ru=s();fetch("https://img.adyinqing.com/json/tag.json").then(o=>o.json()).then(o=>{oa.value=o,ru.value=o,console.log(o)});const se=s(),J=s(1),A=s([]),na=s([]),S=s(0),$e=s(""),Ge=s(!1),Fe=s(1),je=s(!1),Bu=s([]),Du=[],xu=s([]),he=s([]),ku=s(`\u9700\u5728${Q[Number(t.value.livePromotionOrderInfo.promotionTarget)][0]}-300000\u4E4B\u95F4`);(async()=>{fl.forEach(o=>{o.value=o.code,o.label=o.name,o.children=[],pl.forEach(a=>{o.province===a.province&&(a.value=a.code,a.label=a.name,o.children.push(a))}),Du.push(o)})})();const sa=async(o,a)=>{t.value.livePromotionOrderInfo.suggest.cityIds=[],o.forEach(i=>{i.length===2?t.value.livePromotionOrderInfo.suggest.cityIds.push(String(i[1])):t.value.livePromotionOrderInfo.suggest.cityIds.push(String(i[0]))}),t.value.engineInfo.cityIdArr=o},Nu=s(!1),ra=async(o,a)=>{t.value.livePromotionOrderInfo.suggest.interestTagV3=[],a.forEach((i,d)=>{t.value.livePromotionOrderInfo.suggest.interestTagV3.push({interestTag:Number(i[i.length-1].labelId),tagLevel:Number(i[i.length-1].labelLevel),interestTagName:i[i.length-1].labelName})}),console.log(t.value,"elelelel"),console.log(se.value),t.value.engineInfo.insertTagArr=se.value},iu=async o=>{if(S.value=o,!t.value.engineInfo.sphIds[0]){k.warning({content:"\u8BF7\u5148\u9009\u62E9\u6295\u653E\u53F7",duration:3*1e3});return}if(P.value[S.value].accountInfos.length===0){ge.value=!0;const{data:a}=await rl({sphId:t.value.engineInfo.sphIds[0],labelId:P.value[S.value].labelId});P.value[S.value].accountInfos=a.data.labelTag.accountInfos,P.value[S.value].accountInfos.forEach(i=>{i.select=!1}),a&&(ge.value=!1)}},ia=o=>{p.value.length>0&&(Y.findIndex(p.value,["plantCode",o.plantCode])!==-1?([2,5].includes(Number(o.plantStatus))?(O.value=!0,C.value="\u5F53\u524D\u8BA2\u5355\u5DF2\u652F\u4ED8\u5B8C\u6210",q.value="\u5F53\u524D\u8BA2\u5355\u652F\u4ED8\u5B8C\u6210\uFF0C\u8BF7\u52FF\u91CD\u590D\u64CD\u4F5C"):(C.value="\u5207\u6362\u6210\u529F\uFF0C\u8BF7\u8FDB\u884C\u652F\u4ED8\u2026.",O.value=!1,q.value=""),F.value=Y.findIndex(p.value,["plantCode",o.plantCode]),G.value=[o.plantCode],[2,5].includes(Number(o.plantStatus))||cu()):(o.plantCode!=="0"?G.value=[o.plantCode]:G.value=[],O.value=!0,C.value="\u8BA1\u5212\u521B\u5EFA\u5931\u8D25\uFF0C\u65E0\u6CD5\u652F\u4ED8"))};(async()=>{const{data:o}=await sl({pageIndex:1,pageSize:100,srType:2});xu.value=o.grid||[]})();const Vu=async o=>{t.value.engineInfo.ruleId=o.join(",")},da=async()=>{Te.value===!1?t.value.engineInfo.ruleId="":Vu(he.value)},ca=async()=>{if($e.value.length>0){Ge.value=!0,ge.value=!0;try{const{data:o}=await ju({sphId:t.value.engineInfo.sphIds[0],query:$e.value,pageIndex:1,pageSize:20});Bu.value=o.data.list}catch{}finally{ge.value=!1}}else Ge.value=!1},wu=(o,a)=>{const i=A.value.indexOf(o.nickName);if(console.log(i,"findTagKey"),i>=0)A.value.splice(A.value.indexOf(o.nickName),1),t.value.livePromotionOrderInfo.suggest.similarUsernameList.splice(t.value.livePromotionOrderInfo.suggest.similarUsernameList.indexOf(o.username),1),P.value[S.value].accountInfos[a].select=!1;else{if(A.value.length>=20){k.warning("\u6700\u5927\u53EA\u80FD\u9009\u62E920\u4F4D\u4F5C\u8005");return}A.value.push(o.nickName),na.value.push(o.username),t.value.livePromotionOrderInfo.suggest.similarUsernameList.push(o.username),P.value[S.value].accountInfos[a].select=!0}t.value.engineInfo.videoTagArr=A.value},va=o=>{console.log(o,A.value,Y.indexOf(A.value,o)),A.value.splice(Y.indexOf(A.value,o),1),k.info("\u8BF7\u901A\u8FC7\u70B9\u51FB\u6DFB\u52A0\u4F5C\u8005\u7684\u7C89\u4E1D")},fa=o=>{P.value[S.value].accountInfos.forEach(a=>{a.nickName===o&&(a.select=!1,t.value.livePromotionOrderInfo.suggest.similarUsernameList.splice(t.value.livePromotionOrderInfo.suggest.similarUsernameList.indexOf(a.username),1))})},pa=o=>{je.value=!0,Fe.value=2,ne.value=!1,o(!1)},ma=()=>{t.value.livePromotionOrderInfo.suggest.similarUsernameList.length===0&&(ne.value=!1,Fe.value=1,je.value=!0,A.value=[],t.value.livePromotionOrderInfo.suggest.similarUsernameList=[])},ga=async o=>{ve.value.current=o},Ou=s(),{loading:Tu,setLoading:H}=Xa(!0),Fa=async o=>{let a=o.map(N=>N);a=[...new Set(a)];const{data:i}=await cl({sphId:a}),d=i.grid.filter(N=>N.sphStatus!==1);return new Promise((N,re)=>{d.length>0?re(d):N(!0)})},ha=async o=>{console.log(o,"sphIdsChange"),o.length&&Fa(o).then(a=>{}).catch(a=>{console.log(t.value.engineInfo.sphIds.filter(i=>i!==a.sphId),"errorcheckSphStatus"),a.forEach(i=>{t.value.engineInfo.sphIds=t.value.engineInfo.sphIds.filter(d=>d!==i.sphId)})}),Pe.value=t.value.engineInfo.sphIds.map(a=>(console.log(Y.find(be.value,["sphId",a])),Y.find(be.value,["sphId",a])))},Pu=async o=>{const{data:a}=await il({pageIndex:1,pageSize:100,sphName:o}),i=a.grid.map(d=>(d.onlySphName=`${d.sphName}`,d.realSphName=d.sphName,d.sphName=`${d.sphName} \u5907\u6CE8\u540D\uFF1A${d.sphRemark?d.sphRemark:"-"} \xA0\xA0\xA0\xA0\u5FAE\u4FE1\u8C46\u4F59\u989D ${d.sphBalance}`,d));t.value.engineInfo.sphIds.length&&(Pe.value=t.value.engineInfo.sphIds.map(d=>Y.find(a.grid,["sphId",d]))),be.value=i||[]},Su=async o=>{const{data:a}=await nl({pageIndex:1,pageSize:100,name:o});Eu.value=a.grid||[]},_a=(o,a)=>(Object.keys(o).forEach(i=>{i===a&&delete o[i]}),o),Ia=()=>{if(!t.value.engineInfo.sphIds[0]){k.warning({content:"\u8BF7\u5148\u9009\u62E9\u6295\u653E\u53F7",duration:3*1e3});return}if(!t.value.targetUsername){k.warning({content:"\u8BF7\u5148\u9009\u62E9\u52A0\u70ED\u8D26\u53F7",duration:3*1e3});return}if(T.value){T.value=!1,$.value=[],t.value.livePromotionOrderInfo.materialFeedExportids=[];return}ze.value=!0,Ze()},Ea=async o=>{W.value=o,ae.value=!0,Au.value=1,We.value="",Ae.value=[],t.value.targetUsername=o.username;const{data:a}=await Gu({sphId:t.value.engineInfo.sphIds[0],username:o.username});_u.value=a.data,me.value=!1,a.data.hasShopShelf===1&&(De.value=!0,J.value=2,t.value.livePromotionOrderInfo.promotionTarget=8,du()),t.value.engineInfo.authorInfo=o,Ze()},Ca=()=>{J.value===1&&delete t.value.livePromotionOrderInfo.suggest.wecoinBid},ba=o=>(o=Number(o)/100,o);function ya(o){return o=Number(o),o>=1e4?o=`${Math.floor(o/1e3)/10}W+`:o>=1e3&&(o=`${Math.floor(o/100)/10}K+`),o}const du=async()=>{w.value=Q[Number(t.value.livePromotionOrderInfo.promotionTarget)][0],console.log(M.value,Number(Q[Number(t.value.livePromotionOrderInfo.promotionTarget)][0])),M.value=Number(Q[Number(t.value.livePromotionOrderInfo.promotionTarget)][0]),ku.value=`\u9700\u5728${Q[Number(t.value.livePromotionOrderInfo.promotionTarget)][0]}-300000\u4E4B\u95F4`,Je()},Je=async()=>{switch(w.value){case-1:Se.value=!0,Ke();break;default:t.value.livePromotionOrderInfo.estimatedWecoinAmount=String(w.value),J.value===2&&Z.value>0?Qe():Ue.value=w.value/1e3*lu[t.value.livePromotionOrderInfo.promotionTarget];break}},Ke=async()=>{t.value.livePromotionOrderInfo.estimatedWecoinAmount=String(M.value),console.log(M.value,"estimatedWecoinAmountZdyChange",M.value/1e3*lu[t.value.livePromotionOrderInfo.promotionTarget]),J.value===2&&Z.value>0?Qe():Ue.value=M.value/1e3*lu[t.value.livePromotionOrderInfo.promotionTarget]},Qe=async()=>{t.value.livePromotionOrderInfo.suggest.wecoinBid=String(Z.value*100);let o=M.value;w.value>0&&(o=w.value),Ue.value=parseInt(o/Z.value,10)||1},Aa=async o=>{switch(xe.value){case 0:t.value.livePromotionOrderInfo.suggest.gender=[];break;case 1:t.value.livePromotionOrderInfo.suggest.gender=[1];break;case 2:t.value.livePromotionOrderInfo.suggest.gender=[2];break;default:t.value.livePromotionOrderInfo.suggest.gender=[];break}},Ba=async o=>{o===2?tu.value="\u65B0\u589E\u8BA1\u5212\u5305":tu.value="\u65B0\u589E\u5206\u7EC4",R.value.type=o,Le.value=!0},Da=async o=>{var i;if(await((i=Cu.value)==null?void 0:i.validate())){o(!1);return}R.value.type!==1&&(await al({name:R.value.name}),k.success({content:"\u6DFB\u52A0\u8BA1\u5212\u5305\u6210\u529F",duration:5*1e3}),await Su("")),R.value.name=null,window.setTimeout(()=>{o()},300)},Uu=async()=>{if(!t.value.engineInfo.sphIds[0]){k.warning({content:"\u8BF7\u5148\u9009\u62E9\u6295\u653E\u53F7",duration:3*1e3});return}me.value=!0,H(!0);try{const{data:o}=await ll({sphId:t.value.engineInfo.sphIds[0]});ou.value=o.data.historyAccounts}catch{}finally{H(!1)}},Lu=async()=>{if(!Ye.value){k.warning({content:"\u8BF7\u586B\u5199\u641C\u7D22\u5185\u5BB9",duration:3*1e3});return}H(!0);try{const{data:o}=await ju({sphId:t.value.engineInfo.sphIds[0],query:Ye.value,pageIndex:1,pageSize:6});ou.value=o.data.list}catch{}finally{H(!1)}},xa=async o=>{qe.value.page=o,zu()},zu=async()=>{if(!t.value.engineInfo.sphIds[0]){k.warning({content:"\u8BF7\u5148\u9009\u62E9\u6295\u653E\u53F7",duration:3*1e3});return}H(!0);try{const{data:o}=await tl({sphId:t.value.engineInfo.sphIds[0],page:qe.value.page,async:bu.value});yu.value=o.data.tabList,qe.value.total=o.data.total}catch{}finally{H(!1),bu.value=!1}},ka=async(o,a)=>{if($.value.length>=10){k.warning({content:"\u6700\u5927\u53EA\u80FD\u9009\u62E910\u4E2A\u89C6\u9891\uFF5E",duration:3*1e3});return}$.value.indexOf(o)>=0?$.value.splice($.value.indexOf(o),1):$.value.push(o),t.value.livePromotionOrderInfo.materialFeedExportids.indexOf(a.exportId)>=0?t.value.livePromotionOrderInfo.materialFeedExportids.splice(t.value.livePromotionOrderInfo.materialFeedExportids.indexOf(a.exportId),1):t.value.livePromotionOrderInfo.materialFeedExportids.push(a.exportId),t.value.engineInfo.videoCurrenyArr=$.value},Na=o=>{$.value.length>=1?T.value=!0:T.value=!1,o(!1),ze.value=!1},Va=o=>{me.value=!1,o(!1)},wa=async()=>{Fe.value===1&&(A.value=[],ne.value=!1,P.value[S.value].accountInfos=P.value[S.value].accountInfos.map(o=>(o.select=!1,o)),t.value.livePromotionOrderInfo.suggest.similarUsernameList=[])},Ze=async()=>{if(console.log(t.value.engineInfo.sphIds,"reqModel.value.engineInfo.sphIds[0]",Be.value),!!t.value.engineInfo.sphIds[0]&&!Be.value){switch(Be.value=!0,H(!0),su.value){case 1:Me.value=K().add(-7,"day").format("YYYY-MM-DD"),Re.value=K().format("YYYY-MM-DD");break;case 2:Me.value=K().add(-3,"month").format("YYYY-MM-DD"),Re.value=K().format("YYYY-MM-DD");break;default:Me.value=K().add(-7,"day").format("YYYY-MM-DD"),Re.value=K().format("YYYY-MM-DD");break}try{const o=[];if(console.log(t.value.engineInfo.sphIds,"reqModel.value.engineInfo.sphIds"),t.value.engineInfo.sphIds.length)for(let a=0;a<t.value.engineInfo.sphIds.length;a+=1){const i=new Promise((d,N)=>{var re;dl({sphId:t.value.engineInfo.sphIds[a],encryptedUsername:(re=W.value)==null?void 0:re.username,startTs:Me.value,endTs:Re.value,lastBuf:We.value}).then(({data:te})=>{d(te)}).catch(te=>{console.log(te,"error"),N(te)})});o.push(i)}await Promise.all(o).then(a=>{console.log(a,"Promise.all"),(a[0].data.objects.length===0||a[0].data.objects.length<19)&&(nu.value=!0),a[0].data.objects.forEach(i=>{Ae.value.push(i)}),(a[0].data.objects.length===0||a[0].data.objects.length<19)&&(nu.value=!0),a[0].data.objects.forEach(i=>{Ae.value.push(i)}),We.value=a[0].data.lastBuf}).catch(a=>{H(!1),Be.value=!1})}catch{}finally{H(!1),Be.value=!1,console.log("changesearchAuthVideoLock"),Au.value+=1}}},cu=async()=>{if(p.value.length>0){if(Ee.value||!p.value[F.value])return;Ee.value=!0,p.value[F.value];const{data:o}=await ol({sphId:p.value[F.value].sphId,promotionId:p.value[F.value].plantCode});if(Ee.value=!1,o&&(console.log(Number(o.data.order.status)),Number(o.data.order.status)===1||Number(o.data.order.status)===4||Number(o.data.order.status)===8)){if(Ce(),C.value="\u652F\u4ED8\u5B8C\u6210\uFF0C\u6B63\u5728\u5207\u6362\u4E0B\u4E2A\u8BA2\u5355\u2026.",k.success("\u652F\u4ED8\u5B8C\u6210\uFF0C\u8BF7\u652F\u4ED8\u4E0B\u4E00\u4E2A\u8BA2\u5355"),F.value+=1,p.value[F.value]&&Number(p.value[F.value].index)%10===0&&(ve.value.current+=1),p.value[F.value]){const a=Y.findIndex(x.value,["plantCode",p.value[F.value].plantCode]);G.value=[x.value[a].plantCode]}C.value="\u5207\u6362\u6210\u529F\uFF0C\u8BF7\u8FDB\u884C\u652F\u4ED8\u2026."}}setTimeout(cu,1400)},le=s(!1),Oa=async()=>{var a;if(le.value=!0,await((a=Ou.value)==null?void 0:a.validate())){le.value=!1;return}if(!t.value.targetUsername){le.value=!1,k.error({content:"\u8BF7\u9009\u62E9\u9700\u8981\u52A0\u70ED\u7684\u76F4\u64AD\u8D26\u53F7",duration:5*1e3});return}if(console.log(Z.value),J.value===2&&!Z.value){le.value=!1,k.error({content:`\u8BF7\u586B\u5199${Iu[t.value.livePromotionOrderInfo.promotionTarget]}`,duration:5*1e3});return}if(T.value&&j.value)t.value.livePromotionOrderInfo.materialFlag=3;else if(T.value&&!j.value)t.value.livePromotionOrderInfo.materialFlag=2;else if(!T.value&&j.value)t.value.livePromotionOrderInfo.materialFlag=1;else if(!T.value&&!j.value){k.error({content:"\u81F3\u5C11\u9009\u62E9\u4E00\u4E2A\u52A0\u70ED\u7D20\u6750",duration:5*1e3}),le.value=!1;return}t.value.livePromotionOrderInfo.suggest.similarUsernameList.length!==t.value.engineInfo.videoTagArr.length&&(t.value.livePromotionOrderInfo.suggest.similarUsernameList=t.value.livePromotionOrderInfo.suggest.similarUsernameList.slice(0,t.value.engineInfo.videoTagArr.length)),t.value.engineInfo.sphInfo=[];for(let i=0;i<t.value.engineInfo.sphIds.length;i+=1){const d=Y.find(be.value,["sphId",t.value.engineInfo.sphIds[i]]);t.value.deviceInfo.deviceTypeId=d.sphUserType,t.value.engineInfo.sphInfo.push(d)}t.value.engineInfo.hotType=J.value,console.log(JSON.stringify(t.value));try{t.value=_a(t.value,"createTaskBefore"),console.log(JSON.stringify(t.value));const{data:i,code:d}=await ul({reqJson:JSON.stringify(t.value)});Oe.value=i.taskId,k.success({content:"\u521B\u5EFA\u6210\u529F\uFF0C\u8BF7\u7B49\u5F85\u7CFB\u7EDF\u521B\u5EFA\u8BA2\u5355",duration:5*1e3})}catch(i){le.value=!1,Oe.value=0,setTimeout(()=>{fe.value=!0,we.value=!1},1e3),console.log(i,"err")}finally{setTimeout(()=>{le.value=!1},5e3),t.value.createTaskBefore=1,localStorage.setItem("createLivePlant",JSON.stringify(t.value)),fe.value=!1,Ee.value=!1,uu.value=!0,O.value=!0,F.value=0,p.value=[],q.value="\u6B63\u5728\u521B\u5EFA\u652F\u4ED8\u8BA2\u5355",ve.value.current=1,ve.value.chengeNum=0,Ce(),cu()}},Ta=async()=>{if(localStorage.getItem("createLivePlant")){console.log(89456132);const o=JSON.parse(localStorage.getItem("createLivePlant"));console.log(o);const a=JSON.parse(localStorage.getItem("createLivePlant"));t.value=JSON.parse(localStorage.getItem("createLivePlant")),t.value.createTaskBefore!==1&&(console.log("no ==1"),t.value.engineInfo.sphIds=[t.value.engineInfo.sphId]);const{suggest:i}=o.livePromotionOrderInfo;switch(t.value.engineInfo.ruleId&&(he.value=t.value.engineInfo.ruleId.split(","),he.value.forEach((d,N)=>{he.value[N]=Number(d)})),i.gender.length>0&&i.gender[0]===1&&(xe.value=1),i.gender.length>0&&i.gender[0]===2&&(xe.value=2),i.similarUsernameList.length>0&&(Fe.value=2,je.value=!0,A.value=t.value.engineInfo.videoTagArr,console.log(i.similarUsernameList,6666)),console.log(a.livePromotionOrderInfo.estimatedWecoinAmount," req.livePromotionOrderInfo.estimatedWecoinAmount"),t.value.livePromotionOrderInfo.estimatedWecoinAmount&&Q[Number(t.value.livePromotionOrderInfo.promotionTarget)].includes(Number(a.livePromotionOrderInfo.estimatedWecoinAmount))?(w.value=Number(a.livePromotionOrderInfo.estimatedWecoinAmount),Je()):(Se.value=!0,w.value=-1,M.value=Number(a.livePromotionOrderInfo.estimatedWecoinAmount),Ke()),console.log(t.value),o.livePromotionOrderInfo.materialFlag){case 1:T.value=!1,j.value=!0;break;case 2:T.value=!0,j.value=!1;break;default:T.value=!0,j.value=!0;break}if(t.value.deviceInfo.deviceTypeId=t.value.engineInfo.sphInfo.sphUserType||1,au.value=t.value.engineInfo.cityIdArr||[],se.value=t.value.engineInfo.insertTagArr||[],$.value=t.value.engineInfo.videoCurrenyArr||[],t.value.targetUsername){ae.value=!0,W.value=t.value.engineInfo.authorInfo;const{data:d}=await Gu({sphId:t.value.engineInfo.sphIds[0],username:t.value.targetUsername});_u.value=d.data,me.value=!1,d.data.accountInfo&&(t.value.engineInfo.authorInfo=d.data.accountInfo),d.data.hasShopShelf===1&&(De.value=!0,J.value=o.engineInfo.hotType,t.value.livePromotionOrderInfo.promotionTarget=o.livePromotionOrderInfo.promotionTarget,du(),Number(i.wecoinBid)>0&&(Z.value=Number(i.wecoinBid)/100,Qe()),t.value.livePromotionOrderInfo.estimatedWecoinAmount&&Q[Number(t.value.livePromotionOrderInfo.promotionTarget)].includes(Number(a.livePromotionOrderInfo.estimatedWecoinAmount))?(w.value=Number(a.livePromotionOrderInfo.estimatedWecoinAmount),Je()):(Se.value=!0,w.value=-1,M.value=Number(a.livePromotionOrderInfo.estimatedWecoinAmount),Ke())),console.log(JSON.stringify(t.value),"initStorage"),zu()}}console.log(w.value,"estimatedWecoinAmountType")};return(()=>{Pu(null),Su(null)})(),Ja(()=>{Ta()}),(o,a)=>{const i=f("Breadcrumb"),d=f("a-option"),N=f("a-select"),re=f("icon-plus"),te=f("a-button"),X=f("a-form-item"),vu=f("a-input-number"),He=f("a-input"),B=f("a-space"),Pa=f("a-switch"),Yu=f("a-form"),ee=f("a-card"),fu=f("a-image"),_e=f("a-typography-paragraph"),pu=f("a-link"),D=f("a-col"),U=f("a-row"),V=f("a-list-item-meta"),b=f("a-list-item"),y=f("a-radio"),ie=f("a-radio-group"),mu=f("a-checkbox"),qu=f("a-input-tag"),ke=f("a-tag"),Ie=f("a-typography-text"),de=f("a-list"),Sa=f("a-cascader-panel"),ce=f("a-modal"),Xe=f("a-spin"),Ua=f("a-card-meta"),Mu=f("a-input-search"),La=f("icon-right"),eu=f("a-avatar"),Ru=f("icon-check"),za=f("a-typography-title"),Ne=f("a-table-column"),Wu=f("icon-exclamation-circle-fill"),Ya=f("a-tooltip"),qa=f("a-table"),Ma=f("icon-check-circle-fill"),Ra=f("a-checkbox-group"),Wa=f("a-pagination");return c(),_("div",gl,[u(i,{items:["\u6295\u6D41\u7BA1\u7406","\u521B\u5EFA\u8BA1\u5212"]}),r("div",{style:$u({boxSizing:"border-box",width:"100%",backgroundColor:"var(--color-fill-2)",position:"relative"})},[u(U,{gutter:24},{default:e(()=>[u(D,{span:18},{default:e(()=>[u(U,{gutter:24,style:{marginBottom:"-5px"}},{default:e(()=>[u(D,{span:24},{default:e(()=>[u(ee,{title:"\u57FA\u7840\u4FE1\u606F",bordered:!1,style:{width:"100%"}},{default:e(()=>[u(Yu,{ref_key:"formJcRef",ref:Ou,"auto-label-width":"",model:t.value.engineInfo,style:{width:"520px"}},{default:e(()=>[u(X,{field:"packageId",label:"\u8BA1\u5212\u5305",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u8BA1\u5212\u5305"}],"validate-trigger":["change","input"]},{default:e(()=>[u(N,{modelValue:t.value.engineInfo.packageId,"onUpdate:modelValue":a[0]||(a[0]=l=>t.value.engineInfo.packageId=l),placeholder:"\u53EF\u8F93\u5165\u6A21\u7CCA\u641C\u7D22","allow-search":{retainInputValue:!0},style:{"margin-right":"10px"}},{default:e(()=>[(c(!0),_(L,null,z(Eu.value,(l,E)=>(c(),g(d,{key:E,label:l.packageName,value:l.packageId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),u(te,{type:"primary",onClick:a[1]||(a[1]=l=>Ba(2))},{icon:e(()=>[u(re)]),default:e(()=>[n("\u65B0\u5EFA\u8BA1\u5212\u5305")]),_:1})]),_:1}),u(X,{field:"sphIds",label:"\u6295\u653E\u53F7",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6295\u653E\u53F7"}],"validate-trigger":["change","input"]},{default:e(()=>[u(N,{modelValue:t.value.engineInfo.sphIds,"onUpdate:modelValue":a[2]||(a[2]=l=>t.value.engineInfo.sphIds=l),placeholder:"\u53EF\u8F93\u5165\u89C6\u9891\u53F7\u540D\u79F0\u6216\u5907\u6CE8\u540D\u8FDB\u884C\u641C\u7D22","allow-search":{retainInputValue:!0},"allow-clear":"",multiple:"",style:{"margin-right":"10px"},onSearch:Pu,onChange:ha},{default:e(()=>[(c(!0),_(L,null,z(be.value,(l,E)=>(c(),g(d,{key:E,label:l.sphName,value:l.sphId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),u(te,{type:"primary",size:"small",onClick:a[3]||(a[3]=l=>ua())},{default:e(()=>[n(" \u767B\u5F55\u6295\u653E\u53F7 ")]),_:1})]),_:1}),u(X,{field:"taskNum",label:"\u521B\u5EFA\u6570\u91CF",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u521B\u5EFA\u6570\u91CF"}],"validate-trigger":["change","input"]},{default:e(()=>[u(vu,{modelValue:t.value.engineInfo.taskNum,"onUpdate:modelValue":a[4]||(a[4]=l=>t.value.engineInfo.taskNum=l),placeholder:"\u8BF7\u586B\u5199\u521B\u5EFA\u6570\u91CF",min:1,max:30},null,8,["modelValue"])]),_:1}),u(X,{field:"orderName",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u8D26\u53F7\u540D\u79F0"}],"validate-trigger":["change","input"],label:"\u8BA1\u5212\u540D\u79F0"},{default:e(()=>[u(He,{modelValue:t.value.engineInfo.orderName,"onUpdate:modelValue":a[5]||(a[5]=l=>t.value.engineInfo.orderName=l),placeholder:"\u8BF7\u586B\u5199\u8BA1\u5212\u540D\u79F0",min:1,max:100},null,8,["modelValue"])]),_:1}),u(X,{field:"taskRemark",label:""},{label:e(()=>[u(B,{size:3},{default:e(()=>[n(" \u5907\u6CE8 ")]),_:1})]),default:e(()=>[u(He,{modelValue:t.value.taskRemark,"onUpdate:modelValue":a[6]||(a[6]=l=>t.value.taskRemark=l),placeholder:"\u8BF7\u586B\u5199\u5907\u6CE8"},null,8,["modelValue"])]),_:1}),u(X,{label:"\u81EA\u52A8\u5173\u505C\u7B56\u7565"},{default:e(()=>[u(B,null,{default:e(()=>[u(Pa,{modelValue:Te.value,"onUpdate:modelValue":a[7]||(a[7]=l=>Te.value=l),onChange:da},null,8,["modelValue"]),Te.value?(c(),g(N,{key:0,modelValue:he.value,"onUpdate:modelValue":a[8]||(a[8]=l=>he.value=l),style:{width:"360px"},placeholder:"\u8BF7\u9009\u62E9\u81EA\u52A8\u5173\u505C\u7B56\u7565",multiple:"",readonly:"",limit:10,scrollbar:!0,onChange:Vu},{default:e(()=>[(c(!0),_(L,null,z(xu.value,l=>(c(),g(d,{key:l.srId,label:l.srName,value:l.srId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):h("",!0)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),u(U,{gutter:24},{default:e(()=>[u(D,{span:24},{default:e(()=>[ae.value?h("",!0):(c(),g(ee,{key:0,bordered:!1,style:{width:"100%"}},{default:e(()=>[r("div",{style:{"background-color":"var(--color-fill-2)",color:"var(--color-text-1)",border:"1px dashed var(--color-fill-4)",height:"140px",width:"120px","border-radius":"2px","vertical-align":"middle",display:"flex",cursor:"pointer","align-items":"center","text-align":"center"},onClick:Uu},[r("div",Fl,[u(B,{direction:"vertical",size:5,fill:""},{default:e(()=>[u(re,{style:{"font-size":"18px"}}),hl]),_:1})])])]),_:1})),ae.value?(c(),g(ee,{key:1,hoverable:"",style:{width:"100%",marginBottom:"20px"}},{default:e(()=>[r("div",_l,[r("span",Il,[u(fu,{width:"70",src:W.value.headImgUrl},null,8,["src"]),u(B,{direction:"vertical",fill:"",size:"mini"},{default:e(()=>[u(_e,{ellipsis:{rows:1,expandable:!1},style:{"margin-bottom":"0","margin-left":"5px"}},{default:e(()=>[r("div",El,[r("span",null,v(W.value.nickName||"-"),1),u(fu,{src:W.value.authImgUrl,width:"15",class:"mr"},null,8,["src"]),W.value.liveStatus===1?(c(),_("div",Cl,Al)):h("",!0)])]),_:1}),u(_e,{ellipsis:{rows:1,expandable:!1},style:{"margin-bottom":"0","margin-left":"5px"}},{default:e(()=>[n(v(W.value.signature||"-"),1)]),_:1})]),_:1})]),u(pu,{onClick:Uu},{default:e(()=>[n("\u66F4\u6362")]),_:1})])]),_:1})):h("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),u(U,{gutter:24,style:{"margin-top":"10px"}},{default:e(()=>[u(D,{span:24},{default:e(()=>[u(ee,{bordered:!1,style:{width:"100%"}},{default:e(()=>[u(de,{bordered:!1,split:!1},{default:e(()=>[u(b,null,{default:e(()=>[u(V,null,{title:e(()=>[r("span",null,[n("\u9884\u8BA1\u5E26\u6765"+v(aa[t.value.livePromotionOrderInfo.promotionTarget])+" ",1),Bl])]),description:e(()=>[r("div",Dl,[r("span",xl,v(Ue.value),1),kl])]),_:1})]),_:1}),u(b,null,{default:e(()=>[u(V,null,{title:e(()=>[Nl]),description:e(()=>[u(ie,{modelValue:J.value,"onUpdate:modelValue":a[9]||(a[9]=l=>J.value=l),style:{"margin-top":"20px"},onChange:Ca},{default:e(()=>[u(y,{value:1},{default:e(()=>[n("\u653E\u91CF\u52A0\u70ED ")]),_:1}),u(y,{value:2,disabled:!De.value},{default:e(()=>[n("\u63A7\u6210\u672C\u52A0\u70ED ")]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),_:1})]),_:1}),u(b,null,{default:e(()=>[u(V,null,{title:e(()=>[Vl]),description:e(()=>[u(ie,{modelValue:t.value.livePromotionOrderInfo.promotionTarget,"onUpdate:modelValue":a[10]||(a[10]=l=>t.value.livePromotionOrderInfo.promotionTarget=l),style:{"margin-top":"20px"},onChange:du},{default:e(()=>[u(y,{value:1},{default:e(()=>[n("\u76F4\u64AD\u95F4\u89C2\u4F17 ")]),_:1}),u(y,{value:2},{default:e(()=>[n("\u76F4\u64AD\u95F4\u4E92\u52A8 ")]),_:1}),u(y,{value:3},{default:e(()=>[n("\u76F4\u64AD\u95F4\u6DA8\u7C89 ")]),_:1}),u(y,{value:4,disabled:!De.value},{default:e(()=>[n("\u76F4\u64AD\u95F4\u5546\u54C1\u70B9\u51FB ")]),_:1},8,["disabled"]),u(y,{value:8,disabled:!De.value},{default:e(()=>[n("\u76F4\u64AD\u95F4\u5546\u54C1\u6210\u4EA4 ")]),_:1},8,["disabled"])]),_:1},8,["modelValue"]),J.value===2?(c(),g(X,{key:0,field:"videoId",label:Iu[t.value.livePromotionOrderInfo.promotionTarget]},{default:e(()=>[u(vu,{modelValue:Z.value,"onUpdate:modelValue":a[11]||(a[11]=l=>Z.value=l),placeholder:Qu.value[t.value.livePromotionOrderInfo.promotionTarget],min:1,max:1e9,step:1,precision:0,mode:"button",style:{width:"60%"},onChange:Qe},null,8,["modelValue","placeholder"]),wl]),_:1},8,["label"])):h("",!0)]),_:1})]),_:1}),u(b,null,{default:e(()=>[u(V,null,{title:e(()=>[Ol]),description:e(()=>[u(ie,{modelValue:w.value,"onUpdate:modelValue":a[13]||(a[13]=l=>w.value=l),style:{"margin-top":"20px"},onChange:Je},{default:e(()=>[(c(!0),_(L,null,z(Q[Number(t.value.livePromotionOrderInfo.promotionTarget)],l=>(c(),g(y,{key:l,value:l},{default:e(()=>[u(B,{size:4},{default:e(()=>[n(v(l)+" ",1),Tl]),_:2},1024)]),_:2},1032,["value"]))),128)),u(y,{value:-1},{default:e(()=>[u(B,null,{default:e(()=>[Pl,r("div",Sl,[w.value==-1?(c(),g(vu,{key:0,modelValue:M.value,"onUpdate:modelValue":a[12]||(a[12]=l=>M.value=l),placeholder:ku.value,min:Q[Number(t.value.livePromotionOrderInfo.promotionTarget)][0],max:3e5,step:1e3,precision:0,mode:"button",style:{width:"100%"},onChange:Ke},null,8,["modelValue","placeholder","min"])):h("",!0),Se.value?(c(),_("img",Ul)):h("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),u(b,null,{default:e(()=>[u(V,null,{title:e(()=>[Ll]),description:e(()=>[r("div",zl,[u(mu,{"model-value":j.value,onClick:a[14]||(a[14]=l=>j.value=!j.value)},{default:e(()=>[n("\u76F4\u64AD\u95F4")]),_:1},8,["model-value"]),u(mu,{"model-value":T.value,onClick:Ia},{default:e(()=>[n("\u77ED\u89C6\u9891 "),T.value?(c(),_("span",Yl,"\u5DF2\u9009\u62E9"+v($.value.length)+"\u4E2A\u89C6\u9891",1)):h("",!0)]),_:1},8,["model-value"])])]),_:1})]),_:1}),u(b,null,{default:e(()=>[u(V,null,{title:e(()=>[ql]),description:e(()=>[u(N,{modelValue:t.value.livePromotionOrderInfo.duration,"onUpdate:modelValue":a[15]||(a[15]=l=>t.value.livePromotionOrderInfo.duration=l),style:{"margin-top":"10px",width:"320px"},placeholder:"\u52A0\u70ED\u65F6\u957F"},{default:e(()=>[u(d,{value:"1800"},{default:e(()=>[n("0.5\u5C0F\u65F6")]),_:1}),u(d,{value:"3600"},{default:e(()=>[n("1\u5C0F\u65F6")]),_:1}),u(d,{value:"5400"},{default:e(()=>[n("1.5\u5C0F\u65F6")]),_:1}),u(d,{value:"7200"},{default:e(()=>[n("2\u5C0F\u65F6")]),_:1}),u(d,{value:"9000"},{default:e(()=>[n("2.5\u5C0F\u65F6")]),_:1}),u(d,{value:"10800"},{default:e(()=>[n("3\u5C0F\u65F6")]),_:1}),u(d,{value:"12600"},{default:e(()=>[n("3.5\u5C0F\u65F6")]),_:1}),u(d,{value:"14400"},{default:e(()=>[n("4\u5C0F\u65F6")]),_:1}),u(d,{value:"16200"},{default:e(()=>[n("4.5\u5C0F\u65F6")]),_:1}),u(d,{value:"18000"},{default:e(()=>[n("5\u5C0F\u65F6")]),_:1}),u(d,{value:"19800"},{default:e(()=>[n("5.5\u5C0F\u65F6")]),_:1}),u(d,{value:"21600"},{default:e(()=>[n("6\u5C0F\u65F6")]),_:1}),u(d,{value:"43200"},{default:e(()=>[n("12\u5C0F\u65F6")]),_:1}),u(d,{value:"86400"},{default:e(()=>[n("24\u5C0F\u65F6")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),u(b,null,{default:e(()=>[u(V,null,{title:e(()=>[Ml]),description:e(()=>[u(ie,{modelValue:Fe.value,"onUpdate:modelValue":a[17]||(a[17]=l=>Fe.value=l),style:{"margin-top":"20px"},onChange:wa},{default:e(()=>[u(y,{value:1},{default:e(()=>[n("\u4E0D\u9650")]),_:1}),u(y,{value:2,onClick:a[16]||(a[16]=l=>{ne.value=!0,iu(0)})},{default:e(()=>[n("\u9009\u62E9\u76F8\u4F3C\u4F5C\u8005\u7684\u7C89\u4E1D")]),_:1})]),_:1},8,["modelValue"]),Rl,je.value?(c(),g(B,{key:0,onClick:a[19]||(a[19]=l=>{ne.value=!0,iu(S.value)})},{default:e(()=>[n(" \u5DF2\u6DFB\u52A0 "),u(qu,{modelValue:A.value,"onUpdate:modelValue":a[18]||(a[18]=l=>A.value=l),placeholder:"\u5DF2\u6DFB\u52A0\u4F5C\u8005","max-tag-count":3,readonly:"","allow-clear":"",style:{"{\n                                width":"300px","border-radius":"8px"}},{value:e(({value:l})=>[n(v(l),1)]),_:1},8,["modelValue"]),n(" \u7B49 "+v(A.value.length)+"\u4E2A\u4F5C\u8005 ",1)]),_:1})):h("",!0)]),_:1})]),_:1}),u(b,null,{default:e(()=>[u(V,null,{title:e(()=>[Wl]),description:e(()=>[u(ie,{modelValue:xe.value,"onUpdate:modelValue":a[20]||(a[20]=l=>xe.value=l),style:{"margin-top":"20px"},onChange:Aa},{default:e(()=>[u(y,{value:0},{default:e(()=>[n("\u4E0D\u9650 ")]),_:1}),u(y,{value:1},{default:e(()=>[n("\u7537")]),_:1}),u(y,{value:2},{default:e(()=>[n("\u5973")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),u(b,null,{default:e(()=>[u(V,null,{title:e(()=>[$l]),description:e(()=>[u(N,{modelValue:t.value.livePromotionOrderInfo.suggest.ageRange,"onUpdate:modelValue":a[21]||(a[21]=l=>t.value.livePromotionOrderInfo.suggest.ageRange=l),style:{"margin-top":"10px",width:"320px"},placeholder:"\u5168\u90E8\u5E74\u9F84",multiple:"","allow-clear":""},{default:e(()=>[u(d,{value:1},{default:e(()=>[n("18-24\u5C81")]),_:1}),u(d,{value:2},{default:e(()=>[n("25-29\u5C81")]),_:1}),u(d,{value:3},{default:e(()=>[n("30-39\u5C81")]),_:1}),u(d,{value:4},{default:e(()=>[n("40-49\u5C81")]),_:1}),u(d,{value:5},{default:e(()=>[n("50\u5C81\u4EE5\u4E0A")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),u(b,null,{default:e(()=>[u(V,null,{title:e(()=>[Gl]),description:e(()=>[u(ue(Ju),{value:au.value,"onUpdate:value":a[22]||(a[22]=l=>au.value=l),style:{"margin-top":"10px",width:"320px"},multiple:"",options:Du,placeholder:"\u5168\u90E8\u5730\u533A","dropdown-class-name":"ant_placeholder_class","suffix-icon":"Shopping Around",onChange:sa},{tagRender:e(l=>[(c(),g(ke,{key:l.value,color:"blue"},{default:e(()=>[n(v(l.label),1)]),_:2},1024))]),_:1},8,["value"])]),_:1})]),_:1}),u(b,null,{default:e(()=>[u(V,null,{title:e(()=>[jl]),description:e(()=>[u(ue(Ju),{value:se.value,"onUpdate:value":a[23]||(a[23]=l=>se.value=l),style:{"margin-top":"10px",width:"320px"},multiple:"",options:ru.value,"field-names":{label:"labelName",value:"labelId",children:"labelChild"},placeholder:"\u5168\u90E8\u5174\u8DA3\u9886\u57DF","dropdown-class-name":"ant_placeholder_class","suffix-icon":"Shopping Around",onChange:ra},{tagRender:e(l=>[(c(),g(ke,{key:l.value,color:"blue"},{default:e(()=>[n(v(l.label),1)]),_:2},1024))]),_:1},8,["value","options"])]),_:1})]),_:1}),u(b,null,{default:e(()=>[u(V,null,{title:e(()=>[Jl]),description:e(()=>[u(B,{direction:"vertical"},{default:e(()=>[u(ie,{modelValue:t.value.engineInfo.userVoucherType,"onUpdate:modelValue":a[24]||(a[24]=l=>t.value.engineInfo.userVoucherType=l),style:{"margin-top":"20px"}},{default:e(()=>[u(y,{value:0},{default:e(()=>[n("\u4E0D\u4F7F\u7528")]),_:1}),u(y,{value:1},{default:e(()=>[n("\u6D41\u91CF\u5238")]),_:1}),u(y,{value:2},{default:e(()=>[n("\u4EBA\u6C14\u5361 "),u(Ie,{type:"danger"},{default:e(()=>[n(" (\u63A8\u8350) ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),t.value.engineInfo.userVoucherType===2?(c(),g(Ie,{key:0,type:"secondary"},{default:e(()=>[n(" \u4F7F\u7528\u4EBA\u6C14\u5361\u652F\u4ED8\u53EF\u5B9E\u73B0\u81EA\u52A8\u6279\u91CF\u652F\u4ED8\uFF0C\u65E0\u9700\u626B\u7801\uFF01 ")]),_:1})):h("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),u(D,{span:6},{default:e(()=>[u(B,{style:{width:"100%"},direction:"vertical",size:24},{default:e(()=>[u(ee,{bordered:!1,style:{width:"100%",maxHeight:"400px",overflow:" auto"}},{title:e(()=>[u(U,{justify:"space-between",align:"end"},{default:e(()=>[u(D,{flex:"60px"},{default:e(()=>[n("\u5FAE\u4FE1\u8C46\u4F59\u989D")]),_:1}),u(D,{flex:"60px",style:{"font-size":"12px"}},{default:e(()=>[n("\u5DF2\u9009"+v(Pe.value.length)+"\u4E2A",1)]),_:1})]),_:1})]),default:e(()=>[u(de,null,{default:e(()=>[(c(!0),_(L,null,z(Pe.value,(l,E)=>(c(),g(b,{key:E},{default:e(()=>[u(U,{justify:"space-between",style:{width:"100%"}},{default:e(()=>[u(D,{flex:6},{default:e(()=>[r("span",Kl,v(l.realSphName?l.realSphName:l.sphName),1)]),_:2},1024),u(D,{flex:1},{default:e(()=>[u(B,{size:3},{default:e(()=>[r("span",Ql,v(l.sphBalance)+"\u4E2A ",1),Zl]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),u(ee,{title:"\u52A0\u70ED\u4FE1\u606F",bordered:!1,class:"fixedRight",style:{width:"100%"}},{default:e(()=>[u(de,{style:{"margin-bottom":"30px"}},{default:e(()=>[u(b,null,{default:e(()=>[Hl,r("span",null,v(t.value.engineInfo.sphIds.length?t.value.engineInfo.taskNum*t.value.engineInfo.sphIds.length:t.value.engineInfo.taskNum)+"\u4E2A",1)]),_:1}),u(b,null,{default:e(()=>[Xl,u(B,{size:2},{default:e(()=>[n(v(t.value.engineInfo.sphIds.length?t.value.livePromotionOrderInfo.estimatedWecoinAmount*t.value.engineInfo.taskNum*t.value.engineInfo.sphIds.length:t.value.livePromotionOrderInfo.estimatedWecoinAmount*t.value.engineInfo.taskNum)+" ",1),et]),_:1})]),_:1}),u(b,null,{default:e(()=>[ut,u(B,{size:2},{default:e(()=>[n(v(t.value.engineInfo.sphIds.length?t.value.livePromotionOrderInfo.estimatedWecoinAmount*t.value.engineInfo.taskNum*t.value.engineInfo.sphIds.length:t.value.livePromotionOrderInfo.estimatedWecoinAmount*t.value.engineInfo.taskNum)+" ",1),at]),_:1})]),_:1})]),_:1}),u(te,{type:"primary",shape:"round",size:"large",disabled:le.value,long:"",onClick:Oa},{default:e(()=>[n("\u521B\u5EFA\u8BA2\u5355 ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})],4),u(ce,{visible:Nu.value,"onUpdate:visible":a[26]||(a[26]=l=>Nu.value=l),width:"1000px",title:"\u9009\u62E9\u5174\u8DA3\u7231\u597D"},{default:e(()=>[u(U,null,{default:e(()=>[u(D,{flex:"7"},{default:e(()=>[u(Sa,{value:se.value,"onUpdate:value":a[25]||(a[25]=l=>se.value=l),options:ru.value,"field-names":{label:"labelName",value:"labelId",children:"labelChild"},"expand-child":"",multiple:!0},null,8,["value","options"])]),_:1})]),_:1})]),_:1},8,["visible"]),u(ce,{visible:ze.value,"onUpdate:visible":a[30]||(a[30]=l=>ze.value=l),width:"1000px",title:"\u9009\u62E9\u89C6\u9891",onBeforeOk:Na},{default:e(()=>[r("div",null,[u(de,{bordered:!1,split:!1},{default:e(()=>[u(b,null,{default:e(()=>[u(V,null,{title:e(()=>[lt]),description:e(()=>[n(" \u65E5\u671F\u8303\u56F4 "),u(ie,{modelValue:su.value,"onUpdate:modelValue":a[27]||(a[27]=l=>su.value=l),style:{"margin-top":"20px"},onChange:a[28]||(a[28]=l=>{We.value="",Ae.value=[],Ze()})},{default:e(()=>[u(y,{value:1},{default:e(()=>[n("\u8FD17\u5929")]),_:1}),u(y,{value:2},{default:e(()=>[n("\u8FD13\u4E2A\u6708")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),u(de,{"max-height":420,scrollbar:!0,bordered:!1,loading:ue(Tu),onReachBottom:a[29]||(a[29]=l=>Ze())},{"scroll-loading":e(()=>[nu.value?(c(),_("div",tt,"\u6682\u65E0\u66F4\u591A\u6570\u636E")):(c(),g(Xe,{key:1}))]),default:e(()=>[u(U,{gutter:24,style:{marginBottom:"20px"}},{default:e(()=>[(c(!0),_(L,null,z(Ae.value,(l,E)=>(c(),g(D,{key:E,span:6,style:{"margin-bottom":"10px",cursor:"pointer"}},{default:e(()=>[u(ee,{class:gu({"video-select":$.value.indexOf(E)>=0}),onClick:oe=>ka(E,l)},{cover:e(()=>[r("img",{style:$u({width:"100%",transform:"translateY(-20px)"}),alt:"dessert",src:l.coverUrl},null,12,ot)]),default:e(()=>[u(Ua,null,{description:e(()=>[u(_e,{ellipsis:{rows:1,expandable:!1},style:{"margin-bottom":"0"}},{default:e(()=>[n(v(l.description||"-"),1)]),_:2},1024),r("div",nt,[(c(),_(L,null,z(ta,(oe,$a)=>r("div",{key:$a,class:"count"},[r("img",{src:oe.iconUrl,alt:"",class:"icon"},null,8,st),u(_e,{style:{"margin-bottom":"0"}},{default:e(()=>[n(v(l[oe.value]?ya(l[oe.value]):"0"),1)]),_:2},1024)])),64))])]),_:2},1024)]),_:2},1032,["class","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["loading"])])]),_:1},8,["visible"]),u(ce,{visible:ne.value,"onUpdate:visible":a[35]||(a[35]=l=>ne.value=l),width:"1000px",title:"\u6839\u636E\u7C89\u4E1D\u5C42\u63A8\u8350",onCancel:ma,onBeforeOk:pa},{default:e(()=>[r("div",rt,[n("\u5C06\u5B9A\u5411\u63A8\u7ED9\u4F60\u9009\u62E9\u4F5C\u8005\u7684\u7C89\u4E1D\uFF0C\u4EE5\u53CA\u4E0E\u7C89\u4E1D\u76F8\u4F3C\u7684\u4EBA\u3002 "),u(Mu,{modelValue:$e.value,"onUpdate:modelValue":a[31]||(a[31]=l=>$e.value=l),style:{width:"320px"},placeholder:"\u641C\u7D22\u4F5C\u8005\u7684\u7C89\u4E1D\uFF0C\u4EE5\u53CA\u4E0E\u7C89\u4E1D\u76F8\u4F3C\u7684\u4EBA","search-button":"",onChange:ca},null,8,["modelValue"])]),u(U,null,{default:e(()=>[u(D,{flex:"1"},{default:e(()=>[u(qu,{modelValue:A.value,"onUpdate:modelValue":a[32]||(a[32]=l=>A.value=l),placeholder:"\u9009\u62E9\u4F5C\u8005\u7684\u7C89\u4E1D\uFF0C\u4EE5\u53CA\u4E0E\u7C89\u4E1D\u76F8\u4F3C\u7684\u4EBA\u3002","allow-clear":"",style:{"{\n                width":"500px",height:"80px","border-radius":"8px"},onRemove:a[33]||(a[33]=l=>fa(l)),onPressEnter:a[34]||(a[34]=l=>va(l))},{value:e(({value:l})=>[n(v(l),1)]),_:1},8,["modelValue"])]),_:1})]),_:1}),Ge.value?h("",!0):(c(),g(U,{key:0},{default:e(()=>[u(D,{span:4},{default:e(()=>[r("div",it,[(c(!0),_(L,null,z(P.value,(l,E)=>(c(),_("div",{key:E,class:gu(["labelBox",{active:S.value===E}]),onClick:oe=>iu(E)},[n(v(l.labelName),1),u(La)],10,dt))),128))])]),_:1}),u(D,{span:20},{default:e(()=>[u(Xe,{loading:ge.value,tip:"\u52A0\u8F7D\u4E2D",style:{width:"100%"}},{default:e(()=>[r("div",ct,[(c(!0),_(L,null,z(P.value[S.value].accountInfos,(l,E)=>(c(),_("div",{key:E,class:"contentBox",onClick:oe=>wu(l,E)},[u(eu,{"image-url":l.headImgUrl,size:30,style:{"margin-right":"0.7rem"}},null,8,["image-url"]),n(" "+v(l.nickName)+" ",1),l.select?(c(),g(Ru,{key:0})):h("",!0)],8,vt))),128))])]),_:1},8,["loading"])]),_:1})]),_:1})),Ge.value?(c(),g(U,{key:1},{default:e(()=>[u(D,{flex:1},{default:e(()=>[u(Xe,{loading:ge.value,tip:"\u52A0\u8F7D\u4E2D",style:{width:"100%"}},{default:e(()=>[r("div",ft,[(c(!0),_(L,null,z(Bu.value,(l,E)=>(c(),_("div",{key:E,class:"searchContent",onClick:oe=>wu(l,E)},[u(eu,{"image-url":l.headImgUrl,size:48,style:{"margin-right":"0.7rem"}},null,8,["image-url"]),n(" "+v(l.nickName)+" ",1),l.select?(c(),g(Ru,{key:0})):h("",!0)],8,pt))),128))])]),_:1},8,["loading"])]),_:1})]),_:1})):h("",!0)]),_:1},8,["visible"]),u(ce,{visible:me.value,"onUpdate:visible":a[38]||(a[38]=l=>me.value=l),width:"1000px",title:"\u9009\u62E9\u8981\u52A0\u70ED\u7684\u76F4\u64AD",onBeforeOk:Va},{default:e(()=>[u(de,{bordered:!1,split:!1},{default:e(()=>[u(b,null,{default:e(()=>[u(V,null,{title:e(()=>[mt]),description:e(()=>[ae.value?(c(),g(ee,{key:0,hoverable:"",style:{width:"360px",marginBottom:"20px"}},{default:e(()=>[r("div",gt,[r("span",Ft,[u(eu,{style:{marginRight:"8px",backgroundColor:"#165DFF"},size:35,"image-url":W.value.headImgUrl},null,8,["image-url"]),u(B,{direction:"vertical",fill:"",size:"mini"},{default:e(()=>[u(za,{heading:6,style:{margin:"0"}},{default:e(()=>[n(v(W.value.nickName),1)]),_:1}),u(_e,{ellipsis:{rows:1,expandable:!1},style:{"margin-bottom":"0"}},{default:e(()=>[n(v(W.value.signature||"-"),1)]),_:1})]),_:1})]),u(pu,{onClick:a[36]||(a[36]=l=>ae.value=!1)},{default:e(()=>[n("\u66F4\u6362")]),_:1})])]),_:1})):h("",!0),ae.value?h("",!0):(c(),g(Mu,{key:1,modelValue:Ye.value,"onUpdate:modelValue":a[37]||(a[37]=l=>Ye.value=l),style:{"margin-top":"10px",width:"300px"},placeholder:"\u8F93\u5165\u89C6\u9891\u53F7\uFF0C\u56DE\u8F66\u6216\u70B9\u51FB\u6309\u94AE\u641C\u7D22",autocomplete:"off","allow-clear":"",onPressEnter:Lu,onSearch:Lu},null,8,["modelValue"]))]),_:1})]),_:1})]),_:1}),ae.value?h("",!0):(c(),g(de,{key:0,bordered:!1,split:!1,hoverable:!0,loading:ue(Tu)},{default:e(()=>[(c(!0),_(L,null,z(ou.value,(l,E)=>(c(),g(b,{key:E},{default:e(()=>[u(V,{style:{cursor:"pointer"},onClick:oe=>Ea(l)},{title:e(()=>[r("div",ht,[r("span",null,v(l.nickName),1),u(fu,{src:l.authImgUrl,width:"15",class:"mr"},null,8,["src"]),l.liveStatus===1?(c(),_("div",_t,Ct)):h("",!0)])]),description:e(()=>[u(_e,{ellipsis:{suffix:"",rows:1,expandable:!0}},{default:e(()=>[n(v(l.signature||"-"),1)]),_:2},1024)]),avatar:e(()=>[u(eu,{shape:"square"},{default:e(()=>[r("img",{alt:"avatar",src:l.headImgUrl},null,8,bt)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1},8,["loading"]))]),_:1},8,["visible"]),u(ce,{visible:Le.value,"onUpdate:visible":a[41]||(a[41]=l=>Le.value=l),title:tu.value,onCancel:a[42]||(a[42]=l=>Le.value=!1),onBeforeOk:Da},{default:e(()=>[u(Yu,{ref_key:"formGpRef",ref:Cu,model:R.value,"label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:e(()=>[R.value.type===1?(c(),g(X,{key:0,field:"name",label:"\u5206\u7EC4\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5206\u7EC4\u540D\u79F0"}]},{default:e(()=>[u(He,{modelValue:R.value.name,"onUpdate:modelValue":a[39]||(a[39]=l=>R.value.name=l)},null,8,["modelValue"])]),_:1})):h("",!0),R.value.type===2?(c(),g(X,{key:1,field:"name",label:"\u8BA1\u5212\u5305\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u8BA1\u5212\u5305\u540D\u79F0"}]},{default:e(()=>[u(He,{modelValue:R.value.name,"onUpdate:modelValue":a[40]||(a[40]=l=>R.value.name=l)},null,8,["modelValue"])]),_:1})):h("",!0)]),_:1},8,["model"])]),_:1},8,["visible","title"]),u(ce,{visible:we.value,"onUpdate:visible":a[44]||(a[44]=l=>we.value=l),"mask-closable":!1,width:"1000px",title:"\u6B63\u5728\u521B\u5EFA\u8BA1\u5212",onCancel:pe,onOk:pe},{default:e(()=>[u(U,{gutter:24},{default:e(()=>[u(D,{span:16},{default:e(()=>[r("div",yt,[u(qa,{selectedKeys:G.value,"onUpdate:selectedKeys":a[43]||(a[43]=l=>G.value=l),"row-key":"plantCode",pagination:ve.value,hoverable:!0,stripe:!1,loading:uu.value,data:x.value,bordered:!1,onPageChange:ga,onRowClick:ia},{columns:e(()=>[u(Ne,{title:"\u6295\u624B\u53F7",align:"center"},{cell:e(({record:l})=>[n(v(l.sphInfo.sphName),1)]),_:1}),u(Ne,{title:"\u521B\u5EFA\u72B6\u6001",align:"center"},{cell:e(({record:l})=>[l.createStatus===3?(c(),g(Ya,{key:0,content:l.errorMsg},{default:e(()=>[r("span",null,[n(v(ue(Ku)[l.createStatus])+" ",1),u(Wu)])]),_:2},1032,["content"])):(c(),_("span",At,v(ue(Ku)[l.createStatus]),1))]),_:1}),u(Ne,{title:"\u4F18\u60E0\u5238\u6298\u6263",align:"center"},{cell:e(({record:l})=>[n(v(l.discountAmount?ba(l.discountAmount):"-"),1)]),_:1}),u(Ne,{title:"\u9700\u652F\u4ED8",align:"center"},{cell:e(({record:l})=>[n(v(l.estimatedWecoinAmount),1)]),_:1}),u(Ne,{title:"\u8BA2\u5355\u72B6\u6001",align:"center"},{cell:e(({record:l})=>[n(v(ue(ml)[l.plantStatus]),1)]),_:1})]),_:1},8,["selectedKeys","pagination","loading","data"]),r("span",null,"\u5171"+v(I.value.total)+"\u6761 | \u6210\u529F"+v(I.value.success)+"\u6761 \u5931\u8D25"+v(I.value.error)+"\u6761\uFF5C\u5B8C\u6210\u652F\u4ED8"+v(I.value.overPay)+"\u6761",1)])]),_:1}),u(D,{span:8,style:{"text-align":"center"}},{default:e(()=>[Bt,u(Xe,{loading:O.value,tip:q.value},Ka({default:e(()=>[u(ee,{class:"general-card",style:{"padding-top":"20px"}},{default:e(()=>[u(B,{size:16,direction:"vertical",fill:"",align:"center",style:{"text-align":"center"}},{default:e(()=>[r("span",Dt,v(C.value),1),p.value[F.value]?(c(),_("span",xt,v(x.value[F.value].sphInfo?x.value[F.value].sphInfo.sphName:"")+" "+v(p.value[F.value].plantName),1)):h("",!0),r("div",kt,[p.value[F.value]?(c(),g(vl,{key:0,value:p.value[F.value].qrCodeVal,size:220,level:"H",style:{position:"relative"}},null,8,["value"])):h("",!0),C.value==="\u5F53\u524D\u8BA2\u5355\u5DF2\u652F\u4ED8\u5B8C\u6210"||C.value==="\u8BA1\u5212\u521B\u5EFA\u5931\u8D25\uFF0C\u65E0\u6CD5\u652F\u4ED8"?(c(),_("div",Nt,[C.value==="\u5F53\u524D\u8BA2\u5355\u5DF2\u652F\u4ED8\u5B8C\u6210"?(c(),g(ke,{key:0,color:"arcoblue",style:{transform:"scale(1.5)"}},{default:e(()=>[n("\u5DF2\u652F\u4ED8")]),_:1})):h("",!0),C.value==="\u8BA1\u5212\u521B\u5EFA\u5931\u8D25\uFF0C\u65E0\u6CD5\u652F\u4ED8"?(c(),g(ke,{key:1,color:"gray",style:{transform:"scale(1.3)"}},{default:e(()=>[n("\u521B\u5EFA\u5931\u8D25\uFF0C\u8BF7\u52FF\u652F\u4ED8")]),_:1})):h("",!0)])):h("",!0)]),u(ke,{color:"green"},{default:e(()=>[n("\u8BF7\u7528\u5FAE\u4FE1APP\u626B\u63CF\u4E8C\u7EF4\u7801")]),_:1}),u(B,null,{default:e(()=>[u(pu,{onClick:Xu},{default:e(()=>[n("\u8DF3\u8FC7\u8BE5\u8BA1\u5212")]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},[q.value==="\u5F53\u524D\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210"?{name:"element",fn:e(()=>[u(Ma,{spin:!1,rotate:0,size:20})]),key:"0"}:void 0]),1032,["loading","tip"]),r("div",Vt,[n("\u79FB\u52A8\u5230 "),u(Wu),n(" \u6309\u94AE\uFF0C\u53EF\u67E5\u770B\u8BA1\u5212\u521B\u5EFA\u5931\u8D25\u539F\u56E0")])]),_:1})]),_:1})]),_:1},8,["visible"]),u(ce,{visible:Fu.value,"onUpdate:visible":a[46]||(a[46]=l=>Fu.value=l),"mask-closable":!1,width:"900px",title:"\u9009\u62E9\u4EBA\u6C14\u5361",onCancel:o.createdRQKClear,onOk:o.createdRQKClear},{default:e(()=>[u(B,{direction:"vertical"},{default:e(()=>[u(Ie,{type:"secondary"},{default:e(()=>[n(" \u5DF2\u9009\u62E9"+v(ye.value.length?ye.value.length:0)+"\u5F20\u4EBA\u6C14\u5361 ",1)]),_:1}),u(Ra,{modelValue:ye.value,"onUpdate:modelValue":a[45]||(a[45]=l=>ye.value=l),onChange:la},{default:e(()=>[(c(!0),_(L,null,z(yu.value,l=>(c(),g(mu,{key:l,value:l.cardId},{checkbox:e(({checked:E})=>[u(B,{align:"center",class:gu(["custom-checkbox-card",{"custom-checkbox-card-checked":E}])},{default:e(()=>[wt,r("div",null,[r("div",Ot,[u(B,{direction:"vertical"},{default:e(()=>[r("div",Tt," \u4EBA\u6C14\u5361ID\uFF1A "+v(l.cardId),1),u(Ie,{type:"secondary"},{default:e(()=>[n(" \u5269\u4F59\u6D41\u91CF\u70B9\uFF1A"+v(l.cardBalance/100),1)]),_:2},1024)]),_:2},1024)]),r("div",Pt,[r("div",St,[u(Ie,{type:"secondary"},{default:e(()=>[n(" \u8FC7\u671F\u65F6\u95F4\uFF1A"+v(ue(K).unix(Number(l.expireTs)).format("YYYY-MM-DD")),1)]),_:2},1024)]),r("div",Ut,[u(Ie,{type:"secondary"},{default:e(()=>[n(" \u521B\u5EFA\u65F6\u95F4\uFF1A"+v(ue(K).unix(Number(l.createTime)).format("YYYY-MM-DD")),1)]),_:2},1024)])])])]),_:2},1032,["class"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),u(Wa,{total:qe.value.total,"show-total":"","default-page-size":12,onChange:xa},null,8,["total"])]),_:1})]),_:1},8,["visible","onCancel","onOk"])])}}});const eo=Ha(Lt,[["__scopeId","data-v-41f2d1b0"]]);export{eo as default};
