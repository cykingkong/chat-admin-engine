import{d as Ma,r,w as Yu,f as La,a2 as Wa,j as c,o as i,a as h,n as u,e as s,m as e,q as n,F as G,k as Y,l as v,s as g,t as f,u as ne,a8 as re,N as $u,x as Ra,M as A,p as Ga,b as Ya,B as ju,_ as $a}from"./index.f3be9d6e.js";import{u as ja}from"./loading.b87f2d78.js";import{_ as X}from"./lodash.5369d405.js";import{p as Ja,B as Xa,z as Ka,C as Za,b as Ha,c as Qa}from"./plant.f4170702.js";import{s as el}from"./rule.5dbfdae1.js";import{e as ul,f as Ju,k as al,s as ll,l as Xu,h as ol,d as tl,m as nl}from"./sph.64c0f6af.js";import{Q as Ku}from"./qrcode.vue.esm.65579910.js";import{C as rl}from"./antd.5d48db19.js";import{p as sl,c as il}from"./address.2140e733.js";import{j as Zu,w as dl}from"./enum.5f967a9b.js";const p=Oe=>(Ga("data-v-1ebb851c"),Oe=Oe(),Ya(),Oe),cl={class:"container"},fl=p(()=>s("p",null,"\u6839\u636E\u5546\u5BB6\u81EA\u5DF1\u8FD0\u8425\u7B56\u7565\u8FDB\u884C\u5B9A\u4E49/\u9009\u62E9",-1)),vl=p(()=>s("p",null,"\u547D\u540D\u4E3E\u4F8B\uFF1A\u65E5\u671F/\u6295\u653E\u53F7/\u8FD0\u8425\u8005/\u4EA7\u54C1\u540D\u79F0",-1)),ml=p(()=>s("p",null,"\u6839\u636E\u5546\u5BB6\u81EA\u5DF1\u8FD0\u8425\u7B56\u7565\u8FDB\u884C\u5B9A\u4E49/\u9009\u62E9",-1)),pl=p(()=>s("p",null,"\u547D\u540D\u4E3E\u4F8B\uFF1Axx\u8FD0\u8425\u7B56\u7565",-1)),gl=p(()=>s("p",null,"\u9009\u62E9\u8981\u521B\u5EFA\u8BA1\u5212\u540C\u65F6\u4E5F\u662F\u4ED8\u6B3E\u7684\u89C6\u9891\u53F7",-1)),Fl=p(()=>s("p",null,"\u6279\u91CF\u521B\u5EFA\u8BA1\u5212\u4E0A\u9650\u662F30\u6761\uFF0C\u907F\u514D\u8BA1\u5212\u521B\u5EFA\u9891\u7E41",-1)),_l=p(()=>s("p",null," \u4F63\u91D1\u7387=(\u5E7F\u544A\u51FA\u4EF7-\u5546\u54C1\u5B9E\u9645\u6210\u672C)/\u5E7F\u544A\u51FA\u4EF7*100%",-1)),Il=p(()=>s("p",null," \u81EA\u5B9A\u4E49\u8BBE\u7F6E\u5173\u505C\u7B56\u7565\uFF0C\u89E6\u53D1\u9608\u503C\u7CFB\u7EDF\u5C06\u81EA\u52A8\u5173\u505C\u8BA1\u5212",-1)),El={class:"selectTips"},hl=p(()=>s("span",{class:"selectText"},"\u8BF7\u9009\u62E9\u8981\u52A0\u70ED\u7684\u89C6\u9891",-1)),Bl={style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},Cl={style:{display:"flex",alignItems:"center",color:"#1D2129"}},yl=p(()=>s("span",null,[n("\u4F18\u5148\u63D0\u5347\u76EE\u6807 "),s("span",{style:{"font-size":"12px",color:"#ccc",display:"inline-block","margin-left":"5px"}},"\u65E0\u5546\u54C1\u94FE\u63A5\u7684\u89C6\u9891\u6682\u4E0D\u652F\u6301\u4EE5\u4E0B\u76EE\u6807\uFF1A\u5546\u54C1\u70B9\u51FB\u3001\u5546\u54C1\u6210\u4EA4")],-1)),bl=p(()=>s("span",{style:{"font-size":"12px",color:"#ccc",display:"inline-block","margin-left":"5px"}},"\u5B9E\u9645\u6548\u679C\u4E0E\u89C6\u9891\u8D28\u91CF\u6709\u5173\uFF0C\u82E5\u52A0\u70ED\u672A\u5B8C\u6210\uFF0C\u5269\u4F59\u6D41\u91CF\u5238\u548C\u5FAE\u4FE1\u8C46\u5C06\u8FD4\u8FD8",-1)),Al={style:{"margin-top":"20px"}},Dl={style:{"font-size":"24px",color:"#1554f8"}},kl=p(()=>s("span",{style:{"font-size":"12px",color:"#1554f8"}},"\u4EBA",-1)),xl=p(()=>s("span",null,"\u652F\u4ED8\u5FAE\u4FE1\u8C46",-1)),Ol={key:0,src:"https://img.adyinqing.com/upai_shop/nm4pmvv91690358218990",alt:"",class:"wx_dou_icon"},Pl={key:0,src:"https://img.adyinqing.com/upai_shop/nm4pmvv91690358218990",alt:"",fit:"cover",class:"wx_dou_icon"},wl=p(()=>s("span",null,"\u81EA\u5B9A\u4E49",-1)),Vl={style:{display:"flex","align-items":"center"}},Tl={key:1,src:"https://img.adyinqing.com/upai_shop/nm4pmvv91690358218990",alt:"",class:"wx_dou_icon",style:{"margin-left":"4px"}},Nl={class:"zdyBox"},Sl=p(()=>s("span",null,"\u81EA\u5B9A\u4E49",-1)),Ul={style:{display:"flex","align-items":"center"}},zl={key:1,src:"https://img.adyinqing.com/upai_shop/nm4pmvv91690358218990",alt:"",class:"wx_dou_icon",style:{"margin-left":"4px"}},ql={key:0,class:"tips"},Ml=p(()=>s("span",null,"\u52A0\u70ED\u65B9\u5F0F",-1)),Ll=p(()=>s("span",null,"\u4F7F\u7528\u4ED6\u4EBA\u8096\u50CF",-1)),Wl=p(()=>s("span",null,"\u4E0A\u4F20\u8096\u50CF\u6388\u6743",-1)),Rl=p(()=>s("a",{href:"https://res.wx.qq.com/t/wx_fed/finder/static-assets/finder-common-assets/res/protocol/%E8%A7%86%E9%A2%91%E5%8F%B7%E8%82%96%E5%83%8F%E6%8E%88%E6%9D%83%E5%8D%8F%E8%AE%AE%E4%B9%A6221025.docx",rel:"noopener noreferrer",download:"\u89C6\u9891\u53F7\u8096\u50CF\u6388\u6743\u534F\u8BAE\u4E66.docx"},"\u4E0B\u8F7D\u8096\u50CF\u6388\u6743\u6A21\u677F\uFF0C",-1)),Gl=p(()=>s("span",null,"\u52A0\u70ED\u65F6\u957F",-1)),Yl=p(()=>s("span",null,[n("\u6839\u636E\u7C89\u4E1D\u5C42\u63A8\u8350 "),s("span",{style:{"font-size":"12px",color:"#ccc",display:"inline-block","margin-left":"5px"}},"\u89C6\u9891\u5C06\u5B9A\u5411\u63A8\u7ED9\u4F60\u9009\u62E9\u4F5C\u8005\u7684\u7C89\u4E1D\uFF0C\u4EE5\u53CA\u4E0E\u7C89\u4E1D\u76F8\u4F3C\u7684\u4EBA\u3002")],-1)),$l=p(()=>s("br",null,null,-1)),jl=p(()=>s("span",null,"\u6839\u636E\u6027\u522B\u5B9A\u5411\u63A8\u8350",-1)),Jl=p(()=>s("span",null,"\u6839\u636E\u8BBE\u5907\u5B9A\u5411\u63A8\u8350",-1)),Xl=p(()=>s("span",null,"\u6839\u636E\u5E74\u9F84\u63A8\u8350",-1)),Kl=p(()=>s("span",null,"\u6839\u636E\u5730\u533A\u63A8\u8350",-1)),Zl=p(()=>s("span",null,"\u6839\u636E\u5174\u8DA3\u63A8\u8350",-1)),Hl=p(()=>s("span",null,[n("\u4F7F\u7528\u4F18\u60E0 "),s("span",{style:{"font-size":"12px",color:"#ccc",display:"inline-block","margin-left":"5px"}},"\u52A0\u70ED\u4ED6\u4EBA\u4E0D\u53EF\u4F7F\u7528\u4F18\u60E0")],-1)),Ql={style:{"font-size":"14px","font-weight":"500"}},eo={style:{"font-size":"14px","font-weight":"500","white-space":"nowrap"}},uo=p(()=>s("img",{src:"https://img.adyinqing.com/upai_shop/nm4pmvv91690358218990",alt:"",class:"wx_dou_icon",style:{"margin-bottom":"0"}},null,-1)),ao=p(()=>s("span",{style:{"font-size":"18px","font-weight":"500"}},"\u8BA2\u5355\u6570\u91CF\uFF1A ",-1)),lo=p(()=>s("span",{style:{"font-size":"18px","font-weight":"500"}},"\u8BA2\u5355\u91D1\u989D\uFF1A ",-1)),oo=p(()=>s("img",{src:"https://img.adyinqing.com/upai_shop/nm4pmvv91690358218990",alt:"",class:"wx_dou_icon",style:{"margin-bottom":"0"}},null,-1)),to=p(()=>s("span",{style:{"font-size":"18px","font-weight":"500"}},"\u9700\u652F\u4ED8\uFF1A ",-1)),no=p(()=>s("img",{src:"https://img.adyinqing.com/upai_shop/nm4pmvv91690358218990",alt:"",class:"wx_dou_icon",style:{"margin-bottom":"0"}},null,-1)),ro={class:"titleBox"},so={class:"labelContentL"},io=["onClick"],co={class:"labelContentR"},fo=["onClick"],vo={class:"searchContentBox"},mo=["onClick"],po=p(()=>s("span",null,"\u641C\u7D22\u4F60\u60F3\u52A0\u70ED\u7684\u89C6\u9891\u53F7\u540D\u5B57",-1)),go={style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},Fo={style:{display:"flex",alignItems:"center",color:"#1D2129"}},_o={key:0},Io=p(()=>s("span",null,"\u9009\u62E9\u8981\u52A0\u70ED\u7684\u89C6\u9891 ",-1)),Eo={key:0},ho=["src"],Bo={class:"countBox"},Co=["src"],yo=["src"],bo={class:"tableBox"},Ao={key:1},Do=p(()=>s("span",{style:{"font-size":"16px"}},"\u8BF7\u4F7F\u7528\u5BF9\u5E94\u6295\u624B\u53F7\u8FDB\u884C\u652F\u4ED8",-1)),ko={style:{"font-size":"14px"}},xo={key:0,style:{"font-size":"16px","font-weight":"500"}},Oo={class:"qrcodeBox"},Po={key:1,class:"qrcodePayMark"},wo={class:"tipsWords"},Vo=Ma({__name:"create",setup(Oe){const $=r(),Pe=r(!1),we=r(0),au=r(!1),q=r(!1),L=r("\u6B63\u5728\u521B\u5EFA\u652F\u4ED8\u8BA2\u5355"),N=r([]),Fu=()=>({total:0,success:0,error:0,overPay:0}),se=r({current:1,pageSize:10,chengeNum:0}),ie=r("\u9700\u5728500-300000\u4E4B\u95F4"),Ve=r([]),I=r(Fu()),_=r([]),B=r(0),de=r(!0),Ie=r(!0),Hu=r(),Qu=r(),ce=o=>{de.value=!0,Ie.value=!0,clearInterval(Hu.value),clearInterval(Qu.value),!o&&setTimeout(()=>{Ee()},2500)},ea=()=>{if(_.value.length>0){if(!_.value[B.value+1]&&I.value.success+I.value.error!==N.value.length)return;if(B.value+=1,x.value="\u5207\u6362\u6210\u529F\uFF0C\u8BF7\u8FDB\u884C\u652F\u4ED8\u2026.",_.value[B.value]&&Number(_.value[B.value].index)%10===0&&(se.value.current+=1),!_.value[B.value])$.value=[],I.value.success+I.value.error===N.value.length&&(ce(),$.value=[],q.value=!0,L.value="\u5F53\u524D\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210",x.value="\u5F53\u524D\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210",A.success("\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210"));else{$.value=[N.value[X.findIndex(N.value,["plantCode",_.value[B.value].plantCode])].plantCode];const o=_.value[B.value].index;[2,5].includes(N.value[o].plantStatus)?(q.value=!0,x.value="\u5F53\u524D\u8BA2\u5355\u5DF2\u652F\u4ED8\u5B8C\u6210",L.value="\u5F53\u524D\u8BA2\u5355\u652F\u4ED8\u5B8C\u6210\uFF0C\u8BF7\u52FF\u91CD\u590D\u64CD\u4F5C"):(x.value="\u5207\u6362\u6210\u529F\uFF0C\u8BF7\u8FDB\u884C\u652F\u4ED8\u2026.",q.value=!1,L.value="")}}else ce(),q.value=!0,L.value="\u5F53\u524D\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210",x.value="\u5F53\u524D\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210",A.success("\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210")};r(0),r(1);const Ee=async()=>{if(de.value||we.value===0)return;de.value=!0,Pe.value=!0;const{data:o}=await Ja({taskIds:we.value.join(","),pageIndex:1,pageSize:110,startDate:"2023-01-01",endDate:"2128-01-01"});N.value=o.grid?o.grid:[],I.value=Fu(),I.value.total=o.total;for(let l=0;l<N.value.length;l++){const d=N.value[l];switch(d.createStatus){case 1:I.value.success+=1;break;case 3:I.value.error+=1;break}if(d.plantStatus===1&&d.createStatus===1&&X.findIndex(_.value,["plantCode",d.plantCode])===-1){let m="undefined";d.sphInfo.sphUserType===3&&(m=d.sphInfo.sphUniqid),console.log("456789"),_.value.push({plantName:d.plantName,plantCode:d.plantCode,sphId:d.sphId,index:l,qrCodeVal:`https://channels.weixin.qq.com/promote/pages/mobile_pay?promotionId=${d.plantCode}&type=feed&userType=${d.sphInfo.sphUserType}&corproateId=${m}`})}(d.plantStatus===2||d.plantStatus===5)&&(I.value.overPay+=1)}if(au.value=!1,de.value=!1,_.value.length===1&&($.value=[N.value[X.findIndex(N.value,["plantCode",_.value[0].plantCode])].plantCode]),I.value.total===I.value.success+I.value.error&&I.value.success===I.value.overPay){ce(),q.value=!0,L.value="\u5F53\u524D\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210",x.value="\u5F53\u524D\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210",A.success("\u5F53\u524D\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210");return}B.value>0&&JSON.parse(JSON.stringify(_.value))[B.value],I.value.total!==I.value.success+I.value.error&&setTimeout(()=>{Ee()},1500),I.value.success!==I.value.overPay&&setTimeout(()=>{Ee()},1500),_.value.length>0&&(_.value[B.value]?q.value=!1:q.value=!0,x.value===""&&(x.value="\u7B49\u5F85\u652F\u4ED8\u4E2D\u2026\u2026"))},a=r((()=>({sequence:"",exportId:"",engineInfo:{groupId:null,packageId:null,sphIds:[],userVoucher:3,ruleId:"",taskNum:1,yjl:100,videoUrl:"",taskArr:[],videoInfo:{},authorInfo:{},cityIdArr:[],videoTagArr:[],videoUserName:[]},feedPromotionOrderInfo:{promotionTarget:6,promotionType:1,estimatedWecoinAmount:"500",suggest:{gender:[],ageRange:[],cityIds:[],interestTag:[],roomInfo:{roomId:[]},similarUsernameList:[]},duration:"86400",pricingMethod:1,internalInfo:{isInternal:!1}},voucherIds:[],deviceInfo:{deviceTypeId:1},baseReq:{featureFlag:26}}))()),Te=r(!0),_u=r([]),Iu=r([]),Ne=r([]),he=r([]),Be=r(!1),ue=r(500),K=r(1),fe=r(!1),w=r(40),k=r(1),P=r("\u70B9\u8D5E\u6570"),Eu=o=>{switch(o){case 6:P.value="\u70B9\u8D5E\u6570",k.value===1&&(W.value=25);break;case 12:P.value="\u8986\u76D6\u4EBA\u6570",k.value===1&&(W.value=3334);break;case 5:P.value="\u65B0\u589E\u7C89\u4E1D",k.value===1&&(W.value=8);break;case 1:P.value="\u8986\u76D6\u4EBA\u6570",k.value===1&&(W.value=3333);break;case 8:P.value="\u5546\u54C1\u6210\u4EA4",k.value===1&&(W.value=14);break;case 7:P.value="\u5546\u54C1\u70B9\u51FB",k.value===1&&(W.value=12);break;case 11:P.value="\u8986\u76D6\u4EBA\u6570",k.value===1&&(W.value=3333.3);break}Ce.value=Math.ceil(W.value*Number(a.value.feedPromotionOrderInfo.estimatedWecoinAmount)/1e3)};Yu(()=>a.value.feedPromotionOrderInfo.promotionTarget,o=>{console.log(o,"newVal"),Eu(o)});const W=r(25),Ce=r(25),Se=r(!1),lu=r("\u65B0\u5EFA\u5206\u7EC4"),R=r({name:null,type:1}),hu=r(),ae=r(!1),Ue=r(!1),ou=r([]),ze=r(""),Z=r({}),le=r(!1),qe=r(!1),Bu=r(!1),Me=r(-1),Le=r([]),tu=r(!1),y=r(!1),nu=r(2),We=r(""),Re=r(""),Cu=r(1),Ge=r(""),ru=r(""),M=r({}),ve=r(!1),x=r(""),me=r(0),su=r('[{"\u641E\u7B11":"1083"},{"\u4EB2\u5B50":"1084"},{"\u4E8C\u6B21\u5143":"1085"},{"\u660E\u661F\u540D\u4EBA":"1086"},{"\u65C5\u884C\u98CE\u666F":"1087"},{"\u821E\u8E48":"1088"},{"\u97F3\u4E50":"1089"},{"\u8FD0\u52A8":"1090"},{"\u5F71\u89C6\u7EFC\u827A":"1091"},{"\u65F6\u5C1A":"1092"},{"\u7F8E\u98DF":"1093"},{"\u840C\u5BA0":"1094"},{"\u52A8\u7269":"1095"},{"\u6E38\u620F":"1096"},{"\u79D1\u6280":"1097"},{"\u5DE5\u4E1A/\u673A\u68B0/\u65BD\u5DE5":"1098"},{"\u8F66":"1099"},{"\u751F\u6D3B":"1100"},{"\u65B0\u95FB\u8D44\u8BAF":"1101"},{"\u77E5\u8BC6":"1102"},{"\u60AC\u7591/\u4FA6\u63A2\u5267\u573A":"1103"},{"\u60C5\u611F":"1104"},{"\u624D\u827A":"1105"},{"\u751F\u6D3B\u6280\u5DE7":"1106"}]'),S=r('[{"accountInfos":[],"labelName":"\u6444\u5F71","labelId":"1"},{"accountInfos":[],"labelName":"\u97F3\u4E50","labelId":"2"},{"accountInfos":[],"labelName":"\u751F\u6D3B","labelId":"3"},{"accountInfos":[],"labelName":"VLOG","labelId":"4"},{"accountInfos":[],"labelName":"\u7F8E\u98DF","labelId":"5"},{"accountInfos":[],"labelName":"\u5F71\u89C6\u7EFC","labelId":"6"},{"accountInfos":[],"labelName":"\u60C5\u611F","labelId":"7"},{"accountInfos":[],"labelName":"\u65C5\u884C","labelId":"8"},{"accountInfos":[],"labelName":"\u804C\u573A","labelId":"9"},{"accountInfos":[],"labelName":"\u989C\u503C","labelId":"10"},{"accountInfos":[],"labelName":"\u4EB2\u5B50","labelId":"11"},{"accountInfos":[],"labelName":"\u4EBA\u6587\u827A\u672F","labelId":"12"},{"accountInfos":[],"labelName":"\u4E8C\u6B21\u5143","labelId":"13"},{"accountInfos":[],"labelName":"\u821E\u8E48","labelId":"14"},{"accountInfos":[],"labelName":"\u6E38\u620F","labelId":"15"},{"accountInfos":[],"labelName":"\u6559\u80B2","labelId":"16"},{"accountInfos":[],"labelName":"\u5BA0\u7269","labelId":"17"},{"accountInfos":[],"labelName":"\u4F53\u80B2","labelId":"18"},{"accountInfos":[],"labelName":"\u7F8E\u5986","labelId":"19"},{"accountInfos":[],"labelName":"\u65F6\u5C1A","labelId":"20"},{"accountInfos":[],"labelName":"\u79D1\u5B66\u79D1\u666E","labelId":"21"},{"accountInfos":[],"labelName":"\u641E\u7B11","labelId":"22"},{"accountInfos":[],"labelName":"\u793E\u4F1A","labelId":"23"},{"accountInfos":[],"labelName":"\u6C7D\u8F66","labelId":"24"},{"accountInfos":[],"labelName":"\u8D22\u7ECF","labelId":"25"},{"accountInfos":[],"labelName":"\u5065\u5EB7","labelId":"26"},{"accountInfos":[],"labelName":"\u5267\u60C5","labelId":"28"},{"accountInfos":[],"labelName":"\u4E09\u519C","labelId":"29"},{"accountInfos":[],"labelName":"\u6CD5\u5F8B","labelId":"31"},{"accountInfos":[],"labelName":"\u5A31\u4E50","labelId":"32"},{"accountInfos":[],"labelName":"\u6536\u85CF","labelId":"33"},{"accountInfos":[],"labelName":"\u79D1\u6280","labelId":"34"},{"accountInfos":[],"labelName":"\u661F\u5EA7\u8FD0\u52BF","labelId":"35"},{"accountInfos":[],"labelName":"\u516C\u76CA","labelId":"36"},{"accountInfos":[],"labelName":"\u5386\u53F2","labelId":"37"},{"accountInfos":[],"labelName":"\u5B97\u6559","labelId":"38"},{"accountInfos":[],"labelName":"\u65E0\u6CD5\u5206\u7C7B","labelId":"39"},{"accountInfos":[],"labelName":"\u519B\u4E8B","labelId":"40"}]'),ua=[{label:"\u6D4F\u89C8",iconUrl:"https://img.adyinqing.com/upai_shop/2vo96s3s1685331358030",value:"readCount"},{label:"\u70B9\u8D5E",iconUrl:"https://img.adyinqing.com/upai_shop/37yp0twk1685329463259",value:"likeCount"},{label:"\u8BC4\u8BBA",iconUrl:"https://img.adyinqing.com/upai_shop/pct8hpxr1685329463229",value:"commentCount"},{label:"\u8F6C\u53D1",iconUrl:"https://img.adyinqing.com/upai_shop/cvbiirrf1685329463284",value:"favCount"}];su.value=JSON.parse(su.value),S.value=JSON.parse(S.value);const D=r([]),aa=r([]),U=r(0),Ye=r(""),$e=r(!1),oe=r(1),je=r(!1),yu=r([]),bu=[],Au=r([]),pe=r([]);(async()=>{sl.forEach(o=>{o.value=o.code,o.label=o.name,o.children=[],il.forEach(l=>{o.province===l.province&&(l.value=l.code,l.label=l.name,o.children.push(l))}),bu.push(o)})})();const la=async o=>{a.value.feedPromotionOrderInfo.suggest.cityIds=[],o.forEach(l=>{l.length===2?a.value.feedPromotionOrderInfo.suggest.cityIds.push(String(l[1])):a.value.feedPromotionOrderInfo.suggest.cityIds.push(String(l[0]))}),a.value.engineInfo.cityIdArr=o},iu=async o=>{if(U.value=o,!a.value.engineInfo.sphIds[0]){A.warning({content:"\u8BF7\u5148\u9009\u62E9\u6295\u653E\u53F7",duration:3*1e3});return}if(S.value[U.value].accountInfos.length===0){ve.value=!0;const{data:l}=await ul({sphId:a.value.engineInfo.sphIds[0],labelId:S.value[U.value].labelId});S.value[U.value].accountInfos=l.data.labelTag.accountInfos,S.value[U.value].accountInfos.forEach(d=>{d.select=!1}),l&&(ve.value=!1)}},oa=o=>{_.value.length>0&&(console.log(o.plantCode,"event.plantCode"),X.findIndex(_.value,["plantCode",o.plantCode])!==-1?([2,5].includes(Number(o.plantStatus))?(q.value=!0,x.value="\u5F53\u524D\u8BA2\u5355\u5DF2\u652F\u4ED8\u5B8C\u6210",L.value="\u5F53\u524D\u8BA2\u5355\u652F\u4ED8\u5B8C\u6210\uFF0C\u8BF7\u52FF\u91CD\u590D\u64CD\u4F5C"):(x.value="\u5207\u6362\u6210\u529F\uFF0C\u8BF7\u8FDB\u884C\u652F\u4ED8\u2026.",q.value=!1,L.value=""),B.value=X.findIndex(_.value,["plantCode",o.plantCode]),$.value=[o.plantCode],[2,5].includes(Number(o.plantStatus))||mu()):(o.plantCode!=="0"?$.value=[o.plantCode]:$.value=[],q.value=!0,x.value="\u8BA1\u5212\u521B\u5EFA\u5931\u8D25\uFF0C\u65E0\u6CD5\u652F\u4ED8"))};(async()=>{const{data:o}=await el({pageIndex:1,pageSize:100});Au.value=o.grid||[]})();const Du=async o=>{a.value.engineInfo.ruleId=o.join(",")},ta=async()=>{Te.value===!1?a.value.engineInfo.ruleId="":Du(pe.value)},na=async()=>{if(Ye.value.length>0){$e.value=!0,ve.value=!0;try{const{data:o}=await Ju({sphId:a.value.engineInfo.sphIds[0],query:Ye.value,pageIndex:1,pageSize:20});yu.value=o.data.list}catch{}finally{ve.value=!1}}else $e.value=!1},ra=o=>new Promise((l,d)=>{const m=o.type,V=(o==null?void 0:o.size)/(1024*1024);return console.log(V,"fileSize"),console.log(m,",fileType"),V>1?(A.error("\u4E0A\u4F20\u56FE\u7247\u5927\u5C0F\u8D85\u8FC71M\u9650\u5236"),d(new Error("\u4E0A\u4F20\u56FE\u7247\u5927\u5C0F\u8D85\u8FC71M\u9650\u5236"))):l(!0)}),du=r([]),Je=r(!1),ku=r(""),sa=async o=>{if(!a.value.engineInfo.sphIds[0]){A.warning({content:"\u8BF7\u5148\u9009\u62E9\u88AB\u6295\u53F7",duration:3*1e3});return}const{fileItem:l}=o;console.log(l,o);const d=new FormData;d.append("file",l.file),d.append("sphId",a.value.engineInfo.sphIds[0]);const{data:m}=await al(d);ku.value=m.FileKey,du.value=[{uid:l.uid,name:l.file.name,url:""}],A.success("\u4E0A\u4F20\u6210\u529F\u3002"),console.log(m,du.value)},xu=(o,l)=>{const d=D.value.indexOf(o.nickName);if(console.log(d,o.nickName,D.value),d>=0)D.value.splice(D.value.indexOf(o.nickName),1),a.value.feedPromotionOrderInfo.suggest.similarUsernameList.splice(a.value.feedPromotionOrderInfo.suggest.similarUsernameList.indexOf(o.username),1),S.value[U.value].accountInfos[l].select=!1;else{if(D.value.length>=10){A.warning("\u6700\u5927\u53EA\u80FD\u9009\u62E910\u4F4D\u4F5C\u8005");return}D.value.push(o.nickName),aa.value.push(o.username),a.value.feedPromotionOrderInfo.suggest.similarUsernameList.push(o.username),S.value[U.value].accountInfos[l].select=!0}a.value.engineInfo.videoTagArr=D.value},ia=o=>{console.log(o,D.value,X.indexOf(D.value,o)),D.value.splice(X.indexOf(D.value,o),1),A.info("\u8BF7\u901A\u8FC7\u70B9\u51FB\u6DFB\u52A0\u4F5C\u8005\u7684\u7C89\u4E1D")},da=o=>{S.value[U.value].accountInfos.forEach(l=>{l.nickName===o&&(l.select=!1,a.value.feedPromotionOrderInfo.suggest.similarUsernameList.splice(a.value.feedPromotionOrderInfo.suggest.similarUsernameList.indexOf(l.username),1))})},ca=o=>{console.log(a.value.feedPromotionOrderInfo.suggest.similarUsernameList),je.value=!0,oe.value=2,ae.value=!1,o(!1)},fa=()=>{a.value.feedPromotionOrderInfo.suggest.similarUsernameList.length===0&&(ae.value=!1,oe.value=1,je.value=!0,D.value=[],a.value.feedPromotionOrderInfo.suggest.similarUsernameList=[])},va=async o=>{se.value.current=o},Ou=r(),{loading:Pu,setLoading:ge}=ja(!0),wu=async o=>{const{data:l}=await ll({pageIndex:1,pageSize:100,sphName:o}),d=l.grid.map(m=>(m.realSphName=m.sphName,m.sphName=`\uFF08${m.sphRemark?m.sphRemark:"-"}\uFF09${m.sphName}   \xA0\xA0\xA0\xA0  ${m.sphBalance}\xA0\u5FAE\u4FE1\u8C46`,m));console.log(d,"formatData"),a.value.engineInfo.sphIds.length&&(he.value=a.value.engineInfo.sphIds.map(m=>X.find(l.grid,["sphId",m]))),Ne.value=d||[]};Yu(y,(o,l)=>{y.value?ie.value="\u9700\u57281000-300000\u4E4B\u95F4":ie.value="\u9700\u5728500-300000\u4E4B\u95F4"});const Vu=async o=>{const{data:l}=await Ha({pageIndex:1,pageSize:100,name:o});Iu.value=l.grid||[]},Tu=async o=>{let l;if(localStorage.getItem("createPlant")){const m=JSON.parse(localStorage.getItem("createPlant"));console.log(m.engineInfo.packageId,"req.packageId"),m.engineInfo.packageId&&(l=m.engineInfo.packageId)}const{data:d}=await Qa({pageIndex:1,pageSize:100,name:o,packageId:l});_u.value=d.grid||[]},ye=(o,l)=>(Object.keys(o).forEach(d=>{d===l&&delete o[d]}),o),cu=async()=>{switch(console.log(a.value.feedPromotionOrderInfo.suggest.roiBidX100,"wecoinBidTypeChange",k.value),k.value){case 1:if(fe.value=!1,a.value.feedPromotionOrderInfo.promotionTarget===11&&(a.value.feedPromotionOrderInfo.suggest=ye(a.value.feedPromotionOrderInfo.suggest,"roiBidX100"),P.value="\u8986\u76D6\u4EBA\u6570"),a.value.feedPromotionOrderInfo.suggest=ye(a.value.feedPromotionOrderInfo.suggest,"wecoinBid"),!y.value)a.value.feedPromotionOrderInfo.promotionTarget===1?a.value.feedPromotionOrderInfo=ye(a.value.feedPromotionOrderInfo,"pricingMethod"):a.value.feedPromotionOrderInfo.pricingMethod=1;else switch(a.value.feedPromotionOrderInfo.promotionTarget){case 8:a.value.feedPromotionOrderInfo.pricingMethod=0;break;case 7:a.value.feedPromotionOrderInfo.pricingMethod=0;break;case 11:a.value.feedPromotionOrderInfo.pricingMethod=0;break}Ke(),Xe(),Eu(a.value.feedPromotionOrderInfo.promotionTarget);break;case 2:fe.value=!0,a.value.feedPromotionOrderInfo.promotionTarget===11?(a.value.feedPromotionOrderInfo.suggest.roiBidX100=Number((Number(w.value)*100).toFixed(2)),P.value="\u4E0B\u5355\u91D1\u989D"):a.value.feedPromotionOrderInfo.suggest.wecoinBid=String(Number(w.value)*100),a.value.feedPromotionOrderInfo.pricingMethod=1,W.value=24,Ke(),Xe();break}console.log(a.value)},Nu=o=>{console.log(o,"promotionTypeChange"),o===1&&(a.value.feedPromotionOrderInfo.suggest.ageRange=[],a.value.feedPromotionOrderInfo.suggest.cityIds=[],a.value.feedPromotionOrderInfo.suggest.gender=[],delete a.value.feedPromotionOrderInfo.suggest.deviceTypes,a.value.feedPromotionOrderInfo.suggest.interestTag=[],a.value.feedPromotionOrderInfo.suggest.similarUsernameList=[],a.value.feedPromotionOrderInfo.duration="86400",a.value.engineInfo.cityIdArr=[],D.value=[],Ve.value=[],be.value=0,me.value=0,oe.value=1)},ma=o=>(o=Number(o)/100,o);function pa(o){return o=Number(o),o>=1e4?o=`${Math.floor(o/1e3)/10}W+`:o>=1e3&&(o=`${Math.floor(o/100)/10}K+`),o}const fu=async()=>{switch(console.log("promotionTargetChange"),a.value.feedPromotionOrderInfo.promotionTarget){case 6:P.value="\u70B9\u8D5E\u6570";break;case 12:P.value="\u8986\u76D6\u4EBA\u6570";break;case 5:P.value="\u65B0\u589E\u7C89\u4E1D";break;case 1:P.value="\u8986\u76D6\u4EBA\u6570";break;case 8:P.value="\u6210\u4EA4\u4EBA\u6570",ie.value="\u9700\u57281000-300000\u4E4B\u95F4",ue.value=1e3,a.value.feedPromotionOrderInfo.suggest.roiBidX100&&(a.value.feedPromotionOrderInfo.suggest=ye(a.value.feedPromotionOrderInfo.suggest,"wecoinBid"));break;case 7:P.value="\u70B9\u51FB\u4EBA\u6570",ie.value="\u9700\u57281000-300000\u4E4B\u95F4",ue.value=1e3;break;case 11:ue.value=3e3,P.value="\u8986\u76D6\u4EBA\u6570",ie.value="\u9700\u57283000-300000\u4E4B\u95F4",k.value===2&&(w.value=void 0);break}cu()},Xe=async()=>{switch(console.log("change",K.value,a.value.feedPromotionOrderInfo.suggest.roiBidX100),K.value){case 1:Be.value=!1,a.value.feedPromotionOrderInfo.estimatedWecoinAmount=y.value?"1000":"500",a.value.feedPromotionOrderInfo.promotionTarget===11&&(a.value.feedPromotionOrderInfo.estimatedWecoinAmount="3000"),Ce.value=Math.ceil(W.value*Number(a.value.feedPromotionOrderInfo.estimatedWecoinAmount)/1e3);break;case 2:Be.value=!1,a.value.feedPromotionOrderInfo.estimatedWecoinAmount=y.value?"2000":"1000",a.value.feedPromotionOrderInfo.promotionTarget===11&&(a.value.feedPromotionOrderInfo.estimatedWecoinAmount="5000"),Ce.value=Math.ceil(W.value*Number(a.value.feedPromotionOrderInfo.estimatedWecoinAmount)/1e3);break;case 3:Be.value=!0,Ke();break}},Ke=async()=>{a.value.feedPromotionOrderInfo.estimatedWecoinAmount=String(ue.value),Ce.value=Math.ceil(W.value*Number(a.value.feedPromotionOrderInfo.estimatedWecoinAmount)/1e3)},ga=async()=>{a.value.feedPromotionOrderInfo.promotionTarget===11?a.value.feedPromotionOrderInfo.suggest.roiBidX100=Number((w.value*100).toFixed(2)):a.value.feedPromotionOrderInfo.suggest.wecoinBid=String(w.value*100),console.log(a.value.feedPromotionOrderInfo.suggest)},Fa=async o=>{switch(me.value){case 0:a.value.feedPromotionOrderInfo.suggest.gender=[];break;case 1:a.value.feedPromotionOrderInfo.suggest.gender=[1];break;case 2:a.value.feedPromotionOrderInfo.suggest.gender=[2];break;default:a.value.feedPromotionOrderInfo.suggest.gender=[];break}},be=r(0),_a=async()=>{switch(be.value){case 0:delete a.value.feedPromotionOrderInfo.suggest.deviceTypes;break;case 1:a.value.feedPromotionOrderInfo.suggest.deviceTypes=[1];break;case 2:a.value.feedPromotionOrderInfo.suggest.deviceTypes=[2];break;default:delete a.value.feedPromotionOrderInfo.suggest.deviceTypes;break}},Su=async o=>{o===2?lu.value="\u65B0\u589E\u8BA1\u5212\u5305":lu.value="\u65B0\u589E\u5206\u7EC4",R.value.type=o,Se.value=!0},Ia=async o=>{var d;if(await((d=hu.value)==null?void 0:d.validate())){o(!1);return}if(R.value.type===1){const{data:m,code:V}=await Xa({name:R.value.name});V===200&&A.success({content:"\u6DFB\u52A0\u5206\u7EC4\u6210\u529F",duration:5*1e3}),await Vu("")}else{const{data:m,code:V}=await Ka({name:R.value.name});V===200&&A.success({content:"\u6DFB\u52A0\u8BA1\u5212\u5305\u6210\u529F",duration:5*1e3}),await Tu("")}R.value.name=null,window.setTimeout(()=>{o()},300)},Uu=async()=>{if(!a.value.engineInfo.sphIds[0]){A.warning({content:"\u8BF7\u5148\u9009\u62E9\u6295\u653E\u53F7",duration:3*1e3});return}Ue.value=!0,ge(!0);try{const{data:o}=await Xu({sphId:a.value.engineInfo.sphIds[0]});ou.value=o.data.accountInfos}catch{}finally{ge(!1)}},zu=async()=>{if(!ze.value){A.warning({content:"\u8BF7\u586B\u5199\u641C\u7D22\u5185\u5BB9",duration:3*1e3});return}ge(!0);try{const{data:o}=await Ju({sphId:a.value.engineInfo.sphIds[0],query:ze.value,pageIndex:1,pageSize:6});ou.value=o.data.list}catch{}finally{ge(!1)}},Ea=async(o,l)=>{Me.value=o,M.value=l},ha=La(),Ba=()=>{ha.push({name:"sphList"})},qu=async()=>{ru.value="";const{data:o}=await nl({sphId:a.value.engineInfo.sphIds[0],exportId:M.value.exportId,nonceId:M.value.nonce});ru.value=o.data.shortUrl,a.value.engineInfo.videoUrl=o.data.shortUrl},Ca=o=>{if(Me.value===-1){A.warning({content:"\u8BF7\u70B9\u51FB\u9009\u62E9\u4F60\u8981\u52A0\u70ED\u7684\u89C6\u9891",duration:3*1e3}),o(!1);return}Object.values(M.value).length>0&&(y.value=!1,qe.value=!0,a.value.exportId=M.value.exportId,a.value.engineInfo.videoInfo=M.value,a.value.engineInfo.authorInfo=Z.value,M.value.shoppingcartJumpinfo.wording?(y.value=!0,a.value.feedPromotionOrderInfo.promotionTarget=8,a.value.feedPromotionOrderInfo.pricingMethod=0,console.log("\u6709\u5546\u54C1\u94FE\u63A5"),qu(),fu()):(console.log("\u65E0\u5546\u54C1\u94FE\u63A5"),a.value.feedPromotionOrderInfo.promotionTarget=6,a.value.feedPromotionOrderInfo.pricingMethod=1)),Ue.value=!1,o(!1)},ya=async()=>{oe.value===1&&(D.value=[],ae.value=!1,console.log(S.value[U.value].accountInfos),S.value[U.value].accountInfos=S.value[U.value].accountInfos.map(o=>(o.select=!1,o)),a.value.feedPromotionOrderInfo.suggest.similarUsernameList=[])},vu=async()=>{var o;if(!tu.value){switch(tu.value=!0,ge(!0),nu.value){case 1:We.value=re().add(-7,"day").format("YYYY-MM-DD"),Re.value=re().format("YYYY-MM-DD");break;case 2:We.value=re().add(-3,"month").format("YYYY-MM-DD"),Re.value=re().format("YYYY-MM-DD");break;default:We.value=re().add(-7,"day").format("YYYY-MM-DD"),Re.value=re().format("YYYY-MM-DD");break}try{const{data:l}=await ol({sphId:a.value.engineInfo.sphIds[0],encryptedUsername:(o=Z.value)==null?void 0:o.username,startTs:We.value,endTs:Re.value,lastBuf:Ge.value});(l.data.objects.length===0||l.data.objects.length<19)&&(Bu.value=!0),l.data.objects.forEach(d=>{Le.value.push(d)}),Ge.value=l.data.lastBuf}catch{}finally{ge(!1),tu.value=!1,Cu.value+=1}}},ba=async o=>{console.log(o,"sphIdsChange");const l=[];if(o.length)for(let d=0;d<o.length;d+=1){const m=new Promise((V,E)=>{Xu({sphId:o[d]}).then(({data:z})=>{V(z)}).catch(z=>{console.log(z),E(o[d])})});l.push(m)}await Promise.all(l).then(d=>{console.log(d)}).catch(d=>{a.value.engineInfo.sphIds=a.value.engineInfo.sphIds.filter(m=>m!==d),console.log(d,"catch e")}),he.value=a.value.engineInfo.sphIds.map(d=>(console.log(X.find(Ne.value,["sphId",d]),"4567890-"),X.find(Ne.value,["sphId",d]))),console.log(he.value)},mu=async()=>{if(_.value.length>0){if(Ie.value||!_.value[B.value])return;Ie.value=!0,_.value[B.value];const{data:o}=await tl({sphId:_.value[B.value].sphId,promotionId:_.value[B.value].plantCode});if(Ie.value=!1,o&&(Number(o.data.order.orderInfo.status)===5||Number(o.data.order.orderInfo.status)===2)){if(Ee(),x.value="\u652F\u4ED8\u5B8C\u6210\uFF0C\u6B63\u5728\u5207\u6362\u4E0B\u4E2A\u8BA2\u5355\u2026.",A.success("\u652F\u4ED8\u5B8C\u6210\uFF0C\u8BF7\u652F\u4ED8\u4E0B\u4E00\u4E2A\u8BA2\u5355"),B.value+=1,_.value[B.value]&&Number(_.value[B.value].index)%10===0&&(se.value.current+=1),_.value[B.value]){const l=X.findIndex(N.value,["plantCode",_.value[B.value].plantCode]);$.value=[N.value[l].plantCode]}x.value="\u5207\u6362\u6210\u529F\uFF0C\u8BF7\u8FDB\u884C\u652F\u4ED8\u2026."}}if(I.value.success+I.value.error===N.value.overPay&&I.value.success===I.value.overPay){ce(),$.value=[],q.value=!0,L.value="\u5F53\u524D\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210",x.value="\u5F53\u524D\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210",A.success("\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210");return}setTimeout(mu,1400)},Ae=r(!1),Aa=async()=>{var l;if(k.value===2&&Number(w.value)>Number(a.value.feedPromotionOrderInfo.estimatedWecoinAmount)/2){A.error({content:"\u51FA\u4EF7\u8BBE\u7F6E\u8FC7\u9AD8\uFF0C\u8BF7\u91CD\u65B0\u8BBE\u7F6E(\u51FA\u4EF7\u91D1\u989D\u5FC5\u987B\u5C0F\u4E8E\u8BA2\u5355\u91D1\u989D\u7684\u4E00\u534A)",duration:5*1e3});return}if(k.value===2&&w.value===void 0){A.error({content:"\u8BF7\u586B\u5199\u81EA\u5B9A\u4E49\u51FA\u4EF7\u65B9\u5F0F",duration:5*1e3});return}if(Ae.value=!0,!await((l=Ou.value)==null?void 0:l.validate())){if(!a.value.exportId){Ae.value=!1,A.error({content:"\u8BF7\u9009\u62E9\u9700\u8981\u52A0\u70ED\u7684\u89C6\u9891",duration:5*1e3});return}try{Je.value?a.value.feedPromotionOrderInfo.proofFileKey=ku.value:delete a.value.feedPromotionOrderInfo.proofFileKey,a.value=ye(a.value,"createTaskBefore"),console.log(a.value,"reqModel.value"),console.log(JSON.stringify(a.value),"reqModel.value");const{data:d}=await Za({reqJson:JSON.stringify(a.value)});we.value=d.taskId,d?A.success({content:"\u521B\u5EFA\u6210\u529F\uFF0C\u8BF7\u7B49\u5F85\u7CFB\u7EDF\u521B\u5EFA\u8BA2\u5355",duration:5*1e3}):A.error({content:"\u521B\u5EFA\u5931\u8D25\uFF0C\u8BF7\u5237\u65B0\u9875\u9762\u540E\u91CD\u65B0\u521B\u5EFA",duration:5*1e3})}catch(d){Ae.value=!1,we.value=0,setTimeout(()=>{de.value=!0,Pe.value=!1},1e3),console.log(d,"err")}finally{console.log(1111111),setTimeout(()=>{Ae.value=!1},5e3),a.value.createTaskBefore=1,localStorage.setItem("createPlant",JSON.stringify(a.value)),de.value=!1,Ie.value=!1,au.value=!0,q.value=!0,B.value=0,_.value=[],L.value="\u6B63\u5728\u521B\u5EFA\u652F\u4ED8\u8BA2\u5355",se.value.current=1,se.value.chengeNum=0,Ee(),mu()}}},Da=async()=>{if(localStorage.getItem("createPlant")){a.value=JSON.parse(localStorage.getItem("createPlant"));const o=JSON.parse(localStorage.getItem("createPlant"));switch(console.log(o.engineInfo.packageId,"req.packageId"),a.value.createTaskBefore!==1&&(a.value.engineInfo.sphIds=[a.value.engineInfo.sphId]),a.value.feedPromotionOrderInfo.suggest.wecoinBid?Number(a.value.feedPromotionOrderInfo.suggest.wecoinBid)>0&&(fe.value=!0,k.value=2,w.value=Number(a.value.feedPromotionOrderInfo.suggest.wecoinBid)/100,a.value.feedPromotionOrderInfo.suggest.roiBidX100&&o.feedPromotionOrderInfo.promotionTarget===11&&(w.value=Number(o.feedPromotionOrderInfo.suggest.roiBidX100)/100,console.log(w.value,a.value.feedPromotionOrderInfo.suggest,"wecoinBid53"))):a.value.feedPromotionOrderInfo.suggest.roiBidX100&&o.feedPromotionOrderInfo.promotionTarget===11&&(console.log(a.value.feedPromotionOrderInfo.suggest.roiBidX100,"wecoinBid51-before"),k.value=2,w.value=Number(o.feedPromotionOrderInfo.suggest.roiBidX100)/100,console.log(w.value,a.value.feedPromotionOrderInfo.suggest.roiBidX100,"wecoinBid51")),a.value.exportId&&(qe.value=!0,M.value=a.value.engineInfo.videoInfo,le.value=!0,Z.value=a.value.engineInfo.authorInfo,a.value.engineInfo.videoInfo.shoppingcartJumpinfo.wording&&(console.log("test"),y.value=!0,qu(),console.log(a.value.feedPromotionOrderInfo.promotionTarget,"if",k.value),fu())),console.log(o.feedPromotionOrderInfo.estimatedWecoinAmount,"req",y.value),console.log(a.value.feedPromotionOrderInfo.suggest.wecoinBid,"wecoinBid4"),a.value.engineInfo.ruleId&&(console.log(a.value.feedPromotionOrderInfo.suggest.wecoinBid,"wecoinBid3"),pe.value=a.value.engineInfo.ruleId.split(","),pe.value.forEach((d,m)=>{pe.value[m]=Number(d)})),o.feedPromotionOrderInfo.estimatedWecoinAmount){case"500":K.value=1;break;case"1000":console.log(a.value.feedPromotionOrderInfo.estimatedWecoinAmount,"1",y.value),K.value=y.value?1:2;break;case"2000":console.log(a.value.feedPromotionOrderInfo.estimatedWecoinAmount,"2",y.value),K.value=2;break;default:if(console.log(o.feedPromotionOrderInfo.estimatedWecoinAmount,"3",y.value),K.value=3,ue.value=Number(o.feedPromotionOrderInfo.estimatedWecoinAmount),a.value.feedPromotionOrderInfo.promotionTarget===11){let d=3;o.feedPromotionOrderInfo.estimatedWecoinAmount==="3000"?d=1:o.feedPromotionOrderInfo.estimatedWecoinAmount==="5000"&&(d=2),K.value=d}console.log(Number(o.feedPromotionOrderInfo.estimatedWecoinAmount));break}const{suggest:l}=a.value.feedPromotionOrderInfo;l.gender.length>0&&l.gender[0]===1&&(me.value=1),l.gender.length>0&&l.gender[0]===2&&(me.value=2),l.deviceTypes&&(be.value=l.deviceTypes.indexOf(1)===0?1:2),l.similarUsernameList.length>0&&(oe.value=2,je.value=!0,D.value=a.value.engineInfo.videoTagArr),Ve.value=a.value.engineInfo.cityIdArr,cu(),console.log(k.value,a.value,"estimatedWecoinAmountType.value"),k.value===2&&o.feedPromotionOrderInfo.suggest.roiBidX100&&o.feedPromotionOrderInfo.promotionTarget===11&&(w.value=Number(o.feedPromotionOrderInfo.suggest.roiBidX100)/100,console.log(w.value,a.value.feedPromotionOrderInfo.suggest.roiBidX100,"wecoinBid52")),o.feedPromotionOrderInfo.promotionType===1&&Nu(1),Xe(),o.feedPromotionOrderInfo.suggest.roiBidX100&&o.feedPromotionOrderInfo.promotionTarget===11&&(a.value.feedPromotionOrderInfo.suggest.roiBidX100=o.feedPromotionOrderInfo.suggest.roiBidX100)}},ka=async o=>{Z.value=o,le.value=!0,Cu.value=1,Ge.value="",Le.value=[],await vu()};return(()=>{wu(null),Tu(null),Vu(null)})(),Wa(()=>{Da()}),(o,l)=>{const d=c("Breadcrumb"),m=c("icon-question-circle-fill"),V=c("a-tooltip"),E=c("a-space"),z=c("a-option"),Fe=c("a-select"),pu=c("icon-plus"),Ze=c("a-button"),H=c("a-form-item"),He=c("a-input-number"),gu=c("a-input"),xa=c("a-switch"),Mu=c("a-form"),Q=c("a-card"),Oa=c("a-image"),_e=c("a-typography-paragraph"),De=c("a-avatar"),Qe=c("a-link"),ke=c("a-tag"),Pa=c("a-popover"),T=c("a-col"),j=c("a-row"),F=c("a-radio"),J=c("a-radio-group"),O=c("a-list-item-meta"),b=c("a-list-item"),wa=c("a-typography-text"),Va=c("a-upload"),Lu=c("a-input-tag"),te=c("a-list"),Wu=c("a-input-search"),Ta=c("icon-right"),Ru=c("icon-check"),eu=c("a-spin"),uu=c("a-modal"),Na=c("a-typography-title"),Sa=c("a-card-meta"),xe=c("a-table-column"),Gu=c("icon-exclamation-circle-fill"),Ua=c("a-table"),za=c("icon-check-circle-fill");return i(),h("div",cl,[u(d,{items:["\u6295\u6D41\u7BA1\u7406","\u521B\u5EFA\u8BA1\u5212"]}),s("div",{style:$u({boxSizing:"border-box",width:"100%",backgroundColor:"var(--color-fill-2)"})},[u(j,{gutter:24},{default:e(()=>[u(T,{span:18},{default:e(()=>[u(j,{gutter:24,style:{marginBottom:"-5px"}},{default:e(()=>[u(T,{span:24},{default:e(()=>[u(Q,{title:"\u57FA\u7840\u4FE1\u606F",bordered:!1,style:{width:"100%"}},{default:e(()=>[u(Mu,{ref_key:"formJcRef",ref:Ou,"auto-label-width":"",model:a.value.engineInfo,style:{width:"520px"}},{default:e(()=>[u(H,{field:"groupId",label:"",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5206\u7EC4"}],"validate-trigger":["change","input"]},{label:e(()=>[u(E,{size:3},{default:e(()=>[n(" \u5F52\u5C5E\u5206\u7EC4 "),u(V,{title:""},{content:e(()=>[fl,vl]),default:e(()=>[u(m)]),_:1})]),_:1})]),default:e(()=>[u(Fe,{modelValue:a.value.engineInfo.groupId,"onUpdate:modelValue":l[0]||(l[0]=t=>a.value.engineInfo.groupId=t),placeholder:"\u53EF\u8F93\u5165\u6A21\u7CCA\u641C\u7D22","allow-clear":"","allow-search":{retainInputValue:!0},style:{"margin-right":"10px"}},{default:e(()=>[(i(!0),h(G,null,Y(Iu.value,(t,C)=>(i(),v(z,{key:C,label:t.groupName,value:t.groupId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),u(Ze,{type:"primary",onClick:l[1]||(l[1]=t=>Su(1))},{icon:e(()=>[u(pu)]),default:e(()=>[n("\u65B0\u5EFA\u5206\u7EC4")]),_:1})]),_:1}),u(H,{field:"packageId",label:"\u8BA1\u5212\u5305",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u8BA1\u5212\u5305"}],"validate-trigger":["change","input"]},{label:e(()=>[u(E,{size:3},{default:e(()=>[n(" \u8BA1\u5212\u5305 "),u(V,{title:""},{content:e(()=>[ml,pl]),default:e(()=>[u(m)]),_:1})]),_:1})]),default:e(()=>[u(Fe,{modelValue:a.value.engineInfo.packageId,"onUpdate:modelValue":l[2]||(l[2]=t=>a.value.engineInfo.packageId=t),placeholder:"\u53EF\u8F93\u5165\u6A21\u7CCA\u641C\u7D22","allow-clear":"","allow-search":{retainInputValue:!0},style:{"margin-right":"10px"}},{default:e(()=>[(i(!0),h(G,null,Y(_u.value,(t,C)=>(i(),v(z,{key:C,label:t.packageName,value:t.packageId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),u(Ze,{type:"primary",onClick:l[3]||(l[3]=t=>Su(2))},{icon:e(()=>[u(pu)]),default:e(()=>[n("\u65B0\u5EFA\u8BA1\u5212\u5305")]),_:1})]),_:1}),u(H,{field:"sphIds",label:"\u6295\u653E\u53F7",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6295\u653E\u53F7"}],"validate-trigger":["change","input"]},{label:e(()=>[u(E,{size:3},{default:e(()=>[n(" \u6295\u653E\u53F7 "),u(V,{title:""},{content:e(()=>[gl]),default:e(()=>[u(m)]),_:1})]),_:1})]),default:e(()=>[u(Fe,{modelValue:a.value.engineInfo.sphIds,"onUpdate:modelValue":l[4]||(l[4]=t=>a.value.engineInfo.sphIds=t),placeholder:"\u53EF\u8F93\u5165\u89C6\u9891\u53F7\u540D\u79F0\u6216\u5907\u6CE8\u540D\u8FDB\u884C\u641C\u7D22","allow-search":{retainInputValue:!0},"allow-clear":"",style:{"margin-right":"10px"},multiple:"",onSearch:wu,onChange:ba},{default:e(()=>[(i(!0),h(G,null,Y(Ne.value,(t,C)=>(i(),v(z,{key:C,label:t.sphName,value:t.sphId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),u(Ze,{type:"primary",size:"small",onClick:l[5]||(l[5]=t=>Ba())},{default:e(()=>[n(" \u767B\u5F55\u6295\u653E\u53F7 ")]),_:1})]),_:1}),u(H,{field:"taskNum",label:"\u521B\u5EFA\u6570\u91CF",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u521B\u5EFA\u6570\u91CF"}],"validate-trigger":["change","input"]},{label:e(()=>[u(E,{size:3},{default:e(()=>[n(" \u521B\u5EFA\u6570\u91CF "),u(V,{title:""},{content:e(()=>[Fl]),default:e(()=>[u(m)]),_:1})]),_:1})]),default:e(()=>[u(He,{modelValue:a.value.engineInfo.taskNum,"onUpdate:modelValue":l[6]||(l[6]=t=>a.value.engineInfo.taskNum=t),placeholder:"\u8BF7\u586B\u5199\u521B\u5EFA\u6570\u91CF",min:1,max:30},null,8,["modelValue"])]),_:1}),u(H,{field:"taskNum",label:""},{label:e(()=>[u(E,{size:3},{default:e(()=>[n(" \u4F63\u91D1\u7387 "),u(V,{title:""},{content:e(()=>[_l]),default:e(()=>[u(m)]),_:1})]),_:1})]),default:e(()=>[u(He,{modelValue:a.value.engineInfo.yjl,"onUpdate:modelValue":l[7]||(l[7]=t=>a.value.engineInfo.yjl=t),placeholder:"\u8BF7\u586B\u5199\u4F63\u91D1\u7387",min:1,max:100},null,8,["modelValue"])]),_:1}),u(H,{field:"taskRemark",label:""},{label:e(()=>[u(E,{size:3},{default:e(()=>[n(" \u5907\u6CE8 ")]),_:1})]),default:e(()=>[u(gu,{modelValue:a.value.taskRemark,"onUpdate:modelValue":l[8]||(l[8]=t=>a.value.taskRemark=t),placeholder:"\u8BF7\u586B\u5199\u5907\u6CE8"},null,8,["modelValue"])]),_:1}),u(H,{label:"\u81EA\u52A8\u5173\u505C\u7B56\u7565"},{label:e(()=>[u(E,{size:3},{default:e(()=>[n(" \u81EA\u52A8\u5173\u505C\u7B56\u7565 "),u(V,{title:""},{content:e(()=>[Il]),default:e(()=>[u(m)]),_:1})]),_:1})]),default:e(()=>[u(E,null,{default:e(()=>[u(xa,{modelValue:Te.value,"onUpdate:modelValue":l[9]||(l[9]=t=>Te.value=t),onChange:ta},null,8,["modelValue"]),Te.value?(i(),v(Fe,{key:0,modelValue:pe.value,"onUpdate:modelValue":l[10]||(l[10]=t=>pe.value=t),style:{width:"360px"},placeholder:"\u8BF7\u9009\u62E9\u81EA\u52A8\u5173\u505C\u7B56\u7565",multiple:"",readonly:"",limit:10,scrollbar:!0,onChange:Du},{default:e(()=>[(i(!0),h(G,null,Y(Au.value,t=>(i(),v(z,{key:t.srId,label:t.srName,value:t.srId},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])):g("",!0)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),u(j,{gutter:24},{default:e(()=>[u(T,{span:24},{default:e(()=>[qe.value?g("",!0):(i(),v(Q,{key:0,bordered:!1,style:{width:"100%"}},{default:e(()=>[s("div",{style:{"background-color":"var(--color-fill-2)",color:"var(--color-text-1)",border:"1px dashed var(--color-fill-4)",height:"140px",width:"120px","border-radius":"2px","vertical-align":"middle",display:"flex",cursor:"pointer","align-items":"center","text-align":"center"},onClick:Uu},[s("div",El,[u(E,{direction:"vertical",size:5,fill:""},{default:e(()=>[u(pu,{style:{"font-size":"18px"}}),hl]),_:1})])])]),_:1})),qe.value?(i(),v(Q,{key:1,hoverable:"",style:{width:"100%",marginBottom:"20px"}},{default:e(()=>[s("div",Bl,[s("span",Cl,[u(Oa,{width:"70",src:M.value.coverUrl},null,8,["src"]),u(E,{direction:"vertical",fill:"",size:"mini"},{default:e(()=>[u(_e,{ellipsis:{rows:1,expandable:!1},style:{"margin-bottom":"0","margin-left":"5px"}},{default:e(()=>[n(f(M.value.description||"-"),1)]),_:1}),u(_e,{heading:6,style:{"margin-left":"5px","margin-bottom":"0",color:"#b3b3b3"}},{default:e(()=>[u(De,{"image-url":Z.value.headImgUrl,size:"30px"},null,8,["image-url"]),n(" "+f(Z.value.nickName)+" "+f(ne(re).unix(M.value.createTime).format("YYYY-MM-DD HH:mm:ss")),1)]),_:1}),M.value.shoppingcartJumpinfo.wording?(i(),v(Pa,{key:0,trigger:"click"},{content:e(()=>[u(E,{direction:"vertical",fill:"",style:{"text-align":"center"}},{default:e(()=>[u(Ku,{value:ru.value,size:200,level:"H",style:{position:"relative"}},null,8,["value"]),u(ke,{color:"green"},{default:e(()=>[n("\u8BF7\u7528\u5FAE\u4FE1APP\u626B\u63CF\u4E8C\u7EF4\u7801")]),_:1})]),_:1})]),default:e(()=>[u(Qe,{style:{padding:"0","margin-left":"5px"}},{default:e(()=>[n(f(M.value.shoppingcartJumpinfo.wording),1)]),_:1})]),_:1})):g("",!0)]),_:1})]),u(Qe,{onClick:Uu},{default:e(()=>[n("\u66F4\u6362")]),_:1})])]),_:1})):g("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),u(j,{gutter:24,style:{"margin-top":"10px"}},{default:e(()=>[u(T,{span:24},{default:e(()=>[u(Q,{bordered:!1,style:{width:"100%"}},{default:e(()=>[u(te,{bordered:!1,split:!1},{default:e(()=>[u(b,null,{default:e(()=>[u(O,null,{title:e(()=>[yl]),description:e(()=>[u(J,{modelValue:a.value.feedPromotionOrderInfo.promotionTarget,"onUpdate:modelValue":l[11]||(l[11]=t=>a.value.feedPromotionOrderInfo.promotionTarget=t),style:{"margin-top":"20px"},onChange:fu},{default:e(()=>[u(F,{value:6,disabled:y.value},{default:e(()=>[n("\u70B9\u8D5E\u6570 ")]),_:1},8,["disabled"]),u(F,{value:5,disabled:y.value},{default:e(()=>[n("\u5173\u6CE8\u6570 ")]),_:1},8,["disabled"]),u(F,{value:1,disabled:y.value},{default:e(()=>[n("\u5B8C\u64AD\u6570 ")]),_:1},8,["disabled"]),u(F,{value:12,disabled:y.value},{default:e(()=>[n("\u76F4\u64AD\u9884\u7EA6 ")]),_:1},8,["disabled"]),u(F,{value:7,disabled:!y.value},{default:e(()=>[n("\u5546\u54C1\u70B9\u51FB ")]),_:1},8,["disabled"]),u(F,{value:8,disabled:!y.value},{default:e(()=>[n("\u5546\u54C1\u6210\u4EA4 ")]),_:1},8,["disabled"]),u(F,{value:11,disabled:!y.value},{default:e(()=>[n("\u6210\u4EA4ROI ")]),_:1},8,["disabled"])]),_:1},8,["modelValue"])]),_:1})]),_:1}),u(b,null,{default:e(()=>[u(O,null,{title:e(()=>[s("span",null,[n("\u9884\u8BA1"+f(P.value)+" ",1),bl])]),description:e(()=>[s("div",Al,[s("span",Dl,f(Ce.value),1),kl])]),_:1})]),_:1}),u(b,null,{default:e(()=>[u(O,null,{title:e(()=>[xl]),description:e(()=>[u(J,{modelValue:K.value,"onUpdate:modelValue":l[13]||(l[13]=t=>K.value=t),style:{"margin-top":"20px"},onChange:Xe},{default:e(()=>[u(F,{value:1},{default:e(()=>[u(E,{size:2},{default:e(()=>[n(f(y.value?a.value.feedPromotionOrderInfo.promotionTarget===11?"3000":"1000":"500"),1),a.value.feedPromotionOrderInfo.promotionTarget!==11?(i(),h("img",Ol)):g("",!0)]),_:1})]),_:1}),u(F,{value:2},{default:e(()=>[u(E,{size:2},{default:e(()=>[n(f(y.value?a.value.feedPromotionOrderInfo.promotionTarget===11?"5000":"2000":"1000"),1),a.value.feedPromotionOrderInfo.promotionTarget!==11?(i(),h("img",Pl)):g("",!0)]),_:1})]),_:1}),u(F,{value:3},{default:e(()=>[u(E,null,{default:e(()=>[wl,s("div",Vl,[Be.value?(i(),v(He,{key:0,modelValue:ue.value,"onUpdate:modelValue":l[12]||(l[12]=t=>ue.value=t),placeholder:ie.value,min:y.value?a.value.feedPromotionOrderInfo.promotionTarget===11?3e3:1e3:500,max:3e5,step:1e3,precision:0,mode:"button",style:{width:"100%"},onChange:Ke},null,8,["modelValue","placeholder","min"])):g("",!0),Be.value&&a.value.feedPromotionOrderInfo.promotionTarget!==11?(i(),h("img",Tl)):g("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),u(b,null,{default:e(()=>[u(O,null,{title:e(()=>[s("span",null,"\u51FA\u4EF7\u65B9\u5F0F"+f(a.value.feedPromotionOrderInfo.promotionTarget===11?"(ROI)":""),1)]),description:e(()=>[u(J,{modelValue:k.value,"onUpdate:modelValue":l[15]||(l[15]=t=>k.value=t),style:{"margin-top":"20px"},onChange:cu},{default:e(()=>[u(F,{value:1},{default:e(()=>[n("\u667A\u80FD\u51FA\u4EF7")]),_:1}),u(F,{value:2},{default:e(()=>[s("div",Nl,[Sl,u(E,{direction:"vertical",align:"start"},{default:e(()=>[s("div",Ul,[fe.value?(i(),v(He,{key:0,modelValue:w.value,"onUpdate:modelValue":l[14]||(l[14]=t=>w.value=t),placeholder:a.value.feedPromotionOrderInfo.promotionTarget===11?"":"\u9700\u57281-10000\u4E4B\u95F4",min:Number(a.value.feedPromotionOrderInfo.promotionTarget)===11?.5:1,max:1e9,step:Number(a.value.feedPromotionOrderInfo.promotionTarget)===11?.01:1,precision:a.value.feedPromotionOrderInfo.promotionTarget===11?2:0,mode:"button",style:{width:"100%"},onChange:ga},null,8,["modelValue","placeholder","min","step","precision"])):g("",!0),fe.value&&a.value.feedPromotionOrderInfo.promotionTarget!==11?(i(),h("img",zl)):g("",!0)])]),_:1}),a.value.feedPromotionOrderInfo.promotionTarget==11&&fe.value?(i(),h("div",ql," roi\u9700\u57280.5-50\u4E4B\u95F4")):g("",!0)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),u(b,null,{default:e(()=>[u(O,null,{title:e(()=>[Ml]),description:e(()=>[u(J,{modelValue:a.value.feedPromotionOrderInfo.promotionType,"onUpdate:modelValue":l[16]||(l[16]=t=>a.value.feedPromotionOrderInfo.promotionType=t),style:{"margin-top":"20px"},onChange:Nu},{default:e(()=>[u(F,{value:1},{default:e(()=>[n("\u667A\u80FD\u52A0\u70ED")]),_:1}),u(F,{value:2},{default:e(()=>[n("\u5B9A\u5411\u52A0\u70ED")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),u(b,null,{default:e(()=>[u(O,null,{title:e(()=>[Ll]),description:e(()=>[u(J,{modelValue:Je.value,"onUpdate:modelValue":l[17]||(l[17]=t=>Je.value=t),style:{"margin-top":"20px"}},{default:e(()=>[u(F,{value:!1},{default:e(()=>[n("\u672A\u4F7F\u7528")]),_:1}),u(F,{value:!0},{default:e(()=>[n("\u4F7F\u7528")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),Je.value?(i(),v(b,{key:0},{default:e(()=>[u(O,null,{title:e(()=>[Wl]),description:e(()=>[u(E,{direction:"vertical",style:{"margin-top":"20px"}},{default:e(()=>[u(wa,{type:"secondary"},{default:e(()=>[Rl,n(" \u586B\u5199\u540E\u4E0A\u4F20\u6587\u4EF6\u3002 ")]),_:1}),u(Va,{action:"/",draggable:"","file-list":du.value,limit:1,accept:".doc,.docx,.pdf,.png","custom-request":sa,onBeforeUpload:ra},null,8,["file-list","accept"])]),_:1})]),_:1})]),_:1})):g("",!0),a.value.feedPromotionOrderInfo.promotionType===2?(i(),v(b,{key:1},{default:e(()=>[u(O,null,{title:e(()=>[Gl]),description:e(()=>[u(J,{modelValue:a.value.feedPromotionOrderInfo.duration,"onUpdate:modelValue":l[18]||(l[18]=t=>a.value.feedPromotionOrderInfo.duration=t),style:{"margin-top":"20px"}},{default:e(()=>[u(F,{value:"86400"},{default:e(()=>[n("24\u5C0F\u65F6")]),_:1}),u(F,{value:"43200"},{default:e(()=>[n("12\u5C0F\u65F6")]),_:1}),u(F,{value:"21600"},{default:e(()=>[n("6\u5C0F\u65F6")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):g("",!0),a.value.feedPromotionOrderInfo.promotionType===2?(i(),v(b,{key:2},{default:e(()=>[u(O,null,{title:e(()=>[Yl]),description:e(()=>[u(J,{modelValue:oe.value,"onUpdate:modelValue":l[20]||(l[20]=t=>oe.value=t),style:{"margin-top":"20px"},onChange:ya},{default:e(()=>[u(F,{value:1},{default:e(()=>[n("\u4E0D\u9650")]),_:1}),u(F,{value:2,onClick:l[19]||(l[19]=t=>{ae.value=!0,iu(0)})},{default:e(()=>[n("\u9009\u62E9\u76F8\u4F3C\u4F5C\u8005\u7684\u7C89\u4E1D")]),_:1})]),_:1},8,["modelValue"]),$l,je.value?(i(),v(E,{key:0,onClick:l[22]||(l[22]=t=>{ae.value=!0,iu(U.value)})},{default:e(()=>[n(" \u5DF2\u6DFB\u52A0 "),u(Lu,{modelValue:D.value,"onUpdate:modelValue":l[21]||(l[21]=t=>D.value=t),placeholder:"\u5DF2\u6DFB\u52A0\u4F5C\u8005","max-tag-count":3,readonly:"","allow-clear":"",style:{"{\n                                width":"300px","border-radius":"8px"}},{value:e(({value:t})=>[n(f(t),1)]),_:1},8,["modelValue"]),n(" \u7B49 "+f(D.value.length)+"\u4E2A\u4F5C\u8005 ",1)]),_:1})):g("",!0)]),_:1})]),_:1})):g("",!0),a.value.feedPromotionOrderInfo.promotionType===2?(i(),v(b,{key:3},{default:e(()=>[u(O,null,{title:e(()=>[jl]),description:e(()=>[u(J,{modelValue:me.value,"onUpdate:modelValue":l[23]||(l[23]=t=>me.value=t),style:{"margin-top":"20px"},onChange:Fa},{default:e(()=>[u(F,{value:0},{default:e(()=>[n("\u4E0D\u9650 ")]),_:1}),u(F,{value:1},{default:e(()=>[n("\u7537")]),_:1}),u(F,{value:2},{default:e(()=>[n("\u5973")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):g("",!0),a.value.feedPromotionOrderInfo.promotionType===2?(i(),v(b,{key:4},{default:e(()=>[u(O,null,{title:e(()=>[Jl]),description:e(()=>[u(J,{modelValue:be.value,"onUpdate:modelValue":l[24]||(l[24]=t=>be.value=t),style:{"margin-top":"20px"},onChange:_a},{default:e(()=>[u(F,{value:0},{default:e(()=>[n("\u4E0D\u9650 ")]),_:1}),u(F,{value:1},{default:e(()=>[n("iphone")]),_:1}),u(F,{value:2},{default:e(()=>[n("\u5B89\u5353")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):g("",!0),a.value.feedPromotionOrderInfo.promotionType===2?(i(),v(b,{key:5},{default:e(()=>[u(O,null,{title:e(()=>[Xl]),description:e(()=>[u(Fe,{modelValue:a.value.feedPromotionOrderInfo.suggest.ageRange,"onUpdate:modelValue":l[25]||(l[25]=t=>a.value.feedPromotionOrderInfo.suggest.ageRange=t),style:{"margin-top":"10px",width:"320px"},placeholder:"\u5168\u90E8\u5E74\u9F84",multiple:"","allow-clear":""},{default:e(()=>[u(z,{value:1},{default:e(()=>[n("18-24\u5C81")]),_:1}),u(z,{value:2},{default:e(()=>[n("25-29\u5C81")]),_:1}),u(z,{value:3},{default:e(()=>[n("30-39\u5C81")]),_:1}),u(z,{value:4},{default:e(()=>[n("40-49\u5C81")]),_:1}),u(z,{value:5},{default:e(()=>[n("50\u5C81\u4EE5\u4E0A")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):g("",!0),a.value.feedPromotionOrderInfo.promotionType===2?(i(),v(b,{key:6},{default:e(()=>[u(O,null,{title:e(()=>[Kl]),description:e(()=>[u(ne(rl),{value:Ve.value,"onUpdate:value":l[26]||(l[26]=t=>Ve.value=t),style:{"margin-top":"10px",width:"320px"},multiple:"",options:bu,placeholder:"\u5168\u90E8\u5730\u533A","dropdown-class-name":"ant_placeholder_class","suffix-icon":"Shopping Around",onChange:la},{tagRender:e(t=>[(i(),v(ke,{key:t.value,color:"blue"},{default:e(()=>[n(f(t.label),1)]),_:2},1024))]),_:1},8,["value"])]),_:1})]),_:1})):g("",!0),a.value.feedPromotionOrderInfo.promotionType===2?(i(),v(b,{key:7},{default:e(()=>[u(O,null,{title:e(()=>[Zl]),description:e(()=>[u(Fe,{modelValue:a.value.feedPromotionOrderInfo.suggest.interestTag,"onUpdate:modelValue":l[27]||(l[27]=t=>a.value.feedPromotionOrderInfo.suggest.interestTag=t),style:{"margin-top":"10px",width:"320px"},placeholder:"\u5168\u90E8\u5174\u8DA3",multiple:"","allow-clear":""},{default:e(()=>[(i(!0),h(G,null,Y(su.value,(t,C)=>(i(),v(z,{key:C,value:Object.values(t)[0]},{default:e(()=>[n(f(Object.keys(t)[0]),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):g("",!0),u(b,null,{default:e(()=>[u(O,null,{title:e(()=>[Hl]),description:e(()=>[u(J,{modelValue:a.value.engineInfo.userVoucher,"onUpdate:modelValue":l[28]||(l[28]=t=>a.value.engineInfo.userVoucher=t),style:{"margin-top":"20px"}},{default:e(()=>[u(F,{value:1},{default:e(()=>[n("\u4F18\u5148\u4F7F\u7528\u6700\u5927\u9762\u989D\u4F18\u60E0\u5238 ")]),_:1}),u(F,{value:2},{default:e(()=>[n("\u4F18\u5148\u4F7F\u7528\u5373\u5C06\u5230\u671F\u4F18\u60E0\u5238 ")]),_:1}),u(F,{value:3},{default:e(()=>[n("\u4E0D\u4F7F\u7528\u4F18\u60E0\u5238")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),u(T,{span:6},{default:e(()=>[u(E,{style:{width:"100%"},direction:"vertical",size:24},{default:e(()=>[u(Q,{bordered:!1,style:{width:"100%",maxHeight:"320px",overflow:" auto"}},{title:e(()=>[u(j,{justify:"space-between",align:"end"},{default:e(()=>[u(T,{flex:"60px"},{default:e(()=>[n("\u5FAE\u4FE1\u8C46\u4F59\u989D")]),_:1}),u(T,{flex:"60px",style:{"font-size":"12px"}},{default:e(()=>[n("\u5DF2\u9009"+f(he.value.length)+"\u4E2A",1)]),_:1})]),_:1})]),default:e(()=>[u(te,{style:{"margin-bottom":"30px"}},{default:e(()=>[(i(!0),h(G,null,Y(he.value,(t,C)=>(i(),v(b,{key:C},{default:e(()=>[u(j,{justify:"space-between",style:{width:"100%"}},{default:e(()=>[u(T,{flex:6},{default:e(()=>[s("span",Ql,f(t?t.realSphName?t.realSphName:t.sphName:""),1)]),_:2},1024),u(T,{flex:1},{default:e(()=>[u(E,{size:3},{default:e(()=>[s("span",eo,f(t?t.sphBalance:0)+"\u4E2A ",1),uo]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),u(Q,{title:"\u52A0\u70ED\u4FE1\u606F",bordered:!1,style:{width:"100%"}},{default:e(()=>[u(te,{style:{"margin-bottom":"30px"}},{default:e(()=>[u(b,null,{default:e(()=>[ao,s("span",null,f(a.value.engineInfo.sphIds.length?a.value.engineInfo.taskNum*a.value.engineInfo.sphIds.length:a.value.engineInfo.taskNum)+"\u4E2A",1)]),_:1}),u(b,null,{default:e(()=>[lo,u(E,{size:2},{default:e(()=>[n(f(a.value.engineInfo.sphIds.length?a.value.feedPromotionOrderInfo.estimatedWecoinAmount*a.value.engineInfo.taskNum*a.value.engineInfo.sphIds.length:a.value.feedPromotionOrderInfo.estimatedWecoinAmount*a.value.engineInfo.taskNum)+" ",1),oo]),_:1})]),_:1}),u(b,null,{default:e(()=>[to,u(E,{size:2},{default:e(()=>[n(f(a.value.engineInfo.sphIds.length?a.value.feedPromotionOrderInfo.estimatedWecoinAmount*a.value.engineInfo.taskNum*a.value.engineInfo.sphIds.length:a.value.feedPromotionOrderInfo.estimatedWecoinAmount*a.value.engineInfo.taskNum)+" ",1),no]),_:1})]),_:1})]),_:1}),u(Ze,{type:"primary",shape:"round",size:"large",disabled:Ae.value,long:"",onClick:Aa},{default:e(()=>[n("\u521B\u5EFA\u8BA2\u5355 ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})],4),u(uu,{visible:ae.value,"onUpdate:visible":l[33]||(l[33]=t=>ae.value=t),width:"1000px",title:"\u6839\u636E\u7C89\u4E1D\u5C42\u63A8\u8350",onCancel:fa,onBeforeOk:ca},{default:e(()=>[s("div",ro,[n("\u5C06\u5B9A\u5411\u63A8\u7ED9\u4F60\u9009\u62E9\u4F5C\u8005\u7684\u7C89\u4E1D\uFF0C\u4EE5\u53CA\u4E0E\u7C89\u4E1D\u76F8\u4F3C\u7684\u4EBA\u3002 "),u(Wu,{modelValue:Ye.value,"onUpdate:modelValue":l[29]||(l[29]=t=>Ye.value=t),style:{width:"320px"},placeholder:"\u641C\u7D22\u4F5C\u8005\u7684\u7C89\u4E1D\uFF0C\u4EE5\u53CA\u4E0E\u7C89\u4E1D\u76F8\u4F3C\u7684\u4EBA","search-button":"",onChange:na},null,8,["modelValue"])]),u(j,null,{default:e(()=>[u(T,{flex:"1"},{default:e(()=>[u(Lu,{modelValue:D.value,"onUpdate:modelValue":l[30]||(l[30]=t=>D.value=t),placeholder:"\u9009\u62E9\u4F5C\u8005\u7684\u7C89\u4E1D\uFF0C\u4EE5\u53CA\u4E0E\u7C89\u4E1D\u76F8\u4F3C\u7684\u4EBA\u3002","allow-clear":"",style:{"{\n                width":"500px",height:"80px","border-radius":"8px"},onRemove:l[31]||(l[31]=t=>da(t)),onPressEnter:l[32]||(l[32]=t=>ia(t))},{value:e(({value:t})=>[n(f(t),1)]),_:1},8,["modelValue"])]),_:1})]),_:1}),$e.value?g("",!0):(i(),v(j,{key:0},{default:e(()=>[u(T,{span:4},{default:e(()=>[s("div",so,[(i(!0),h(G,null,Y(S.value,(t,C)=>(i(),h("div",{key:C,class:ju(["labelBox",{active:U.value===C}]),onClick:ee=>iu(C)},[n(f(t.labelName),1),u(Ta)],10,io))),128))])]),_:1}),u(T,{span:20},{default:e(()=>[u(eu,{loading:ve.value,tip:"\u52A0\u8F7D\u4E2D",style:{width:"100%"}},{default:e(()=>[s("div",co,[(i(!0),h(G,null,Y(S.value[U.value].accountInfos,(t,C)=>(i(),h("div",{key:C,class:"contentBox",onClick:ee=>xu(t,C)},[u(De,{"image-url":t.headImgUrl,size:30,style:{"margin-right":"0.7rem"}},null,8,["image-url"]),n(" "+f(t.nickName)+" ",1),t.select?(i(),v(Ru,{key:0})):g("",!0)],8,fo))),128))])]),_:1},8,["loading"])]),_:1})]),_:1})),$e.value?(i(),v(j,{key:1},{default:e(()=>[u(T,{flex:1},{default:e(()=>[u(eu,{loading:ve.value,tip:"\u52A0\u8F7D\u4E2D",style:{width:"100%"}},{default:e(()=>[s("div",vo,[(i(!0),h(G,null,Y(yu.value,(t,C)=>(i(),h("div",{key:C,class:"searchContent",onClick:ee=>xu(t,C)},[u(De,{"image-url":t.headImgUrl,size:48,style:{"margin-right":"0.7rem"}},null,8,["image-url"]),n(" "+f(t.nickName)+" ",1),t.select?(i(),v(Ru,{key:0})):g("",!0)],8,mo))),128))])]),_:1},8,["loading"])]),_:1})]),_:1})):g("",!0)]),_:1},8,["visible"]),u(uu,{visible:Ue.value,"onUpdate:visible":l[39]||(l[39]=t=>Ue.value=t),width:"1000px",title:"\u9009\u62E9\u8981\u52A0\u70ED\u7684\u89C6\u9891",onBeforeOk:Ca},{default:e(()=>[u(te,{bordered:!1,split:!1},{default:e(()=>[u(b,null,{default:e(()=>[u(O,null,{title:e(()=>[po]),description:e(()=>[le.value?(i(),v(Q,{key:0,hoverable:"",style:{width:"360px",marginBottom:"20px"}},{default:e(()=>[s("div",go,[s("span",Fo,[u(De,{style:{marginRight:"8px",backgroundColor:"#165DFF"},size:35,"image-url":Z.value.headImgUrl},null,8,["image-url"]),u(E,{direction:"vertical",fill:"",size:"mini"},{default:e(()=>[u(Na,{heading:6,style:{margin:"0"}},{default:e(()=>[n(f(Z.value.nickName),1)]),_:1}),u(_e,{ellipsis:{rows:1,expandable:!1},style:{"margin-bottom":"0"}},{default:e(()=>[n(f(Z.value.signature||"-"),1)]),_:1})]),_:1})]),u(Qe,{onClick:l[34]||(l[34]=t=>{le.value=!1,Me.value=-1})},{default:e(()=>[n("\u66F4\u6362")]),_:1})])]),_:1})):g("",!0),le.value?g("",!0):(i(),v(Wu,{key:1,modelValue:ze.value,"onUpdate:modelValue":l[35]||(l[35]=t=>ze.value=t),style:{"margin-top":"10px",width:"300px"},placeholder:"\u8F93\u5165\u89C6\u9891\u53F7\uFF0C\u56DE\u8F66\u6216\u70B9\u51FB\u6309\u94AE\u641C\u7D22",autocomplete:"off","allow-clear":"",onPressEnter:zu,onSearch:zu},null,8,["modelValue"]))]),_:1})]),_:1})]),_:1}),le.value?(i(),h("div",_o,[u(te,{bordered:!1,split:!1},{default:e(()=>[u(b,null,{default:e(()=>[u(O,null,{title:e(()=>[Io]),description:e(()=>[n(" \u65E5\u671F\u8303\u56F4 "),u(J,{modelValue:nu.value,"onUpdate:modelValue":l[36]||(l[36]=t=>nu.value=t),style:{"margin-top":"20px"},onChange:l[37]||(l[37]=t=>{Ge.value="",Le.value=[],vu()})},{default:e(()=>[u(F,{value:1},{default:e(()=>[n("\u8FD17\u5929")]),_:1}),u(F,{value:2},{default:e(()=>[n("\u8FD13\u4E2A\u6708")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),u(te,{"max-height":420,scrollbar:!0,bordered:!1,loading:ne(Pu),onReachBottom:l[38]||(l[38]=t=>vu())},{"scroll-loading":e(()=>[Bu.value?(i(),h("div",Eo,"\u6682\u65E0\u66F4\u591A\u6570\u636E")):(i(),v(eu,{key:1}))]),default:e(()=>[u(j,{gutter:24,style:{marginBottom:"20px"}},{default:e(()=>[(i(!0),h(G,null,Y(Le.value,(t,C)=>(i(),v(T,{key:C,span:6,style:{"margin-bottom":"10px",cursor:"pointer"}},{default:e(()=>[u(Q,{class:ju({"video-select":Me.value===C}),onClick:ee=>Ea(C,t)},{cover:e(()=>[s("img",{style:$u({width:"100%",transform:"translateY(-20px)"}),alt:"dessert",src:t.coverUrl},null,12,ho)]),default:e(()=>[u(Sa,null,{description:e(()=>[u(_e,{ellipsis:{rows:1,expandable:!1},style:{"margin-bottom":"0"}},{default:e(()=>[n(f(t.description||"-"),1)]),_:2},1024),s("div",Bo,[(i(),h(G,null,Y(ua,(ee,qa)=>s("div",{key:qa,class:"count"},[s("img",{src:ee.iconUrl,alt:"",class:"icon"},null,8,Co),u(_e,{style:{"margin-bottom":"0"}},{default:e(()=>[n(f(t[ee.value]?pa(t[ee.value]):"0"),1)]),_:2},1024)])),64))])]),_:2},1024)]),_:2},1032,["class","onClick"])]),_:2},1024))),128))]),_:1})]),_:1},8,["loading"])])):g("",!0),le.value?g("",!0):(i(),v(te,{key:1,bordered:!1,split:!1,hoverable:!0,loading:ne(Pu)},{default:e(()=>[(i(!0),h(G,null,Y(ou.value,(t,C)=>(i(),v(b,{key:C},{default:e(()=>[u(O,{style:{cursor:"pointer"},onClick:ee=>ka(t)},{title:e(()=>[s("span",null,f(t.nickName),1)]),description:e(()=>[t.signature?(i(),v(_e,{key:0,ellipsis:{suffix:"",rows:1,expandable:!0}},{default:e(()=>[n(f(t.signature||"-"),1)]),_:2},1024)):g("",!0)]),avatar:e(()=>[u(De,{shape:"square"},{default:e(()=>[s("img",{alt:"avatar",src:t.headImgUrl},null,8,yo)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1},8,["loading"]))]),_:1},8,["visible"]),u(uu,{visible:Se.value,"onUpdate:visible":l[42]||(l[42]=t=>Se.value=t),title:lu.value,onCancel:l[43]||(l[43]=t=>Se.value=!1),onBeforeOk:Ia},{default:e(()=>[u(Mu,{ref_key:"formGpRef",ref:hu,model:R.value,"label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:e(()=>[R.value.type===1?(i(),v(H,{key:0,field:"name",label:"\u5206\u7EC4\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u5206\u7EC4\u540D\u79F0"}]},{default:e(()=>[u(gu,{modelValue:R.value.name,"onUpdate:modelValue":l[40]||(l[40]=t=>R.value.name=t)},null,8,["modelValue"])]),_:1})):g("",!0),R.value.type===2?(i(),v(H,{key:1,field:"name",label:"\u8BA1\u5212\u5305\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u8BA1\u5212\u5305\u540D\u79F0"}]},{default:e(()=>[u(gu,{modelValue:R.value.name,"onUpdate:modelValue":l[41]||(l[41]=t=>R.value.name=t)},null,8,["modelValue"])]),_:1})):g("",!0)]),_:1},8,["model"])]),_:1},8,["visible","title"]),u(uu,{visible:Pe.value,"onUpdate:visible":l[45]||(l[45]=t=>Pe.value=t),"mask-closable":!1,width:"1000px",title:"\u6B63\u5728\u521B\u5EFA\u8BA1\u5212","esc-to-close":!1,onCancel:l[46]||(l[46]=t=>ce(!0)),onOk:l[47]||(l[47]=t=>ce(!0))},{default:e(()=>[u(j,{gutter:24},{default:e(()=>[u(T,{span:16},{default:e(()=>[s("div",bo,[u(Ua,{selectedKeys:$.value,"onUpdate:selectedKeys":l[44]||(l[44]=t=>$.value=t),"row-key":"plantCode",pagination:se.value,hoverable:!0,stripe:!1,loading:au.value,data:N.value,bordered:!1,onPageChange:va,onRowClick:oa},{columns:e(()=>[u(xe,{title:"\u6295\u624B\u53F7",align:"center"},{cell:e(({record:t})=>[n(f(t.sphInfo.sphName),1)]),_:1}),u(xe,{title:"\u521B\u5EFA\u72B6\u6001",align:"center"},{cell:e(({record:t})=>[t.createStatus===3?(i(),v(V,{key:0,content:t.errorMsg},{default:e(()=>[s("span",null,[n(f(ne(Zu)[t.createStatus])+" ",1),u(Gu)])]),_:2},1032,["content"])):(i(),h("span",Ao,f(ne(Zu)[t.createStatus]),1))]),_:1}),u(xe,{title:"\u4F18\u60E0\u5238\u6298\u6263",align:"center"},{cell:e(({record:t})=>[n(f(t.voucherInfo?ma(t.voucherInfo.quota):"-"),1)]),_:1}),u(xe,{title:"\u9700\u652F\u4ED8",align:"center"},{cell:e(({record:t})=>[n(f(t.estimatedWecoinAmount),1)]),_:1}),u(xe,{title:"\u8BA2\u5355\u72B6\u6001",align:"center"},{cell:e(({record:t})=>[n(f(ne(dl)[t.plantStatus])+" ",1)]),_:1})]),_:1},8,["selectedKeys","pagination","loading","data"]),s("span",null,"\u5171"+f(I.value.total)+"\u6761 | \u6210\u529F"+f(I.value.success)+"\u6761 \u5931\u8D25"+f(I.value.error)+"\u6761\uFF5C\u5B8C\u6210\u652F\u4ED8"+f(I.value.overPay)+"\u6761 ",1)])]),_:1}),u(T,{span:8,style:{"text-align":"center"}},{default:e(()=>[Do,u(eu,{loading:q.value,tip:L.value},Ra({default:e(()=>[u(Q,{class:"general-card",style:{"padding-top":"20px"}},{default:e(()=>[u(E,{size:16,direction:"vertical",align:"center",fill:"",style:{"text-align":"center"}},{default:e(()=>[s("span",ko,f(x.value),1),_.value[B.value]?(i(),h("span",xo,f(_.value[B.value].plantName),1)):g("",!0),s("div",Oo,[_.value[B.value]?(i(),v(Ku,{key:0,value:_.value[B.value].qrCodeVal,size:220,level:"H",style:{position:"relative"}},null,8,["value"])):g("",!0),x.value==="\u5F53\u524D\u8BA2\u5355\u5DF2\u652F\u4ED8\u5B8C\u6210"||x.value==="\u8BA1\u5212\u521B\u5EFA\u5931\u8D25\uFF0C\u65E0\u6CD5\u652F\u4ED8"?(i(),h("div",Po,[x.value==="\u5F53\u524D\u8BA2\u5355\u5DF2\u652F\u4ED8\u5B8C\u6210"?(i(),v(ke,{key:0,color:"arcoblue",style:{transform:"scale(1.5)"}},{default:e(()=>[n("\u5DF2\u652F\u4ED8")]),_:1})):g("",!0),x.value==="\u8BA1\u5212\u521B\u5EFA\u5931\u8D25\uFF0C\u65E0\u6CD5\u652F\u4ED8"?(i(),v(ke,{key:1,color:"gray",style:{transform:"scale(1.3)"}},{default:e(()=>[n("\u521B\u5EFA\u5931\u8D25\uFF0C\u8BF7\u52FF\u652F\u4ED8")]),_:1})):g("",!0)])):g("",!0)]),u(ke,{color:"green"},{default:e(()=>[n("\u8BF7\u7528\u5FAE\u4FE1APP\u626B\u63CF\u4E8C\u7EF4\u7801")]),_:1}),u(E,null,{default:e(()=>[u(Qe,{onClick:ea},{default:e(()=>[n("\u8DF3\u8FC7\u8BE5\u8BA1\u5212")]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},[L.value==="\u5F53\u524D\u8BA2\u5355\u5DF2\u5168\u90E8\u652F\u4ED8\u5B8C\u6210"||L.value==="\u5F53\u524D\u8BA2\u5355\u652F\u4ED8\u5B8C\u6210\uFF0C\u8BF7\u52FF\u91CD\u590D\u64CD\u4F5C"?{name:"element",fn:e(()=>[u(za,{spin:!1,rotate:0,size:20})]),key:"0"}:void 0]),1032,["loading","tip"]),s("div",wo,[n("\u79FB\u52A8\u5230 "),u(Gu),n(" \u6309\u94AE\uFF0C\u53EF\u67E5\u770B\u8BA1\u5212\u521B\u5EFA\u5931\u8D25\u539F\u56E0")])]),_:1})]),_:1})]),_:1},8,["visible"])])}}});const Jo=$a(Vo,[["__scopeId","data-v-1ebb851c"]]);export{Jo as default};
