import{d as me,ak as _e,r as l,a8 as r,f as ve,v as fe,i as ye,a2 as he,j as h,o as i,a as d,n as u,m as o,B as F,s as g,q as B,e as a,F as D,k as E,u as S,t as p,p as ge,b as De,aB as Ee,N as ke,l as q,ad as V,ae as j,_ as xe}from"./index.f3be9d6e.js";import{u as Fe}from"./loading.b87f2d78.js";import{u as Be}from"./themes.c7bcc487.js";import{m as Ye,c as be}from"./merchantApi.5ee4e6ba.js";const I=v=>isNaN(v)||Number(v)===0||v===1/0?0:Number(v).toFixed(2),Y=v=>(ge("data-v-c73c87cc"),v=v(),De(),v),Ce={class:"container"},Ae={key:0,src:"https://img.adyinqing.com/upai_shop/x3pg1vne1690430298724",alt:"",class:"icon"},we={key:1,class:"tipsText"},Me={key:0,src:"https://img.adyinqing.com/upai_shop/x3pg1vne1690430298724",alt:"",class:"icon"},He={key:1,class:"tipsText"},Se={class:"upai_outsideBox"},qe=Y(()=>a("div",{class:"title"},"\u7ECF\u8425\u6570\u636E ",-1)),Te={class:"flexBox"},Oe={style:{"margin-right":"10px"},class:"dnm"},Le={class:"datePickBox"},Ne=["onClick"],Pe={class:"upai_grid"},Ve={class:"infoBox"},je={class:"infoTitle"},Ie={class:"num"},ze={key:0,class:"rmb"},Ge={key:1,class:"rmb"},$e={class:"n2"},Re={class:"upai_outsideBox",style:{height:"240px"}},Ue=Y(()=>a("div",{class:"title"},"\u8BA2\u5355\u6765\u6E90 ",-1)),Je={class:"orderComeTypeBox"},Ke=["onClick"],Qe={class:"infoBox"},We={class:"infoTitle"},Xe={class:"num"},Ze={class:"rmb"},et={class:"upai_outsideBox",style:{height:"240px"}},tt=Y(()=>a("div",{class:"title"},"\u5F85\u5904\u7406 ",-1)),at={class:"infoBox",style:{"padding-top":"15px"}},st={class:"infoTitle"},ut={class:"num"},ot={class:"upai_outsideBox",style:{height:"240px"}},nt=Y(()=>a("div",{class:"title"},"\u5546\u54C1\u6982\u51B5 ",-1)),lt={class:"infoBox",style:{"padding-top":"15px"}},it={class:"infoTitle"},ct={class:"num"},dt=me({__name:"data-overview",setup(v){_e(e=>({b8a64a08:J.value,"0371a6c5":U.value}));const f=l(0),b=l(0),C=l(!1),T=l(!1),A=l(!1),w=l(!1),z=e=>{b.value=e},G=()=>{Q.push({name:"merchantList"})},$=l([{label:"\u9500\u552E\u4E2D",n:0,key:"sellingCount"},{label:"\u5F85\u4E0A\u67B6",n:0,key:"preShowCount"},{label:"\u5BA1\u6838\u4E2D",n:0,key:"reviewingCount"}]),M=l([{label:"\u5E7F\u544A\u6765\u6E90",data:[{t:"\u6210\u4EA4\u91D1\u989D",key:"advertisingFlowPrice",n:0,n2:0},{t:"\u6210\u4EA4\u8BA2\u5355\u6570",key:"advertisingFlowCount",n:0,n2:0}]},{label:"\u81EA\u7136\u6D41\u91CF",data:[{t:"\u6210\u4EA4\u91D1\u989D",key:"naturalFlowPrice",n:0,n2:0},{t:"\u6210\u4EA4\u8BA2\u5355\u6570",key:"naturalFlowCount",n:0,n2:0}]}]),O=l([]),R=async e=>{const{data:t}=await Ye(e);t.grid?(t.grid.unshift({mid:void 0,nickname:"\u5168\u90E8"}),O.value=t.grid,m.value.mid=t.grid[0].mid):(console.log("error"),m.value.mid=void 0,C.value=!0,setTimeout(()=>{A.value=!0},320))},L=l([{label:"\u5F85\u4ED8\u6B3E",n:0,key:"prePayCount"},{label:"\u5F85\u53D1\u8D27",n:0,key:"preSendCount"},{label:"\u552E\u540E",n:0,key:"preAfterSales"}]),H=[{label:"\u5F53\u65E5",value:[r().startOf("day").format("YYYY-MM-DD  HH:mm:ss"),r().endOf("date").format("YYYY-MM-DD  HH:mm:ss")]},{label:"\u6628\u65E5",value:[r().add(-1,"day").startOf("day").format("YYYY-MM-DD  HH:mm:ss"),r().add(-1,"day").endOf("date").format("YYYY-MM-DD  HH:mm:ss")]},{label:"\u8FD1\u4E00\u5468",value:[r().add(-1,"week").startOf("day").format("YYYY-MM-DD  HH:mm:ss"),r().add(-1,"day").endOf("date").format("YYYY-MM-DD  HH:mm:ss")]},{label:"\u8FD1\u4E00\u6708",value:[r().add(-1,"month").startOf("day").format("YYYY-MM-DD  HH:mm:ss"),r().add(-1,"day").endOf("date").format("YYYY-MM-DD  HH:mm:ss")]},{label:"\u672C\u6708",value:[r().startOf("month").startOf("day").format("YYYY-MM-DD  HH:mm:ss"),r().endOf("date").format("YYYY-MM-DD  HH:mm:ss")]}];l(0),l(0);const U=l("#ff330026"),J=l("#ff3300"),K=["#FFF4F3","#EFFAFF","#EFF7FF","#F7F3FF","#F4F4F4"];l([{title:"\u8D26\u6237\u6570\u636E",numList:[{t:"\u5728\u7EBF\u6295\u653E\u53F7",key:"onlineAccount",url:"https://img.adyinqing.com/upai_shop/sqolvvco1676629138552",n:0,color:""},{t:"\u5728\u7EBF\u88AB\u6295\u53F7",url:"https://img.adyinqing.com/upai_shop/9vefp7lc1676629138525",n:0,key:"onlineAccountBack"},{t:"\u5373\u5C06\u6389\u7EBF",url:"https://img.adyinqing.com/upai_shop/sqolvvco1676629138552",n:0,key:"onlineAccountLeave"},{t:"\u5DF2\u79BB\u7EBF",url:"https://img.adyinqing.com/upai_shop/9vefp7lc1676629138525",n:0,key:"onlineAccountLeaveEd"},{t:"\u603B\u4F59\u989D",key:"accountBalance",url:"https://img.adyinqing.com/upai_shop/sqolvvco1676629138552",n:0},{t:"\u52A0\u70ED\u4E2D\u8BA1\u5212\u6570",url:"https://img.adyinqing.com/upai_shop/9vefp7lc1676629138525",n:0,key:"hotPlant"},{t:"\u52A0\u70ED\u4E2D\u89C6\u9891\u6570",url:"https://img.adyinqing.com/upai_shop/sqolvvco1676629138552",n:0,key:"hotVideo"},{t:"\u52A0\u70ED\u4E2D\u5546\u54C1\u6570",url:"https://img.adyinqing.com/upai_shop/9vefp7lc1676629138525",key:"hotGoods",n:0}]}]);const m=l((()=>({startDate:r().startOf("date").format("YYYY-MM-DD HH:mm:ss").toString(),endDate:r().endOf("date").format("YYYY-MM-DD HH:mm:ss").toString(),mid:void 0}))()),Q=ve();fe.exports.useI18n();const{loading:W,setLoading:N}=Fe(!0);Be();const P=l([{title:"\u6210\u4EA4\u91D1\u989D",num:0,num2:0,type:!0,key:"dealPrice",key2:"productPlaceorderGmvHb",url:"https://img.adyinqing.com/upai_shop/5dea827e1676628633698"},{title:"\u6210\u4EA4\u8BA2\u5355\u6570",num:0,num2:0,type:!1,key:"dealCount",key2:"productOrderCountHb",url:"https://img.adyinqing.com/upai_shop/9phewe3x1676628682838"},{title:"\u4E0B\u5355\u91D1\u989D",num:0,num2:0,type:!0,key:"orderPrice",key2:"costHb",url:"https://img.adyinqing.com/upai_shop/39ttxfcp1676628721182"},{title:"\u4E0B\u5355\u8BA2\u5355\u6570",num:0,num2:0,type:!1,key:"orderCount",key2:"roiHb",url:"https://img.adyinqing.com/upai_shop/ocdlgyo91676628747667"},{title:"\u652F\u4ED8\u8F6C\u5316\u7387",num:0,num2:0,type:!0,key:"transformRate",key2:"yj_roiHb",url:"https://img.adyinqing.com/upai_shop/ocdlgyo91676628747667"}]),k=l([]),X=(e,t)=>{k.value=t},Z=e=>{const t=k.value;if(t&&t.length){const s=t[0]&&Math.abs((new Date(e)-t[0])/864e5)>30;return t[1]&&Math.abs((new Date(e)-t[1])/(24*60*60*1e3))>30||s}return!1},x=async()=>{N(!0);try{console.log(1);const{data:e}=await be(m.value);console.log(2,e),P.value.forEach(t=>{t.key==="orderCount"||t.key==="dealCount"?t.num=e.storeList[t.key]:t.num=I(e.storeList[t.key]),e.yesterday&&(t.key==="orderCount"||t.key==="dealCount"?t.num2=e.yesterday[t.key]:t.num2=I(e.yesterday[t.key]))}),L.value.forEach(t=>{t.n=e.storeList[t.key]}),Ee(()=>{M.value.forEach(t=>{t.data.forEach(s=>{s.n=Number(e.storeList[s.key]),Number(e.storeList[s.key])<0&&(s.key==="naturalFlowPrice"||s.key==="naturalFlowCount")&&(s.n="\u5F02\u5E38"),e.yesterday&&(s.n2=Number(e.yesterday[s.key])?Number(e.yesterday[s.key]):0)})})})}catch{}finally{N(!1)}},ee=()=>{T.value=!0,setTimeout(()=>{w.value=!0},320)},te=ye({...{current:1,pageIndex:1,pageSize:10}}),ae=async()=>{await R({...te}),await x(),await ee()},se=()=>{x()};he(()=>{ae()}),l();const y=l(!1),ue=e=>{console.log(e),e||(k.value=[])},oe=e=>{e===f.value?(f.value=-1,m.value.startDate=r().format("YYYY-MM-DD"),m.value.endDate=r().format("YYYY-MM-DD"),y.value&&(y.value=!1,k.value=[]),x()):e===5?(f.value=e,y.value=!0):(f.value=e,y.value&&(y.value=!1,k.value=[]),m.value.startDate=H[e].value[0].toString(),m.value.endDate=H[e].value[1].toString(),x())},ne=e=>{m.value.startDate=e[0].toString(),m.value.endDate=e[1].toString(),y.value&&(y.value=!1),f.value=-10,x()};return(e,t)=>{const s=h("a-col"),_=h("a-row"),le=h("t-select"),ie=h("a-button"),ce=h("a-range-picker"),de=h("a-space"),re=h("a-spin");return i(),d("div",Ce,[u(_,{align:"center"},{default:o(()=>[u(s,null,{default:o(()=>[C.value?(i(),d("div",{key:0,class:F(["topTipsBar",C.value?"tipsShow":""])},[A.value?(i(),d("img",Ae)):g("",!0),A.value?(i(),d("div",we,[B("\u60A8\u6682\u672A\u7ED1\u5B9A\u5E97\u94FA\uFF0C\u8BF7 "),a("span",{class:"link",onClick:G},"\u524D\u5F80\u7ED1\u5B9A")])):g("",!0)],2)):(i(),d("div",{key:1,class:F(["topTipsBar",T.value?"tipsShow":""])},[w.value?(i(),d("img",Me)):g("",!0),w.value?(i(),d("div",He," \u5EFA\u8BAE\u7ED1\u5B9A\u8FD0\u8425\u4E2D\u7684\u5E97\u94FA\uFF0C\u4FDD\u8BC1\u6570\u636E\u7684\u51C6\u786E\u6027\u3002 ")):g("",!0)],2))]),_:1})]),_:1}),u(re,{loading:S(W),style:{width:"100%"}},{default:o(()=>[u(de,{direction:"vertical",fill:"",size:"medium"},{default:o(()=>[u(_,null,{default:o(()=>[a("div",Se,[u(_,{align:"center",justify:"space-between"},{default:o(()=>[u(s,{flex:"293px"},{default:o(()=>[qe]),_:1}),u(s,{flex:"589px"},{default:o(()=>[a("div",Te,[a("div",Oe,[u(le,{modelValue:m.value.mid,"onUpdate:modelValue":t[0]||(t[0]=n=>m.value.mid=n),placeholder:"\u9009\u62E9\u5E97\u94FA",style:{},class:"custom-select",options:O.value,keys:{value:"mid",label:"nickname"},onChange:t[1]||(t[1]=n=>se())},null,8,["modelValue","options"])]),a("div",Le,[(i(),d(D,null,E(H,(n,c)=>a("div",{key:c,class:F(["btn",{active:f.value===c}]),onClick:pe=>oe(c)},p(n.label),11,Ne)),64)),u(ce,{"default-value":[S(r)(),S(r)()],"shortcuts-position":"left",style:{width:"560px"},"disabled-date":Z,onSelect:X,onPopupVisibleChange:ue,onChange:ne},{default:o(()=>[u(ie,{class:F(["btn zdy",{active:f.value===-10}])},{default:o(()=>[B(p("\u81EA\u5B9A\u4E49"))]),_:1},8,["class"])]),_:1},8,["default-value"])])])]),_:1})]),_:1}),a("div",Pe,[(i(!0),d(D,null,E(P.value,(n,c)=>(i(),d("div",{key:c},[a("div",{class:"upai_card_m",style:ke({backgroundColor:K[c]})},[a("div",Ve,[a("div",je,p(n.title),1),a("div",Ie,[n.type&&c!==4?(i(),d("span",ze,"\xA5")):g("",!0),B(p(n.num),1),n.type&&c===4?(i(),d("span",Ge,"%")):g("",!0)]),a("div",$e," \u6628\u65E5"+p(f.value>=2?"- -":n.num2),1)])],4)]))),128))])])]),_:1}),u(_,{gutter:[20,20]},{default:o(()=>[u(s,{flex:"50%"},{default:o(()=>[a("div",Re,[u(_,{align:"center",justify:"space-between",style:{"margin-bottom":"24px"}},{default:o(()=>[u(s,{flex:"293px"},{default:o(()=>[Ue]),_:1}),u(s,{flex:"209px"},{default:o(()=>[a("div",Je,[(i(!0),d(D,null,E(M.value,(n,c)=>(i(),d("div",{key:c,class:F(["comeBtn",{comeBtnActive:c==b.value}]),onClick:pe=>z(c)},p(n.label),11,Ke))),128))])]),_:1})]),_:1}),u(_,null,{default:o(()=>[(i(!0),d(D,null,E(M.value[b.value].data,(n,c)=>(i(),q(s,{key:c,flex:"50%",class:"dataBox"},{default:o(()=>[a("div",Qe,[a("div",We,p(n.t),1),a("div",Xe,[V(a("span",Ze,"\xA5",512),[[j,c===0&&n.n!="\u5F02\u5E38"]]),B(p(n.n),1)]),V(a("div",{class:"n2"}," \u6628\u65E5"+p(n.n2),513),[[j,f.value<2]])])]),_:2},1024))),128))]),_:1})])]),_:1}),u(s,{flex:"50%"},{default:o(()=>[a("div",et,[u(_,{align:"center",justify:"space-between",style:{"margin-bottom":"24px"}},{default:o(()=>[u(s,{flex:"293px"},{default:o(()=>[tt]),_:1}),u(s,{flex:"589px"})]),_:1}),u(_,null,{default:o(()=>[(i(!0),d(D,null,E(L.value,(n,c)=>(i(),q(s,{key:c,span:8,class:"dataBox"},{default:o(()=>[a("div",at,[a("div",st,p(n.label),1),a("div",ut,p(n.n),1)])]),_:2},1024))),128))]),_:1})])]),_:1}),u(s,{flex:"50%"},{default:o(()=>[a("div",ot,[u(_,{align:"center",justify:"space-between",style:{"margin-bottom":"24px"}},{default:o(()=>[u(s,{flex:"293px"},{default:o(()=>[nt]),_:1}),u(s,{flex:"589px"})]),_:1}),u(_,null,{default:o(()=>[(i(!0),d(D,null,E($.value,(n,c)=>(i(),q(s,{key:c,span:8,class:"dataBox"},{default:o(()=>[a("div",lt,[a("div",it,p(n.label),1),a("div",ct,p(n.n),1)])]),_:2},1024))),128))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["loading"])])}}});const yt=xe(dt,[["__scopeId","data-v-c73c87cc"]]);export{yt as default};
