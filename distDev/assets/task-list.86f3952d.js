import{d as te,i as le,r as v,w as _e,f as ne,j as t,o as y,a as I,e as m,n as e,m as a,F as G,k as J,u as p,q as _,t as h,a8 as c,l as K,_ as oe,s as fe,p as me,b as ge}from"./index.f3be9d6e.js";import{u as ue}from"./loading.b87f2d78.js";import{m as ve,n as be}from"./sph-aide.7e18d878.js";import{e as Q,D as Z,E as ee,k as ae,F as he,G as xe}from"./enum.5f967a9b.js";const ye={class:"container-task-info"},Ye={class:"upai_content"},Be={class:"proCode",style:{display:"flex","align-items":"center"}},De={class:"proCode",style:{display:"flex","align-items":"center"}},ke={class:"pagination"},Fe=te({__name:"task-info-list",props:{id:{type:Number,default:0}},setup(k,{expose:$}){const M=k,{loading:L,setLoading:w}=ue(!0),x={current:1,pageIndex:1,pageSize:10},d=le({...x}),f=v(M.id),s=v((()=>({startDate:c().add(-1,"month").format("YYYY-MM-DD").toString(),endDate:c().format("YYYY-MM-DD").toString(),pageIndex:1,pageSize:10,taskStatus:-1,taskAideId:f.value}))()),E=v([]);v(0),_e(()=>M.id,(r,i)=>{s.value.taskAideId=r,A()});const Y=async r=>{w(!0);try{const{data:i}=await ve(r);E.value=i.grid,d.current=r.pageIndex,d.pageIndex=r.pageIndex,d.total=i.total}catch{}finally{w(!1)}},B=r=>{x.pageIndex=r,x.current=r,d.pageIndex=r,d.current=r,Y({...s.value,...x})},O=r=>{x.pageSize=r,d.pageSize=r,Y({...s.value,...x})},A=()=>{B(1)};return ne(),v([]),M.id>0&&Y({...s.value}),$({fetchData:Y}),(r,i)=>{const N=t("a-option"),F=t("a-select"),z=t("a-form-item"),o=t("a-col"),u=t("a-button"),H=t("a-space"),S=t("a-row"),P=t("a-form"),C=t("a-card"),g=t("a-table-column"),j=t("a-image"),D=t("a-typography-paragraph"),U=t("a-tag"),R=t("a-table"),V=t("a-pagination");return y(),I("div",ye,[m("div",Ye,[e(S,null,{default:a(()=>[e(C,{class:"general-card-upai",style:{width:"100%"}},{default:a(()=>[e(S,null,{default:a(()=>[e(o,{flex:1},{default:a(()=>[e(P,{model:s.value,"auto-label-width":"","label-align":"left"},{default:a(()=>[e(S,{gutter:16},{default:a(()=>[e(o,{span:8},{default:a(()=>[e(z,{field:"status",label:"\u4E0A\u4F20\u72B6\u6001"},{default:a(()=>[e(F,{modelValue:s.value.status,"onUpdate:modelValue":i[0]||(i[0]=l=>s.value.status=l),"allow-clear":"",placeholder:"\u8BF7\u9009\u62E9\u4E0A\u4F20\u72B6\u6001"},{default:a(()=>[(y(!0),I(G,null,J(p(Q)(p(Z)),(l,T)=>(y(),K(N,{key:T,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(o,{span:8},{default:a(()=>[e(z,{field:"auditStatus",label:"\u5BA1\u6838\u72B6\u6001"},{default:a(()=>[e(F,{modelValue:s.value.auditStatus,"onUpdate:modelValue":i[1]||(i[1]=l=>s.value.auditStatus=l),"allow-clear":"",placeholder:"\u8BF7\u9009\u62E9\u5BA1\u6838\u72B6\u6001"},{default:a(()=>[(y(!0),I(G,null,J(p(Q)(p(ee)),(l,T)=>(y(),K(N,{key:T,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(o,{span:8},{default:a(()=>[e(z,{field:"number","hide-label":!0},{default:a(()=>[e(H,{size:18},{default:a(()=>[e(u,{type:"primary",class:"searchBtn",onClick:A},{default:a(()=>[_(" \u7B5B\u9009 ")]),_:1}),e(u,{type:"outline",class:"refreshBtn",onClick:i[2]||(i[2]=l=>A())},{default:a(()=>[_(" \u5237\u65B0 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})]),_:1}),e(C,{class:"general-card-upai",style:{width:"100%","padding-bottom":"28px"}},{default:a(()=>[e(S,null,{default:a(()=>[e(o,{flex:"1"},{default:a(()=>[e(R,{"row-key":"id",pagination:!1,hoverable:!0,loading:p(L),stripe:!1,data:E.value,bordered:!1},{columns:a(()=>[e(g,{title:"\u89C6\u9891\u7F16\u53F7","data-index":"taskVideoNonce",align:"center"}),e(g,{title:"\u53D1\u5E03\u89C6\u9891",align:"left",width:"350"},{cell:a(({record:l})=>[e(H,null,{default:a(()=>[e(j,{src:l.coverUrl||"http://lf1-xgcdn-tos.pstatp.com/obj/vcloud/vadmin/start.8e0e4855ee346a46ccff8ff3e24db27b.png",width:"80px",height:"100px",style:{width:"80px",height:"100px"}},null,8,["src"]),e(H,{direction:"vertical",fill:""},{default:a(()=>[e(D,{ellipsis:{rows:1,expandable:!0}},{default:a(()=>[_(h(l.description||"-"),1)]),_:2},1024),m("div",Be,[e(D,{copyable:"",style:{"margin-bottom":"0"}},{default:a(()=>[_(h(l.videoNickName||"-"),1)]),_:2},1024)]),m("div",De,[e(D,{style:{"margin-bottom":"0"}},{default:a(()=>[_(h(l.createdAt||"-"),1)]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:1}),e(g,{title:"\u4E0A\u4F20\u72B6\u6001","data-index":"taskStatus",align:"center"},{cell:a(({record:l})=>[e(U,{color:"arcoblue"},{default:a(()=>[_(h(p(Z)[l.status]),1)]),_:2},1024)]),_:1}),e(g,{title:"\u5BA1\u6838\u72B6\u6001","data-index":"taskStatus",align:"center"},{cell:a(({record:l})=>[e(U,{color:"arcoblue"},{default:a(()=>[_(h(p(ee)[l.auditStatus]),1)]),_:2},1024)]),_:1}),e(g,{title:"\u9519\u8BEF\u539F\u56E0","data-index":"errorMsg",align:"center"})]),_:1},8,["loading","data"]),m("div",ke,[m("div",null,[e(V,{current:d.pageIndex,"onUpdate:current":i[3]||(i[3]=l=>d.pageIndex=l),"page-size":d.pageSize,"onUpdate:pageSize":i[4]||(i[4]=l=>d.pageSize=l),total:d.total,"show-total":!0,"show-page-size":!0,"page-size-options":[10,20,50,100,200],onChange:B,onPageSizeChange:O},null,8,["current","page-size","total"])])])]),_:1})]),_:1})]),_:1})])])}}});const Se=oe(Fe,[["__scopeId","data-v-fcd6babf"]]),se=k=>(me("data-v-abe67fbf"),k=k(),ge(),k),Ce={class:"container"},Ie={class:"upai_content"},Me=se(()=>m("div",{class:"pageTitle"}," \u4EFB\u52A1\u8BB0\u5F55 ",-1)),we=se(()=>m("div",{class:"labelText"},"\u521B\u5EFA\u65F6\u95F4\uFF1A",-1)),Ee=["src"],Ae={key:0},ze={class:"pagination"},He=te({__name:"task-list",setup(k,{expose:$}){const M=[{label:"\u5F53\u65E5",value:()=>[c().startOf("date").format("YYYY-MM-DD HH:mm:ss"),c().endOf("date").format("YYYY-MM-DD HH:mm:ss")]},{label:"\u6628\u65E5",value:()=>[c().add(-1,"day").startOf("date").format("YYYY-MM-DD HH:mm:ss"),c().add(-1,"day").endOf("date").format("YYYY-MM-DD HH:mm:ss")]},{label:"\u8FD1\u4E00\u5468",value:()=>[c().add(-1,"week").startOf("date").format("YYYY-MM-DD HH:mm:ss"),c().add(-1,"day").endOf("date").format("YYYY-MM-DD HH:mm:ss")]},{label:"\u8FD1\u4E00\u6708",value:()=>[c().add(-1,"month").startOf("date").format("YYYY-MM-DD HH:mm:ss"),c().add(-1,"day").endOf("date").format("YYYY-MM-DD HH:mm:ss")]},{label:"\u672C\u6708",value:()=>[c().startOf("month").startOf("date").format("YYYY-MM-DD HH:mm:ss"),c().endOf("date").format("YYYY-MM-DD HH:mm:ss")]}],{loading:L,setLoading:w}=ue(!0),x=v(0),d={current:1,pageIndex:1,pageSize:10},f=le({...d}),q=()=>({startDate:c().add(-1,"month").format("YYYY-MM-DD").toString(),endDate:c().format("YYYY-MM-DD").toString(),pageIndex:1,pageSize:10,taskStatus:-1}),s=v(q()),E=v([]);v(0);const Y=v(!1),B=async o=>{w(!0);try{const{data:u}=await be(o);E.value=u.grid,f.current=o.pageIndex,f.pageIndex=o.pageIndex,f.total=u.total}catch{}finally{w(!1)}},O=o=>{d.pageIndex=o,d.current=o,f.pageIndex=o,f.current=o,B({...s.value,...d})},A=o=>{d.pageSize=o,f.pageSize=o,B({...s.value,...d})},r=o=>{s.value.startDate=o[0],s.value.endDate=o[1]},i=()=>{O(1)};ne();const N=o=>{x.value=o.taskAideId,console.log(o.taskAideId),Y.value=!0},F=v([]),z=()=>{s.value=q(),F.value=[]};return B({...s.value}),$({fetchData:B}),(o,u)=>{const H=t("Breadcrumb"),S=t("a-option"),P=t("a-select"),C=t("a-form-item"),g=t("a-col"),j=t("a-range-picker"),D=t("a-button"),U=t("a-link"),R=t("a-typography-text"),V=t("a-space"),l=t("a-row"),T=t("a-form"),W=t("a-card"),de=t("a-avatar"),b=t("a-table-column"),ie=t("a-tag"),re=t("a-table"),ce=t("a-pagination"),pe=t("a-modal");return y(),I("div",Ce,[m("div",Ie,[e(H,{items:["\u89C6\u9891\u7BA1\u7406","\u4EFB\u52A1\u8BB0\u5F55"]}),Me,e(l,null,{default:a(()=>[e(W,{class:"general-card-upai",style:{width:"100%"}},{default:a(()=>[e(l,null,{default:a(()=>[e(g,{flex:1},{default:a(()=>[e(T,{model:s.value,"auto-label-width":"","label-align":"left"},{default:a(()=>[e(l,{gutter:16},{default:a(()=>[e(g,{span:8},{default:a(()=>[e(C,{field:"taskStatus",label:"\u4EFB\u52A1\u72B6\u6001"},{default:a(()=>[e(P,{modelValue:s.value.taskStatus,"onUpdate:modelValue":u[0]||(u[0]=n=>s.value.taskStatus=n),"allow-clear":"",placeholder:"\u8BF7\u9009\u62E9\u89C6\u9891\u53F7\u7C7B\u578B"},{default:a(()=>[(y(!0),I(G,null,J(p(Q)(p(ae)),(n,X)=>(y(),K(S,{key:X,label:n.label,value:n.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(g,{span:8},{default:a(()=>[e(C,{field:"createdTime"},{label:a(()=>[we]),default:a(()=>[e(j,{modelValue:F.value,"onUpdate:modelValue":u[1]||(u[1]=n=>F.value=n),"show-time":"","default-value":[],style:{width:"100%"},shortcuts:M,"shortcuts-position":"left",onChange:r},null,8,["modelValue"])]),_:1})]),_:1}),e(g,{span:8},{default:a(()=>[e(C,{field:"number","hide-label":!0},{default:a(()=>[e(V,{size:18},{default:a(()=>[e(D,{type:"primary",class:"searchBtn",onClick:i},{default:a(()=>[_(" \u7B5B\u9009 ")]),_:1}),e(D,{type:"outline",class:"refreshBtn",onClick:u[2]||(u[2]=n=>i())},{default:a(()=>[_(" \u5237\u65B0 ")]),_:1}),e(R,{type:"primary"},{default:a(()=>[e(U,{href:"javascript:void(0)",onClick:u[3]||(u[3]=n=>z())},{default:a(()=>[_("\u91CD\u7F6E\u7B5B\u9009\u6761\u4EF6")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})]),_:1}),e(W,{class:"general-card-upai",style:{width:"100%","padding-bottom":"28px"}},{default:a(()=>[e(l,null,{default:a(()=>[e(g,{flex:"1"},{default:a(()=>[e(re,{"row-key":"id",pagination:!1,hoverable:!0,loading:p(L),stripe:!1,data:E.value,bordered:!1},{columns:a(()=>[e(b,{title:"\u53D1\u5E03\u53F7"},{cell:a(({record:n})=>[e(V,null,{default:a(()=>[e(de,null,{default:a(()=>[m("img",{alt:"avatar",src:n.sphAideInfo.sphAvatar},null,8,Ee)]),_:2},1024),_(" "+h(n.sphAideInfo.sphName),1)]),_:2},1024)]),_:1}),e(b,{title:"\u4EFB\u52A1\u72B6\u6001","data-index":"taskStatus",align:"center"},{cell:a(({record:n})=>[e(ie,{color:"arcoblue"},{default:a(()=>[_(h(p(ae)[n.taskStatus]),1)]),_:2},1024)]),_:1}),e(b,{title:"\u63CF\u8FF0\u7C7B\u578B","data-index":"videoDescriptionType",align:"center"},{cell:a(({record:n})=>[_(h(p(he)[n.videoDescriptionType]),1)]),_:1}),e(b,{title:"\u53D1\u5E03\u7C7B\u578B","data-index":"publishType",align:"center"},{cell:a(({record:n})=>[e(V,{direction:"vertical"},{default:a(()=>[m("span",null,h(p(xe)[n.publishType]),1),n.publishType===2?(y(),I("span",Ae,h(p(c).unix(n.publishTimer).format("YYYY-MM-DD HH:mm:ss")),1)):fe("",!0)]),_:2},1024)]),_:1}),e(b,{title:"\u6302\u8F66\u5546\u54C1ID","data-index":"productCode",align:"center"}),e(b,{title:"\u521B\u5EFA\u6570\u91CF","data-index":"createNum",align:"center"}),e(b,{title:"\u521B\u5EFA\u6210\u529F","data-index":"orderSuccess",align:"center"}),e(b,{title:"\u521B\u5EFA\u5931\u8D25","data-index":"orderError",align:"center"}),e(b,{title:"\u66F4\u65B0\u65F6\u95F4","data-index":"updatedAt",align:"center"}),e(b,{align:"center",fixed:"right",title:"\u64CD\u4F5C","data-index":"operations"},{cell:a(({record:n})=>[e(D,{type:"text",size:"small",onClick:X=>N(n)},{default:a(()=>[_(" \u7D20\u6750\u8BE6\u60C5 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["loading","data"]),m("div",ze,[m("div",null,[e(ce,{current:f.pageIndex,"onUpdate:current":u[4]||(u[4]=n=>f.pageIndex=n),"page-size":f.pageSize,"onUpdate:pageSize":u[5]||(u[5]=n=>f.pageSize=n),total:f.total,"show-total":!0,"show-page-size":!0,"page-size-options":[10,20,50,100,200],onChange:O,onPageSizeChange:A},null,8,["current","page-size","total"])])])]),_:1})]),_:1})]),_:1})]),e(pe,{visible:Y.value,"onUpdate:visible":u[6]||(u[6]=n=>Y.value=n),width:"1300px","body-style":{padding:0},title:"\u7D20\u6750\u4E0A\u4F20\u8BB0\u5F55",style:{padding:"0"},footer:!1},{default:a(()=>[e(Se,{id:x.value},null,8,["id"])]),_:1},8,["visible"])])}}});const Ue=oe(He,[["__scopeId","data-v-abe67fbf"]]);export{Ue as default};
