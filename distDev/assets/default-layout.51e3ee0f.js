import{f as ee,g as te,M as Me,C as Te,D as Re,E as ve,G as Q,c as D,d as G,v as ye,r as F,H as se,I as be,n as t,j as u,J as qe,K,L as ge,q as P,_ as J,o as v,l as w,m as o,a as U,F as oe,k as re,N as ae,e as a,t as q,s as z,i as Ne,O as ze,u as B,P as Z,Q as Pe,R as Ue,S as Ve,T as je,U as Oe,B as de,V as Ke,p as ne,b as ue,W as pe,X as We,Y as He,Z as Ge,w as ke,$ as Je,a0 as Xe,a1 as Qe,a2 as xe,a3 as Ye,a4 as Ze,a5 as he,a6 as et,a7 as tt,a8 as ce,a9 as at,aa as st,ab as me,ac as ot,ad as nt,ae as ut}from"./index.f3be9d6e.js";import{r as it,o as ct}from"./index.7f4d565d.js";import{u as lt}from"./loading.b87f2d78.js";import{_ as rt}from"./lodash.5369d405.js";import{F as dt}from"./index.0570e962.js";import{a as pt,r as _t}from"./event.471a062e.js";function ft(){const n=ee(),i=te();return{logout:async d=>{await i.logout(),n.currentRoute.value,Me.success("\u767B\u51FA\u6210\u529F"),n.push({name:d&&typeof d=="string"?d:"login",query:{...n.currentRoute.value.query}})}}}const gt=[...Te,...Re],ht=gt.map(n=>{const{name:i,path:r,meta:d,redirect:h,children:p}=n;return{name:i,path:r,meta:d,redirect:h,children:p}}),mt=ht;function vt(){const n=ve(),i=Q(),r=D(()=>i.menuFromServer?i.appAsyncMenus:mt);return{menuTree:D(()=>{const h=JSON.parse(JSON.stringify(r.value));h.sort((l,C)=>(l.meta.order||0)-(C.meta.order||0));function p(l,C){return l?l.map(c=>{var I,L;if(!n.accessRouter(c))return null;if(((I=c.meta)==null?void 0:I.hideChildrenInMenu)||!c.children)return c.children=[],c;c.children=c.children.filter(T=>{var s;return((s=T.meta)==null?void 0:s.hideInMenu)!==!0});const f=p(c.children,C+1);return f.length||C>1?(c.children=f,c):((L=c.meta)==null?void 0:L.hideInMenu)===!1?c:null}).filter(Boolean):null}return p(h,0)})}}function yt(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!qe(n)}const bt=G({emit:["collapse"],setup(){const{t:n}=ye.exports.useI18n();F(null);const i=Q(),r=te(),d=ee(),h=se(),{menuTree:p}=vt();console.log(r.$state,"userStore123123");const l=D({get(){return i.device==="desktop"?i.menuCollapse:!1},set(s){i.updateSettings({menuCollapse:s})}}),C=D(()=>i.topMenu),$=F([]),c=F([]),f=s=>{if(it.test(s.path)){ct(s.path),c.value=[s.name];return}const{hideInMenu:_,activeMenu:b}=s.meta;if(h.name===s.name&&!_&&!b){c.value=[s.name];return}console.log(s,"goto"),d.push({name:s.name})},I=s=>{const _=[];let b=!1;const e=(g,S)=>{var E;if(g.name===s){b=!0,_.push(...S);return}(E=g.children)!=null&&E.length&&g.children.forEach(R=>{e(R,[...S,R.name])})};return p.value.forEach(g=>{b||e(g,[g.name])}),_};be(s=>{const{requiresAuth:_,activeMenu:b,hideInMenu:e}=s.meta;if(_&&(!e||b)){const g=I(b||s.name),S=new Set([...g,...$.value]);$.value=[...S],c.value=[b||g[g.length-1]]}},!0);const L=s=>{i.device==="desktop"&&i.updateSettings({menuCollapse:s})},T=()=>{function s(_,b=[]){return _&&_.forEach(e=>{var S,E,R,y;const g=(S=e==null?void 0:e.meta)!=null&&S.icon?()=>{var k;return K(ge(`<${(k=e==null?void 0:e.meta)==null?void 0:k.icon}/>`))}:null;if((e==null?void 0:e.children)&&(e==null?void 0:e.children.length)===1){const k=((E=e==null?void 0:e.children[0].meta)==null?void 0:E.locale)==="\u5C0F\u5E97\u7BA1\u7406\u52A9\u624B"?t(u("a-menu-item"),{key:e==null?void 0:e.children[0].name,onClick:()=>f(e==null?void 0:e.children[0])},{default:()=>[t(u("a-space"),{size:"medium"},{default:()=>[t("img",{src:"https://img.adyinqing.com/upai_shop/afcxgr7l1688975468009",class:"icon"},null),t(u("a-space"),null,{default:()=>{var m;return[n(((m=e==null?void 0:e.children[0].meta)==null?void 0:m.locale)||""),t("span",{class:"tag"},[t("span",{class:"text"},[P("New")])])]}})]})]}):((R=e==null?void 0:e.children[0].meta)==null?void 0:R.locale)==="\u4F1A\u5458\u670D\u52A1"&&r.$state.userInfo.memberDepId==0||((y=e==null?void 0:e.children[0].meta)==null?void 0:y.locale)!="\u4F1A\u5458\u670D\u52A1"?t(u("a-menu-item"),{key:e==null?void 0:e.children[0].name,onClick:()=>f(e==null?void 0:e.children[0])},{default:()=>{var m;return[n(((m=e==null?void 0:e.children[0].meta)==null?void 0:m.locale)||"")]},icon:g}):"";b.push(k)}else{const k=(e==null?void 0:e.children)&&(e==null?void 0:e.children.length)!==0?t(u("a-sub-menu"),{key:e==null?void 0:e.name},{default:()=>[s(e==null?void 0:e.children)],icon:g,title:()=>{var m;return K(ge(n(((m=e==null?void 0:e.meta)==null?void 0:m.locale)||"")))}}):t(u("a-menu-item"),{key:e==null?void 0:e.name,onClick:()=>f(e)},{default:()=>{var m;return[n(((m=e==null?void 0:e.meta)==null?void 0:m.locale)||"")]},icon:g});b.push(k)}}),b}return s(p.value)};return()=>{let s;return t(u("a-menu"),{mode:C.value?"horizontal":"vertical",collapsed:l.value,"onUpdate:collapsed":_=>l.value=_,"open-keys":$.value,"onUpdate:open-keys":_=>$.value=_,"show-collapse-button":i.device!=="mobile","auto-open":!1,"selected-keys":c.value,"auto-open-selected":!0,"level-indent":34,style:"height: 100%;width:100%;",onCollapse:L,ref:"menuList"},yt(s=T())?s:{default:()=>[s]})}}});const le=J(bt,[["__scopeId","data-v-3d9904a3"]]),kt=["onClick"],xt={key:0},Ct=3,Dt=G({__name:"list",props:{renderList:{type:Array,required:!0},unreadCount:{type:Number,default:0},bottom:{type:Boolean}},emits:["itemClick","fetchData"],setup(n,{emit:i}){const r=i,d=p=>{p.status||r("itemClick",[p])},h=()=>{r("fetchData",[])};return(p,l)=>{const C=u("a-typography-text"),$=u("a-space"),c=u("a-typography-paragraph"),f=u("a-list-item-meta"),I=u("a-list-item"),L=u("a-spin"),T=u("a-list");return v(),w(T,{bordered:!1,scrollbar:!0,"max-height":520,onReachBottom:h},{"scroll-loading":o(()=>[n.bottom?(v(),U("div",xt,"\u6682\u65E0\u66F4\u591A\u6570\u636E")):(v(),w(L,{key:1}))]),default:o(()=>[(v(!0),U(oe,null,re(n.renderList,s=>(v(),w(I,{key:s.id,"action-layout":"vertical",style:ae({opacity:s.messageStatus?.5:1})},{default:o(()=>[a("div",{class:"item-wrap",onClick:_=>d(s)},[t(f,null,{title:o(()=>[t($,{size:4},{default:o(()=>[a("span",null,q(s.title),1),t(C,{type:"secondary"},{default:o(()=>[P(q(s.messageText),1)]),_:2},1024)]),_:2},1024)]),description:o(()=>[a("div",null,[t(c,{ellipsis:{rows:1}},{default:o(()=>[P(q(s.content||"-"),1)]),_:2},1024),t(C,{class:"time-text"},{default:o(()=>[P(q(s.createdAt),1)]),_:2},1024)])]),_:2},1024)],8,kt)]),_:2},1032,["style"]))),128)),n.renderList.length&&n.renderList.length<3?(v(),U("div",{key:0,style:ae({height:(Ct-n.renderList.length)*86+"px"})},null,4)):z("",!0)]),_:1})}}});const Ft=J(Dt,[["__scopeId","data-v-bf82f8f6"]]),wt=G({__name:"index",setup(n){const i=F(!1),{loading:r,setLoading:d}=lt(!0),h=F(0);ye.exports.useI18n();const p=Ne({messageList:[]}),l=F(1);ze(p);const C=[{key:0,title:"\u5168\u90E8"},{key:1,title:"\u8D26\u53F7"},{key:2,title:"\u7206\u5355"},{key:3,title:"\u5173\u505C"},{key:4,title:"\u5F02\u5E38"},{key:5,title:"\u53D1\u5E03\u89C6\u9891"}];te().$state.role==="grayscaleSuperAdmin"&&C.push({key:6,title:"\u5E26\u8D27"});const c=F({pageIndex:1,pageSize:8,readIds:null}),f=F(!1);async function I(){if(!f.value){f.value=!0,d(!0);try{const{data:y}=await Z({...c.value,messageClass:h.value});if(y.grid)if(l.value===1)p.messageList=y.grid,l.value+=1;else{const k=y.grid;for(let m=0;m<k.length;m++)p.messageList.push(k[m])}else l.value===1&&(p.messageList=[]),i.value=!0;y.total<c.value.pageSize&&(i.value=!0)}catch{}finally{d(!1),f.value=!1}}}async function L(){l.value=1,c.value.pageIndex=1,I()}async function T(y){const k=y.map(m=>m.id);d(!0),await Z({pageIndex:1,pageSize:2,readIds:k.join(",")}),d(!1),k.forEach(m=>{const W=rt.findIndex(p.messageList,["id",m]);W>=0&&(p.messageList[W].messageStatus=1)})}const s=D(()=>p.messageList),_=async()=>{if(!f.value){f.value=!0,d(!0);try{const{data:y}=await Z({pageIndex:1,pageSize:8,readIds:"allIds"})}catch{}finally{d(!1),f.value=!1}p.messageList.forEach(y=>{y.messageStatus=2})}},b=D(()=>s.value.filter(y=>!y.status).length),e=y=>p.messageList.filter(m=>m.type===y&&!m.status),g=y=>{const k=e(y);return k.length?`(${k.length})`:""},S=y=>{s.value.length&&T([...y])},E=async()=>{d(!0),await Z({pageIndex:1,pageSize:2,delId:1}),d(!1),p.messageList=[],i.value=!0},R=()=>{c.value.pageIndex+=1,I()};return I(),(y,k)=>{const m=u("a-result"),W=u("a-tab-pane"),A=u("a-button"),V=u("a-popconfirm"),x=u("a-tabs"),j=u("a-spin");return v(),w(j,{style:{display:"block"},loading:B(r)},{default:o(()=>[t(x,{activeKey:h.value,"onUpdate:activeKey":k[2]||(k[2]=M=>h.value=M),type:"rounded","destroy-on-hide":"",onChange:L},{extra:o(()=>[t(A,{type:"text",onClick:k[0]||(k[0]=M=>_())},{default:o(()=>[P(" \u5168\u90E8\u5DF2\u8BFB ")]),_:1}),t(V,{content:"\u786E\u5B9A\u662F\u5426\u6E05\u7A7A\u5168\u90E8\u6D88\u606F\uFF1F",onOk:k[1]||(k[1]=M=>E())},{default:o(()=>[t(A,{type:"text",status:"danger",style:{"margin-left":"10px"}},{default:o(()=>[P(" \u6E05\u7A7A ")]),_:1})]),_:1})]),default:o(()=>[(v(),U(oe,null,re(C,M=>t(W,{key:M.key},{title:o(()=>[a("span",null,q(M.title)+q(g(M.key)),1)]),default:o(()=>[s.value.length?z("",!0):(v(),w(m,{key:0,status:"404"},{subtitle:o(()=>[P(q(y.$t("messageBox.noContent")),1)]),_:1})),t(Ft,{"render-list":s.value,"unread-count":b.value,bottom:i.value,onItemClick:S,onFetchData:R},null,8,["render-list","unread-count","bottom"])]),_:2},1024)),64))]),_:1},8,["activeKey"])]),_:1},8,["loading"])}}});const It=J(wt,[["__scopeId","data-v-24f36164"]]),O=n=>(ne("data-v-044359f9"),n=n(),ue(),n),St={class:"navbar"},$t=O(()=>a("img",{src:"https://img.adyinqing.com/upai_shop/ia0m7jpq1688351929379",alt:"",class:"kf_icon"},null,-1)),Et=O(()=>a("span",{class:"service-text"}," \u8054\u7CFB\u5BA2\u670D ",-1)),Bt=[$t,Et],Lt={class:"left-side"},At={class:"center-side"},Mt={class:"right-side"},Tt={class:"message-box-trigger"},Rt={class:"message-box-trigger"},qt={class:"message-box-trigger"},Nt=O(()=>a("img",{src:"https://img.adyinqing.com/upai_shop/bvzflnri1686563313302",class:"icon_weixin"},null,-1)),zt={style:{"text-align":"center"}},Pt={class:"info"},Ut=O(()=>a("img",{alt:"avatar",src:"https://img.adyinqing.com/upai_shop/jhfbdg3b1682331087978"},null,-1)),Vt={class:"infoContent"},jt=O(()=>a("div",{class:"infoBox"},[a("img",{src:"https://img.adyinqing.com/upai_shop/7svm57bk1688092401046",alt:"",class:"moli_logo"}),P(" \u9B54\u529B\u6295\u653E ")],-1)),Ot={class:"info"},Kt=O(()=>a("img",{src:"https://img.adyinqing.com/upai_shop/sir9w2xm1688093132841",alt:"",class:"next_icon"},null,-1)),Wt={class:"userInfo"},Ht=O(()=>a("div",{class:"label"}," \u767B\u5F55\u8D26\u53F7: ",-1)),Gt={class:"rightValue"},Jt={class:"tag"},Xt={class:"userInfo"},Qt=O(()=>a("div",{class:"label"}," \u624B\u673A\u53F7: ",-1)),Yt={class:"rightValue"},Zt={class:"userInfo"},ea=O(()=>a("div",{class:"label"}," \u8D26\u53F7\u6709\u6548\u671F: ",-1)),ta={class:"rightValue"},aa=O(()=>a("img",{src:"https://img.adyinqing.com/upai_shop/88osk2591688093876167",alt:"",class:"close_icon"},null,-1)),sa=G({__name:"index",setup(n){F("hidden"),F(!1);const i=se(),r=F(!0),d=F(!0),h=ee(),p=Q(),l=te(),{logout:C}=ft();Pe();const{isFullscreen:$,toggle:c}=Ue();D(()=>"https://img.adyinqing.com/upai_shop/bs8uwttd1682329813471");const f=x=>{x==="hide"?(r.value=!1,setTimeout(()=>{d.value=!1},300)):(d.value=!0,setTimeout(()=>{r.value=!0},300))},I=F(Number(localStorage.getItem("msgTotal")));I.value===0&&localStorage.setItem("msgTotal","0");const L=F(0),T=D(()=>p.theme),s=D(()=>p.topMenu&&p.menu),_=Ve({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:"arco-theme",onChanged(x){p.toggleTheme(x)}}),b=x=>{window.open("https://docs.qq.com/doc/DSmhzUXBJb0hHUnVt")},e=je(_),g=()=>{e()};console.log(l.$state,"userStore.$state.userInfo.memberDepId");const S=F();F();const E=()=>{const x=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});S.value.dispatchEvent(x)},R=()=>{C()},y=()=>{h.push({name:"Workplace"})},k=()=>{h.push({name:"userInfo"})},m=Oe("toggleDrawerMenu"),W=()=>{new Audio("https://img.adyinqing.com/y1115.mp3").play()},A=async()=>{const{data:x}=await Z({pageIndex:1,pageSize:20,status:0});x.total>0&&x.total-I.value>0&&(Ke.info({closable:!0,content:x.grid[0].messageText,duration:x.grid[0].messageClass===1?3e7:3e3}),W()),L.value=x.total,I.value=x.total,localStorage.setItem("msgTotal",x.total),setTimeout(A,2e3)};i.name!=="datav"&&A();const V=()=>{window.open("/#/datav","_blank")};return(x,j)=>{const M=u("a-image"),N=u("a-tooltip"),H=u("icon-double-left"),ie=u("icon-menu-fold"),_e=u("a-space"),De=u("icon-book"),X=u("a-button"),Fe=u("icon-notification"),we=u("a-badge"),fe=u("a-popover"),Ie=u("icon-command"),Se=u("icon-moon-fill"),$e=u("icon-sun-fill"),Ee=u("icon-fullscreen-exit"),Be=u("icon-fullscreen"),Le=u("a-avatar");return v(),U("div",St,[a("div",null,[t(N,{position:"left"},{content:o(()=>[t(M,{width:"200",height:"200",src:"https://img.adyinqing.com/upai_shop/q2pf7ijc1701684291556"})]),default:o(()=>[a("div",{class:de(["service",{hide:!r.value}]),onClick:j[0]||(j[0]=Ae=>f("hide"))},Bt,2)]),_:1})]),d.value?z("",!0):(v(),U("div",{key:0,class:"showKf",onClick:j[1]||(j[1]=Ae=>f("show"))},[t(H)])),a("div",Lt,[t(_e,null,{default:o(()=>[t(M,{alt:"logo",width:"150",preview:!1,style:{cursor:"pointer"},src:"https://img.adyinqing.com/upai_shop/80w5yg4h1694596249100",onClick:y}),!s.value&&B(p).device==="mobile"?(v(),w(ie,{key:0,style:{"font-size":"22px",cursor:"pointer"},onClick:B(m)},null,8,["onClick"])):z("",!0)]),_:1})]),a("div",At,[s.value?(v(),w(le,{key:0,ref:"menuleft",class:"guideMenu"},null,512)):z("",!0)]),a("ul",Mt,[a("li",null,[t(N,{content:x.$t("settings.navbar.use")},{default:o(()=>[a("div",Tt,[t(X,{class:"nav_btn_book",type:"primary",onClick:b},{icon:o(()=>[t(De)]),default:o(()=>[P(" \u4F7F\u7528\u6587\u6863 ")]),_:1})])]),_:1},8,["content"])]),a("li",null,[t(N,{content:x.$t("settings.navbar.alerts")},{default:o(()=>[a("div",Rt,[t(we,{count:L.value},{default:o(()=>[t(X,{class:"nav-btn",type:"outline",shape:"circle",onClick:E},{default:o(()=>[t(Fe)]),_:1})]),_:1},8,["count"])])]),_:1},8,["content"]),t(fe,{trigger:"click","arrow-style":{display:"none"},"content-style":{padding:0,minWidth:"400px"},"content-class":"message-popover"},{content:o(()=>[t(It)]),default:o(()=>[a("div",{ref_key:"refBtn",ref:S,class:"ref-btn"},null,512)]),_:1})]),a("li",null,[t(N,null,{content:o(()=>[t(M,{width:"120",src:"https://img.adyinqing.com/upai_shop/nlr17wsn1686562901974"})]),default:o(()=>[a("div",qt,[t(X,{class:"nav-btn",type:"outline",shape:"circle"},{default:o(()=>[Nt]),_:1})])]),_:1})]),a("li",null,[t(N,{content:`
            \u524D\u5F80\u6570\u636E\u5927\u5C4F
          `},{default:o(()=>[t(X,{class:"nav-btn",type:"outline",shape:"circle",onClick:V},{icon:o(()=>[t(Ie)]),_:1})]),_:1})]),a("li",null,[t(N,{content:T.value==="light"?x.$t("settings.navbar.theme.toDark"):x.$t("settings.navbar.theme.toLight")},{default:o(()=>[t(X,{class:"nav-btn",type:"outline",shape:"circle",onClick:g},{icon:o(()=>[T.value==="dark"?(v(),w(Se,{key:0})):(v(),w($e,{key:1}))]),_:1})]),_:1},8,["content"])]),a("li",null,[t(N,{content:B($)?x.$t("settings.navbar.screen.toExit"):x.$t("settings.navbar.screen.toFull")},{default:o(()=>[t(X,{class:"nav-btn",type:"outline",shape:"circle",onClick:B(c)},{icon:o(()=>[B($)?(v(),w(Ee,{key:0})):(v(),w(Be,{key:1}))]),_:1},8,["onClick"])]),_:1},8,["content"])]),a("li",null,[t(fe,{position:"br",trigger:"click","content-class":"infoContent","arrow-style":{display:"none"},"content-style":{padding:"0",border:"none"}},{content:o(()=>[a("div",Vt,[jt,a("div",Ot,[a("div",{class:"titleLi",onClick:k},[P(" \u7528\u6237\u4E2D\u5FC3 "),Kt]),a("div",Wt,[Ht,a("div",Gt,q(B(l).$state.userInfo.memberDepId?B(l).$state.userInfo.memberAccount:B(l).$state.memberAccount),1),a("div",Jt,q(B(l).$state.userInfo.memberDepId?"\u5B50\u8D26\u53F7":"\u4E3B\u8D26\u53F7"),1)]),a("div",Xt,[Qt,a("div",Yt,q(B(l).$state.memberPhone),1)]),a("div",Zt,[ea,a("div",ta,q(B(l).$state.memberExpiredAt),1)]),a("div",{class:"logoutBtn",onClick:R},[aa,P(" \u9000\u51FA\u767B\u5F55 ")])])])]),default:o(()=>[a("div",zt,[t(_e,{direction:"vertical",fill:"",size:[0,0]},{default:o(()=>[a("div",Pt,[t(Le,{size:32,style:{marginRight:"8px",cursor:"pointer"}},{default:o(()=>[Ut]),_:1}),a("span",null,q(B(l).$state.userInfo.memberDepId?B(l).$state.userInfo.memberNickname:B(l).$state.memberNickname),1)])]),_:1})])]),_:1})])])])}}});const oa=J(sa,[["__scopeId","data-v-044359f9"]]),Y=n=>(ne("data-v-17257cfa"),n=n(),ue(),n),na={class:"tag-link"},ua=Y(()=>a("span",null,"\u91CD\u65B0\u52A0\u8F7D",-1)),ia=Y(()=>a("span",null,"\u5173\u95ED\u5F53\u524D\u6807\u7B7E\u9875",-1)),ca=Y(()=>a("span",null,"\u5173\u95ED\u5DE6\u4FA7\u6807\u7B7E\u9875",-1)),la=Y(()=>a("span",null,"\u5173\u95ED\u53F3\u4FA7\u6807\u7B7E\u9875",-1)),ra=Y(()=>a("span",null,"\u5173\u95ED\u5176\u5B83\u6807\u7B7E\u9875",-1)),da=Y(()=>a("span",null,"\u5173\u95ED\u5168\u90E8\u6807\u7B7E\u9875",-1)),pa=G({__name:"tab-item",props:{itemData:{type:Object,default(){return[]}},index:{type:Number,default:0}},setup(n){const i=n,r=ee(),d=se(),h=pe(),p=s=>{r.push({...s})},l=D(()=>h.getTabList),C=D(()=>i.itemData.fullPath!==d.fullPath),$=D(()=>i.index===0),c=D(()=>[0,1].includes(i.index)),f=D(()=>i.index===l.value.length-1),I=(s,_)=>{if(h.deleteTag(_,s),i.itemData.fullPath===d.fullPath){const b=l.value[_-1];r.push({name:b.name})}},L=()=>l.value.findIndex(s=>s.fullPath===d.fullPath),T=async s=>{const{itemData:_,index:b}=i,e=[...l.value];if(s==="current")I(_,b);else if(s==="left"){const g=L();e.splice(1,i.index-1),h.freshTabList(e),g<b&&r.push({name:_.name})}else if(s==="right"){const g=L();e.splice(i.index+1),h.freshTabList(e),g>b&&r.push({name:_.name})}else if(s==="others"){const g=l.value.filter((S,E)=>E===0||E===i.index);h.freshTabList(g),r.push({name:_.name})}else s==="reload"?(h.deleteCache(_),await r.push({name:He,params:{path:d.fullPath}}),h.addCache(_.name)):(h.resetTabList(),r.push({name:Ge}))};return(s,_)=>{const b=u("icon-close"),e=u("icon-refresh"),g=u("a-doption"),S=u("icon-to-left"),E=u("icon-to-right"),R=u("icon-swap"),y=u("icon-folder-delete"),k=u("a-dropdown");return v(),w(k,{trigger:"contextMenu","popup-max-height":!1,onSelect:T},{content:o(()=>[t(g,{disabled:C.value,value:"reload"},{default:o(()=>[t(e),ua]),_:1},8,["disabled","value"]),t(g,{class:"sperate-line",disabled:$.value,value:"current"},{default:o(()=>[t(b),ia]),_:1},8,["disabled","value"]),t(g,{disabled:c.value,value:"left"},{default:o(()=>[t(S),ca]),_:1},8,["disabled","value"]),t(g,{class:"sperate-line",disabled:f.value,value:"right"},{default:o(()=>[t(E),la]),_:1},8,["disabled","value"]),t(g,{value:"others"},{default:o(()=>[t(R),ra]),_:1},8,["value"]),t(g,{value:"all"},{default:o(()=>[t(y),da]),_:1},8,["value"])]),default:o(()=>[a("span",{class:de(["arco-tag arco-tag-size-medium arco-tag-checked",{"link-activated":n.itemData.fullPath===s.$route.fullPath}]),onClick:_[1]||(_[1]=m=>p(n.itemData))},[a("span",na,q(s.$t(n.itemData.title)),1),a("span",{class:"arco-icon-hover arco-tag-icon-hover arco-icon-hover-size-medium arco-tag-close-btn",onClick:_[0]||(_[0]=We(m=>I(n.itemData,n.index),["stop"]))},[t(b)])],2)]),_:1})}}});const _a=J(pa,[["__scopeId","data-v-17257cfa"]]),fa=n=>(ne("data-v-779dead0"),n=n(),ue(),n),ga={class:"tab-bar-container"},ha={class:"tab-bar-box"},ma={class:"tab-bar-scroll"},va={class:"tags-wrap"},ya=fa(()=>a("div",{class:"tag-bar-operation"},null,-1)),ba=G({__name:"index",setup(n){const i=Q(),r=pe(),d=F(),h=D(()=>r.getTabList),p=D(()=>i.navbar?60:0);return ke(()=>i.navbar,()=>{d.value.updatePosition()}),be(l=>{!l.meta.noAffix&&!h.value.some(C=>C.fullPath===l.fullPath)&&r.updateTabList(l)},!0),Je(()=>{Xe()}),(l,C)=>{const $=u("a-affix");return v(),U("div",ga,[t($,{ref_key:"affixRef",ref:d,"offset-top":p.value},{default:o(()=>[a("div",ha,[a("div",ma,[a("div",va,[(v(!0),U(oe,null,re(h.value,(c,f)=>(v(),w(_a,{key:c.fullPath,index:f,"item-data":c},null,8,["index","item-data"]))),128))])]),ya])]),_:1},8,["offset-top"])])}}});const ka=J(ba,[["__scopeId","data-v-779dead0"]]),xa=992;function Ca(){return document.body.getBoundingClientRect().width-1<xa}function Da(n){const i=Q();function r(){if(!document.hidden){const h=Ca();i.toggleDevice(h?"mobile":"desktop"),i.toggleMenu(h)}}const d=Qe(r,100);xe(()=>{n&&d()}),Ye(()=>{pt(window,"resize",d)}),Ze(()=>{_t(window,"resize",d)})}const Fa=G({__name:"page-layout",setup(n){const i=pe(),r=D(()=>i.getCacheList);return(d,h)=>{const p=u("router-view");return v(),w(p,null,{default:o(({Component:l,route:C})=>[t(tt,{name:"fade",mode:"out-in",appear:""},{default:o(()=>[C.meta.ignoreCache?(v(),w(he(l),{key:C.fullPath})):(v(),w(et,{key:1,include:r.value},[(v(),w(he(l),{key:C.fullPath}))],1032,["include"]))]),_:2},1024)]),_:1})}}}),Ce=n=>(ne("data-v-1ee16941"),n=n(),ue(),n),wa={key:0,class:"mark"},Ia=Ce(()=>a("img",{src:"https://img.adyinqing.com/upai_shop/n2w5hwvp1688608894156",alt:"",class:"modal_img"},null,-1)),Sa=Ce(()=>a("div",{class:"text"},"\u6D3B\u52A8\u622A\u6B62\u65E5\u671F\u81F37\u670831\u65E5",-1)),$a={key:0,class:"layout-navbar"},Ea={class:"menu-wrapper"},Ba="60px",La=G({__name:"default-layout",setup(n){const i=F(!1),r=F(-1),d=[{element:".menu-wrapper",title:"\u5BFC\u822A\u680F",body:"\u52A0\u70ED\u8BA1\u5212\u6295\u653E\u7BA1\u7406\uFF0C\u652F\u6301\u6279\u91CF\u642D\u5EFA\u8BA1\u5212\u3001\u667A\u80FD\u76D1\u63A7\u3001\u9AD8\u6295\u4EA7\u590D\u6295\u7B49\u7B49\u9AD8\u6548\u529F\u80FD\uFF0C\u53EF\u524D\u5F80\u4F53\u9A8C",placement:"right",highlightPadding:0},{},{}],h=A=>{r.value=-1,localStorage.setItem("GuideStep","1")},p=async()=>{r.value=-1,await me({guidance:1}),await f.info(),localStorage.setItem("needGuide","false")},l=()=>{i.value=!1,f.$state.guidance===0&&(r.value=0),localStorage.setItem("closeDialog","1")},C=()=>{i.value=!1,localStorage.setItem("closeDialog","1"),f.$state.guidance===0&&(r.value=0),I.push({name:"memberShip"})},$=F(!1),c=Q(),f=te(),I=ee(),L=se(),T=ve();Da(!0);const s=D(()=>c.navbar),_=D(()=>c.menu&&!c.topMenu),b=D(()=>c.hideMenu),e=D(()=>c.footer),g=F("");localStorage.getItem("closeDialog")&&(g.value=localStorage.getItem("closeDialog")),i.value=f.$state.payPop===1&&g.value==="0";const S=ce(f.$state.memberExpiredAt).diff(ce(),"days");if(Date.now()<ce(f.$state.memberExpiredAt).valueOf()&&f.$state.expireReminder!==1&&f.$state.userInfo.memberDepId===0&&S>=0&&S<3){const A=K("img",{src:"https://img.adyinqing.com/upai_shop/q2pf7ijc1701684291556",style:{width:"150px",height:"150px"}}),V=K("span","\u60A8\u7684\u9B54\u529B\u667A\u6295\u8D26\u53F7\u4F7F\u7528\u6709\u6548\u671F\u4E0D\u8DB3"),x=K("span",{style:{color:"rgb(var(--arcoblue-6))"}},`${S+1}`),j=K("span","\u5929\uFF0C\u4E3A\u4E86\u4FDD\u8BC1\u4F60\u7684\u6B63\u5E38\u4F7F\u7528\uFF0C\u60A8\u53EF\u4EE5\u8054\u7CFB\u5BA2\u670D\u7EED\u8D39\uFF01"),M=K("h2",{style:{margin:0,fontSize:"20px"}},"\u8D26\u53F7\u5373\u5C06\u5230\u671F"),N=K(at,{size:0,style:{fontWeight:"bold",fontSize:"14px"}},[V,x,j]),H=K("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",flexDirection:"column",gap:"24px",position:"relative"}},[M,N,A]);st.info({title:"",modalClass:"modalClass",width:600,content:()=>H,okText:"\u67E5\u770B\u4F1A\u5458\u6743\u76CA",async onOk(){window.location.href="/#/memberShip"},async onClose(){await me({expireReminder:1})}})}f.$state.guidance===0&&!i.value&&setTimeout(()=>{r.value=0},800);const E=D(()=>c.menuCollapse?48:c.menuWidth),R=D(()=>c.menuCollapse),y=D(()=>{const A=_.value&&!b.value?{paddingLeft:`${E.value}px`}:{},V=s.value?{paddingTop:Ba}:{};return{...A,...V}}),k=A=>{!$.value||c.updateSettings({menuCollapse:A})};ke(()=>f.role,A=>{A&&!T.accessRouter(L)&&I.push({name:"notFound"})});const m=F(!1),W=()=>{m.value=!1};return ot("toggleDrawerMenu",()=>{m.value=!m.value}),xe(()=>{$.value=!0}),(A,V)=>{const x=u("t-guide"),j=u("a-layout-sider"),M=u("a-drawer"),N=u("a-layout-content"),H=u("a-layout");return v(),U(oe,null,[i.value?(v(),U("div",wa,[a("div",{class:"midBox"},[Ia,a("img",{src:"https://img.adyinqing.com/upai_shop/r9i0fvvi1688609365805",alt:"",class:"close_icon",onClick:l}),Sa,a("div",{class:"herfBtn",onClick:C})])])):z("",!0),t(H,{class:de(["layout",{mobile:B(c).hideMenu}])},{default:o(()=>[t(x,{modelValue:r.value,"onUpdate:modelValue":V[0]||(V[0]=ie=>r.value=ie),steps:d,"hide-prev":"","on-next-step-click":h,"on-skip":p},null,8,["modelValue"]),s.value?(v(),U("div",$a,[t(oa)])):z("",!0),t(H,null,{default:o(()=>[t(H,null,{default:o(()=>[_.value?nt((v(),w(j,{key:0,class:"layout-sider",breakpoint:"xl",collapsed:R.value,collapsible:!0,width:E.value,style:ae({paddingTop:s.value?"60px":""}),"hide-trigger":!0,onCollapse:k},{default:o(()=>[a("div",Ea,[t(le)])]),_:1},8,["collapsed","width","style"])),[[ut,!b.value]]):z("",!0),b.value?(v(),w(M,{key:1,visible:m.value,placement:"left",footer:!1,"mask-closable":"",closable:!1,onCancel:W},{default:o(()=>[t(le)]),_:1},8,["visible"])):z("",!0),t(H,{class:"layout-content",style:ae(y.value)},{default:o(()=>[B(c).tabBar?(v(),w(ka,{key:0})):z("",!0),t(N,null,{default:o(()=>[t(Fa)]),_:1}),e.value?(v(),w(dt,{key:1})):z("",!0)]),_:1},8,["style"])]),_:1})]),_:1})]),_:1},8,["class"])],64)}}});const za=J(La,[["__scopeId","data-v-1ee16941"]]);export{za as default};
