import{d as _e,r,i as fe,f as ge,j as o,o as ve,a as De,e as c,n as e,m as t,q as s,u as P,t as D,a8 as i,M as T,p as he,b as xe,_ as Be}from"./index.f3be9d6e.js";import{u as Ae}from"./loading.b87f2d78.js";import{d as Fe,e as Ye,v as ye,z as Ce,A as be}from"./plant.f4170702.js";import{h as we}from"./enum.5f967a9b.js";import{s as Ee}from"./sph.64c0f6af.js";const g=h=>(he("data-v-1cd10119"),h=h(),xe(),h),Me={class:"container"},Se={class:"upai_content"},ke=g(()=>c("div",{class:"pageTitle"}," \u89C6\u9891\u7BA1\u7406 ",-1)),Ie=g(()=>c("div",{class:"labelText"},"\u52A8\u6001\u641C\u7D22\uFF1A",-1)),Ge=g(()=>c("div",{class:"labelText"},"\u521B\u5EFA\u65F6\u95F4\uFF1A",-1)),He={class:"proCode",style:{display:"flex","align-items":"center"}},ze=g(()=>c("p",null," \u7EDF\u8BA1\u521B\u5EFA\u6210\u529F\u7684\u8BA1\u5212\u7684\u6761\u6570",-1)),Oe=g(()=>c("p",null,"\u622A\u6B62\u4E0A\u4E00\u6B21\u8F6C\u5316\u6210\u529F(\u5373\u51FA\u5355)\u5230\u76EE\u524D\u4E3A\u6B62\u7684\u6D88\u8017\u91D1\u989D",-1)),Ve=g(()=>c("p",{style:{"margin-top":"12px"}},"\u4F8B\u5982\uFF1A\u8BA1\u5212\u52A0\u70ED\u4E2D\uFF0C\u6D88\u8017\u91D1\u989D\u4E3A500\xA5\u3001\u51FA\u5355\u4E3A0\uFF0C\u5219\u7A7A\u8017\u503C\u4E3A500",-1)),Ne={class:"pagination"},Pe=_e({__name:"data",setup(h,{expose:q}){const U=[{label:"\u5F53\u65E5",value:()=>[i().startOf("date").format("YYYY-MM-DD HH:mm:ss"),i().endOf("date").format("YYYY-MM-DD HH:mm:ss")]},{label:"\u6628\u65E5",value:()=>[i().add(-1,"day").startOf("date").format("YYYY-MM-DD HH:mm:ss"),i().add(-1,"day").endOf("date").format("YYYY-MM-DD HH:mm:ss")]},{label:"\u8FD1\u4E00\u5468",value:()=>[i().add(-1,"week").startOf("date").format("YYYY-MM-DD HH:mm:ss"),i().add(-1,"day").endOf("date").format("YYYY-MM-DD HH:mm:ss")]},{label:"\u8FD1\u4E00\u6708",value:()=>[i().add(-1,"month").startOf("date").format("YYYY-MM-DD HH:mm:ss"),i().add(-1,"day").endOf("date").format("YYYY-MM-DD HH:mm:ss")]},{label:"\u672C\u6708",value:()=>[i().startOf("month").startOf("date").format("YYYY-MM-DD HH:mm:ss"),i().endOf("date").format("YYYY-MM-DD HH:mm:ss")]}],j={x:3200,y:500},{loading:R,setLoading:S}=Ae(!0),Y=r(!1),$=r("\u65B0\u5EFA\u8BA1\u5212\u5305"),m=r({name:null,type:1}),k=r(),_={current:1,pageIndex:1,pageSize:10},d=fe({..._}),I=()=>({startDate:i().add(-1,"month").format("YYYY-MM-DD").toString(),endDate:i().format("YYYY-MM-DD").toString(),pageIndex:1,pageSize:10,taskStatus:-1}),p=r(I()),G=r([]);r(0);const L=r([]),W=r([]),J=r([]),K=async()=>{const{data:u}=await Ee({pageIndex:1,pageSize:200,sphType:1});L.value=u.grid},Q=async()=>{const{data:u}=await Fe({pageIndex:1,pageSize:200});W.value=u.grid},X=async()=>{const{data:u}=await Ye({pageIndex:1,pageSize:200});J.value=u.grid};K(),Q(),X();const x=async u=>{S(!0);try{const{data:n}=await ye(u);G.value=n.grid,d.current=u.pageIndex,d.pageIndex=u.pageIndex,d.total=n.total}catch{}finally{S(!1)}},H=u=>{_.pageIndex=u,_.current=u,d.pageIndex=u,d.current=u,x({...p.value,..._})},Z=u=>{_.pageSize=u,d.pageSize=u,x({...p.value,..._})},ee=u=>{p.value.startDate=u[0],p.value.endDate=u[1]},v=()=>{H(1)},te=async u=>{var B;if(await((B=k.value)==null?void 0:B.validate())){u(!1);return}m.value.type===1?(await Ce({name:m.value.name}),T.success({content:"\u6DFB\u52A0\u8BA1\u5212\u5305\u6210\u529F",duration:5*1e3}),await v()):(await be({packageId:m.value.packageId,name:m.value.name}),T.success({content:"\u4FEE\u6539\u8BA1\u5212\u5305\u6210\u529F",duration:5*1e3}),await v()),m.value.name=null,window.setTimeout(()=>{u()},300)},ae=ge(),ue=u=>{ae.push({name:"plantData",query:{videoId:u}})},y=u=>isNaN(u)||Number(u)===0?0:Number(u).toFixed(2),C=r([]),ne=()=>{p.value=I(),C.value=[]};return x({...p.value}),q({fetchData:x}),(u,n)=>{const B=o("Breadcrumb"),z=o("a-input"),A=o("a-form-item"),F=o("a-col"),oe=o("a-range-picker"),b=o("a-button"),le=o("a-link"),se=o("a-typography-text"),f=o("a-space"),w=o("a-row"),O=o("a-form"),V=o("a-card"),ie=o("a-image"),N=o("a-typography-paragraph"),de=o("a-avatar"),l=o("a-table-column"),E=o("icon-question-circle-fill"),M=o("a-tooltip"),re=o("a-progress"),ce=o("a-table"),pe=o("a-pagination"),me=o("a-modal");return ve(),De("div",Me,[c("div",Se,[e(B,{items:["\u6295\u6D41\u7BA1\u7406","\u89C6\u9891\u7BA1\u7406"]}),ke,e(w,null,{default:t(()=>[e(V,{class:"general-card-upai",style:{width:"100%"}},{default:t(()=>[e(w,null,{default:t(()=>[e(F,{flex:1},{default:t(()=>[e(O,{model:p.value,"auto-label-width":"","label-align":"left"},{default:t(()=>[e(w,{gutter:16},{default:t(()=>[e(F,{span:8},{default:t(()=>[e(A,{field:"sphName"},{label:t(()=>[Ie]),default:t(()=>[e(z,{modelValue:p.value.Name,"onUpdate:modelValue":n[0]||(n[0]=a=>p.value.Name=a),placeholder:"\u8BF7\u8F93\u5165\u52A8\u6001\u63CF\u8FF0","allow-clear":"",onPressEnter:v},null,8,["modelValue"])]),_:1})]),_:1}),e(F,{span:8},{default:t(()=>[e(A,{field:"createdTime"},{label:t(()=>[Ge]),default:t(()=>[e(oe,{modelValue:C.value,"onUpdate:modelValue":n[1]||(n[1]=a=>C.value=a),"show-time":"","default-value":[],style:{width:"100%"},shortcuts:U,"shortcuts-position":"left",onChange:ee},null,8,["modelValue"])]),_:1})]),_:1}),e(F,{span:8},{default:t(()=>[e(A,{field:"number","hide-label":!0},{default:t(()=>[e(f,{size:18},{default:t(()=>[e(b,{type:"primary",class:"searchBtn",onClick:v},{default:t(()=>[s(" \u7B5B\u9009 ")]),_:1}),e(b,{type:"outline",class:"refreshBtn",onClick:n[2]||(n[2]=a=>v())},{default:t(()=>[s(" \u5237\u65B0 ")]),_:1}),e(se,{type:"primary"},{default:t(()=>[e(le,{href:"javascript:void(0)",onClick:n[3]||(n[3]=a=>ne())},{default:t(()=>[s("\u91CD\u7F6E\u7B5B\u9009\u6761\u4EF6")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})]),_:1}),e(V,{class:"general-card-upai",style:{width:"100%","padding-bottom":"28px"}},{default:t(()=>[e(ce,{"row-key":"id",pagination:!1,hoverable:!0,loading:P(R),stripe:!1,scroll:j,data:G.value,bordered:!1},{columns:t(()=>[e(l,{title:"\u88AB\u6295\u89C6\u9891",align:"left",fixed:"left",width:350},{cell:t(({record:a})=>[e(f,null,{default:t(()=>[e(ie,{src:a.coverUrl||"http://lf1-xgcdn-tos.pstatp.com/obj/vcloud/vadmin/start.8e0e4855ee346a46ccff8ff3e24db27b.png",width:"80px",height:"100px",style:{width:"80px",height:"100px"}},null,8,["src"]),e(f,{direction:"vertical",fill:""},{default:t(()=>[e(N,{ellipsis:{rows:a.signature.lenght>10?2:1,expandable:a.signature.lenght>10,showTooltip:!0}},{default:t(()=>[s(D(a.signature||"-"),1)]),_:2},1032,["ellipsis"]),c("div",He,[e(de,{style:{"margin-right":"2px"},size:24,"image-url":a.videoAvatar},null,8,["image-url"]),e(N,{copyable:"",style:{"margin-bottom":"0"}},{default:t(()=>[s(D(a.videoNickName||"-"),1)]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:1}),e(l,{title:"","data-index":"estimatedWecoinAmount",align:"center"},{title:t(()=>[e(f,null,{default:t(()=>[s(" \u6295\u653E\u603B\u91D1\u989D "),e(M,{content:"	\u7EDF\u8BA1\u521B\u5EFA\u6210\u529F\u7684\u8BA1\u5212\u6295\u653E\u603B\u91D1\u989D"},{default:t(()=>[e(E)]),_:1})]),_:1})]),_:1}),e(l,{title:"","data-index":"plantCount",align:"center"},{title:t(()=>[e(f,null,{default:t(()=>[s(" \u8BA1\u5212\u6761\u6570 "),e(M,{title:""},{content:t(()=>[ze]),default:t(()=>[e(E)]),_:1})]),_:1})]),_:1}),e(l,{title:"\u6D88\u8017\u6BD4\u4F8B","data-index":"orderSuccess",align:"center",width:170},{cell:t(({record:a})=>[e(re,{percent:Number(y(a.cost/a.estimatedWecoinAmount)),style:{width:"50%"}},null,8,["percent"])]),_:1}),e(l,{title:"\u6D88\u8017\u91D1\u989D","data-index":"cost",align:"center"}),e(l,{title:"\u8BA2\u5355\u6570","data-index":"productOrderCount",align:"center"}),e(l,{title:"\u8425\u4E1A\u989D","data-index":"productPlaceorderGmv",align:"center"}),e(l,{title:"ROI","data-index":"productOrderCount",align:"center"},{cell:t(({record:a})=>[s(D(y(a.productPlaceorderGmv/a.cost)),1)]),_:1}),e(l,{title:"\u5229\u6DA6","data-index":"",align:"center"},{cell:t(({record:a})=>[s(D(y(a.productPlaceorderGmv-a.cost)),1)]),_:1}),e(l,{title:"","data-index":"airCost",align:"center"},{title:t(()=>[e(f,null,{default:t(()=>[s(" \u7A7A\u8017\u503C "),e(M,{title:""},{content:t(()=>[Oe,Ve]),default:t(()=>[e(E)]),_:1})]),_:1})]),_:1}),e(l,{title:"\u5546\u54C1\u70B9\u51FB","data-index":"productClickCountPv",align:"center"}),e(l,{title:"\u6D4F\u89C8","data-index":"exposureCount",align:"center"}),e(l,{title:"\u70B9\u8D5E","data-index":"likeCount",align:"center"}),e(l,{title:"\u8BC4\u8BBA","data-index":"favCount",align:"center"}),e(l,{title:"\u5173\u6CE8","data-index":"followCount",align:"center"}),e(l,{title:"\u52A0\u70ED\u72B6\u6001",align:"center"},{cell:t(({record:a})=>[s(D(P(we)[a.hotStatus]),1)]),_:1}),e(l,{title:"\u66F4\u65B0\u65F6\u95F4","data-index":"updatedAt",align:"center"}),e(l,{align:"center",fixed:"right",title:"\u64CD\u4F5C","data-index":"operations"},{cell:t(({record:a})=>[e(b,{type:"text",size:"small",onClick:Te=>ue(a.videoId)},{default:t(()=>[s(" \u67E5\u770B\u8BA1\u5212 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["loading","data"]),c("div",Ne,[c("div",null,[e(pe,{current:d.pageIndex,"onUpdate:current":n[4]||(n[4]=a=>d.pageIndex=a),"page-size":d.pageSize,"onUpdate:pageSize":n[5]||(n[5]=a=>d.pageSize=a),total:d.total,"show-total":!0,"show-page-size":!0,"page-size-options":[10,20,50,100,200],onChange:H,onPageSizeChange:Z},null,8,["current","page-size","total"])])])]),_:1})]),e(me,{visible:Y.value,"onUpdate:visible":n[7]||(n[7]=a=>Y.value=a),title:$.value,onCancel:n[8]||(n[8]=a=>Y.value=!1),onBeforeOk:te},{default:t(()=>[e(O,{ref_key:"formGpRef",ref:k,model:m.value,"label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:t(()=>[e(A,{field:"name",label:"\u8BA1\u5212\u5305\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u8BA1\u5212\u5305\u540D\u79F0"}]},{default:t(()=>[e(z,{modelValue:m.value.name,"onUpdate:modelValue":n[6]||(n[6]=a=>m.value.name=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title"])])}}});const Le=Be(Pe,[["__scopeId","data-v-1cd10119"]]);export{Le as default};
